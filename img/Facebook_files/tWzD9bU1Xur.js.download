if (self.CavalryLogger) { CavalryLogger.start_js(["\/ZCtFTd"]); }

__d("MessengerDotComStyleXTheme",[],(function(a,b,c,d,e,f){e.exports={"fds-black":"#000000","fds-black-alpha-05":"rgba(0, 0, 0, 0.05)","fds-black-alpha-10":"rgba(0, 0, 0, 0.1)","fds-black-alpha-15":"rgba(0, 0, 0, 0.15)","fds-black-alpha-20":"rgba(0, 0, 0, 0.2)","fds-black-alpha-30":"rgba(0, 0, 0, 0.3)","fds-black-alpha-40":"rgba(0, 0, 0, 0.4)","fds-black-alpha-50":"rgba(0, 0, 0, 0.5)","fds-black-alpha-60":"rgba(0, 0, 0, 0.6)","fds-black-alpha-80":"rgba(0, 0, 0, 0.8)","fds-blue-05":"#ECF3FF","fds-blue-30":"#AAC9FF","fds-blue-40":"#77A7FF","fds-blue-60":"#1877F2","fds-blue-70":"#2851A3","fds-blue-80":"#1D3C78","fds-button-text":"#444950","fds-comment-background":"#F2F3F5","fds-dark-mode-gray-35":"#CCCCCC","fds-dark-mode-gray-50":"#828282","fds-dark-mode-gray-70":"#4A4A4A","fds-dark-mode-gray-80":"#373737","fds-dark-mode-gray-90":"#282828","fds-dark-mode-gray-100":"#1C1C1C","fds-gray-00":"#F5F6F7","fds-gray-05":"#F2F3F5","fds-gray-10":"#EBEDF0","fds-gray-20":"#DADDE1","fds-gray-25":"#CCD0D5","fds-gray-30":"#BEC3C9","fds-gray-45":"#8D949E","fds-gray-70":"#606770","fds-gray-80":"#444950","fds-gray-90":"#303338","fds-gray-100":"#1C1E21","fds-green-55":"#00A400","fds-highlight":"#3578E5","fds-highlight-cell-background":"#ECF3FF","fds-primary-icon":"#1C1E21","fds-primary-text":"#1C1E21","fds-red-55":"#FA383E","fds-soft":"cubic-bezier(.08,.52,.52,1)","fds-spectrum-aluminum-tint-70":"#E4F0F6","fds-spectrum-blue-gray-tint-70":"#CFD1D5","fds-spectrum-cherry":"#F35369","fds-spectrum-cherry-tint-70":"#FBCCD2","fds-spectrum-grape-tint-70":"#DDD5F0","fds-spectrum-grape-tint-90":"#F4F1FA","fds-spectrum-lemon-dark-1":"#F5C33B","fds-spectrum-lemon-tint-70":"#FEF2D1","fds-spectrum-lime":"#A3CE71","fds-spectrum-lime-tint-70":"#E4F0D5","fds-spectrum-orange-tint-70":"#FCDEC5","fds-spectrum-orange-tint-90":"#FEF4EC","fds-spectrum-seafoam-tint-70":"#CAEEF9","fds-spectrum-slate-dark-2":"#89A1AC","fds-spectrum-slate-tint-70":"#EAEFF2","fds-spectrum-teal":"#6BCEBB","fds-spectrum-teal-dark-1":"#4DBBA6","fds-spectrum-teal-dark-2":"#31A38D","fds-spectrum-teal-tint-70":"#D2F0EA","fds-spectrum-teal-tint-90":"#F0FAF8","fds-spectrum-tomato":"#FB724B","fds-spectrum-tomato-tint-30":"#F38E7B","fds-spectrum-tomato-tint-90":"#FDEFED","fds-strong":"cubic-bezier(.12,.8,.32,1)","fds-white":"#FFFFFF","fds-white-alpha-05":"rgba(255, 255, 255, 0.05)","fds-white-alpha-10":"rgba(255, 255, 255, 0.1)","fds-white-alpha-20":"rgba(255, 255, 255, 0.2)","fds-white-alpha-30":"rgba(255, 255, 255, 0.3)","fds-white-alpha-40":"rgba(255, 255, 255, 0.4)","fds-white-alpha-50":"rgba(255, 255, 255, 0.5)","fds-white-alpha-60":"rgba(255, 255, 255, 0.6)","fds-white-alpha-80":"rgba(255, 255, 255, 0.8)","fds-yellow-20":"#FFBA00",accent:"#0099FF","always-white":"#FFFFFF","always-black":"black","always-dark-gradient":"linear-gradient(rgba(0,0,0,0), rgba(0,0,0,0.6))","always-dark-overlay":"rgba(0, 0, 0, 0.4)","always-light-overlay":"rgba(255, 255, 255, 0.4)","always-gray-40":"#65676B","always-gray-75":"#BCC0C4","always-gray-95":"#F0F2F5","attachment-footer-background":"#F0F2F5","background-deemphasized":"#F0F2F5","base-blue":"#1877F2","base-cherry":"#F3425F","base-grape":"#9360F7","base-lemon":"#F7B928","base-lime":"#45BD62","base-pink":"#FF66BF","base-seafoam":"#54C7EC","base-teal":"#2ABBA7","base-tomato":"#FB724B","blue-link":"#216FDB","card-background":"#FFFFFF","card-background-flat":"#F7F8FA","comment-background":"rgba(134, 142, 153, 0.1)","comment-footer-background":"#F6F9FA","dataviz-primary-1":"rgb(48,200,180)","disabled-button-background":"#E4E6EB","disabled-button-text":"#BCC0C4","disabled-icon":"#BCC0C4","disabled-text":"#BCC0C4",divider:"#CED0D4","event-date":"#F3425F","filter-accent":"invert(50%) sepia(94%) saturate(3979%) hue-rotate(183deg) brightness(104%) contrast(103%)","filter-always-white":"invert(100%)","filter-disabled-icon":"invert(80%) sepia(6%) saturate(200%) saturate(120%) hue-rotate(173deg) brightness(98%) contrast(89%)","filter-placeholder-icon":"invert(59%) sepia(11%) saturate(200%) saturate(135%) hue-rotate(176deg) brightness(96%) contrast(94%)","filter-primary-icon":"invert(8%) sepia(10%) saturate(200%) saturate(200%) saturate(166%) hue-rotate(177deg) brightness(104%) contrast(91%)","filter-secondary-icon":"invert(39%) sepia(21%) saturate(200%) saturate(109.5%) hue-rotate(174deg) brightness(94%) contrast(86%)","filter-warning-icon":"invert(77%) sepia(29%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(128%) hue-rotate(359deg) brightness(102%) contrast(107%)","filter-blue-link-icon":"invert(30%) sepia(98%) saturate(200%) saturate(200%) saturate(200%) saturate(166.5%) hue-rotate(192deg) brightness(91%) contrast(101%)","filter-positive":"invert(37%) sepia(61%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(115%) hue-rotate(91deg) brightness(97%) contrast(105%)","filter-negative":"invert(25%) sepia(33%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(200%) saturate(110%) hue-rotate(345deg) brightness(132%) contrast(96%)","glimmer-spinner-icon":"#65676B","hero-banner-background":"#FFFFFF","hosted-view-selected-state":"rgba(0, 0, 0, 0.04)","highlight-bg":"#E7F3FF","hover-overlay":"rgba(0, 0, 0, 0.05)","media-hover":"rgba(68, 73, 80, 0.15)","media-inner-border":"rgba(0, 0, 0, 0.1)","media-outer-border":"#FFFFFF","media-pressed":"rgba(68, 73, 80, 0.35)","messenger-card-background":"#FFFFFF","messenger-reply-background":"#F0F2F5","overlay-alpha-80":"rgba(244, 244, 244, 0.8)","overlay-on-media":"rgba(0, 0, 0, 0.6)","nav-bar-background":"#FFFFFF","nav-bar-background-gradient":"linear-gradient(to top, #FFFFFF, rgba(255,255,255.9), rgba(255,255,255,.7), rgba(255,255,255,.4), rgba(255,255,255,0))","nav-bar-background-gradient-wash":"linear-gradient(to top, #F0F2F5, rgba(240,242,245.9), rgba(240,242,245,.7), rgba(240,242,245,.4), rgba(240,242,245,0))",negative:"hsl(350, 87%, 55%)","negative-background":"hsl(350, 87%, 55%, 20%)","new-notification-background":"#E7F3FF","non-media-pressed":"rgba(68, 73, 80, 0.15)","non-media-pressed-on-dark":"rgba(255, 255, 255, 0.3)","notification-badge":"#F02849","placeholder-icon":"#8A8D91","placeholder-text":"#8A8D91","placeholder-text-on-media":"rgba(255, 255, 255, 0.5)","popover-background":"#FFFFFF",positive:"#5AD539","positive-background":"#DEEFE1","press-overlay":"rgba(0, 0, 0, 0.10)","primary-button-background":"#0099FF","primary-button-background-experiment":"#1B74E4","primary-button-pressed":"#77A7FF","primary-button-text":"#FFFFFF","primary-deemphasized-button-background":"#E7F3FF","primary-deemphasized-button-pressed":"rgba(0, 0, 0, 0.05)","primary-deemphasized-button-pressed-overlay":"rgba(25, 110, 255, 0.15)","primary-deemphasized-button-text":"#1877F2","primary-icon":"#050505","primary-text":"#050505","primary-text-on-media":"#FFFFFF","primary-web-focus-indicator":"#D24294","progress-ring-neutral-background":"rgba(0, 0, 0, 0.2)","progress-ring-neutral-foreground":"#000000","progress-ring-on-media-background":"rgba(255, 255, 255, 0.2)","progress-ring-on-media-foreground":"#FFFFFF","progress-ring-blue-background":"rgba(24, 119, 242, 0.2)","progress-ring-blue-foreground":"hsl(214, 89%, 52%)","progress-ring-disabled-background":"rgba(190,195,201, 0.2)","progress-ring-disabled-foreground":"#BEC3C9","scroll-thumb":"#BCC0C4","scroll-shadow":"0 1px 2px rgba(0, 0, 0, 0.1), 0 -1px rgba(0, 0, 0, 0.1) inset","secondary-button-background":"#f5f5f5","secondary-button-background-floating":"#ffffff","secondary-button-background-on-dark":"rgba(0, 0, 0, 0.4)","secondary-button-pressed":"rgba(0, 0, 0, 0.05)","secondary-button-stroke":"transparent","secondary-button-text":"#050505","secondary-icon":"#65676B","secondary-text":"#65676B","secondary-text-on-media":"rgba(255, 255, 255, 0.9)","section-header-text":"#4B4C4F","shadow-1":"rgba(0, 0, 0, 0.1)","shadow-2":"rgba(0, 0, 0, 0.2)","shadow-5":"rgba(0, 0, 0, 0.5)","shadow-8":"rgba(0, 0, 0, 0.8)","shadow-inset":"rgba(255, 255, 255, 0.5)","surface-background":"#FFFFFF","text-highlight":"rgba(24, 119, 242, 0.2)","toggle-active-background":"#E7F3FF","toggle-active-icon":"rgb(24, 119, 242)","toggle-active-text":"rgb(24, 119, 242)","toggle-button-active-background":"#E7F3FF",wash:"#E4E6EB","web-wash":"#F0F2F5",warning:"hsl(40, 89%, 52%)","fb-logo-color":"#2D88FF","dialog-anchor-vertical-padding":"0px","header-height":"0px","button-corner-radius":"6px","card-corner-radius":"8px","fds-animation-enter-exit-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-enter-exit-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-swap-shuffle-in":"cubic-bezier(0.14, 1, 0.34, 1)","fds-animation-swap-shuffle-out":"cubic-bezier(0.45, 0.1, 0.2, 1)","fds-animation-move-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-move-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-in":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-expand-collapse-out":"cubic-bezier(0.17, 0.17, 0, 1)","fds-animation-passive-move-in":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-passive-move-out":"cubic-bezier(0.5, 0, 0.1, 1)","fds-animation-quick-move-in":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-quick-move-out":"cubic-bezier(0.1, 0.9, 0.2, 1)","fds-animation-fade-in":"cubic-bezier(0, 0, 1, 1)","fds-animation-fade-out":"cubic-bezier(0, 0, 1, 1)","fds-duration-extra-extra-short-in":"100ms","fds-duration-extra-extra-short-out":"100ms","fds-duration-extra-short-in":"200ms","fds-duration-extra-short-out":"150ms","fds-duration-short-in":"280ms","fds-duration-short-out":"200ms","fds-duration-medium-in":"400ms","fds-duration-medium-out":"350ms","fds-duration-long-in":"500ms","fds-duration-long-out":"350ms","fds-duration-extra-long-in":"1000ms","fds-duration-extra-long-out":"1000ms","fds-duration-none":"0ms","fds-fast":"200ms","fds-slow":"400ms","font-family-apple":"system-ui, -apple-system, BlinkMacSystemFont, '.SFNSText-Regular', sans-serif","font-family-code":"ui-monospace, Menlo, Consolas, Monaco, monospace","font-family-default":"Helvetica, Arial, sans-serif","font-family-segoe":"Segoe UI Historic, Segoe UI, Helvetica, Arial, sans-serif","dataviz-primary-2":"rgb(134,218,255)","dataviz-primary-3":"rgb(95,170,255)","dataviz-secondary-1":"rgb(118,62,230)","dataviz-secondary-2":"rgb(147,96,247)","dataviz-secondary-3":"rgb(219,26,139)","dataviz-supplementary-1":"rgb(255,122,105)","dataviz-supplementary-2":"rgb(241,168,23)","dataviz-supplementary-3":"rgb(49,162,76)","dataviz-supplementary-4":"rgb(50,52,54)"}}),null);
__d("MWChatContactsContainerQuery.graphql",["relay-runtime"],(function(a,b,c,d,e,f){"use strict";a=function(){var a=[{defaultValue:null,kind:"LocalArgument",name:"numContactsToFetch"},{defaultValue:null,kind:"LocalArgument",name:"scale"}],b=[{kind:"Variable",name:"count",variableName:"numContactsToFetch"}],c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null};return{fragment:{argumentDefinitions:a,kind:"Fragment",metadata:null,name:"MWChatContactsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{args:b,kind:"FragmentSpread",name:"MWChatContacts_viewer"}],storageKey:null}],type:"Query",abstractKey:null},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"MWChatContactsContainerQuery",selections:[{alias:null,args:null,concreteType:"Viewer",kind:"LinkedField",name:"viewer",plural:!1,selections:[{alias:null,args:b,concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},c,{kind:"TypeDiscriminator",abstractKey:"__isProfile"},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"last_active_time",storageKey:null}]}],type:"User",abstractKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:[{kind:"Literal",name:"height",value:36},{kind:"Variable",name:"scale",variableName:"scale"},{kind:"Literal",name:"width",value:36}],concreteType:"Image",kind:"LinkedField",name:"profile_picture",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"uri",storageKey:null}],storageKey:null}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_status_viewable",storageKey:null},c],storageKey:null}],storageKey:null}]},params:{id:"3230831476954634",metadata:{},name:"MWChatContactsContainerQuery",operationKind:"query",text:null}}}();a.params.id!=null&&b("relay-runtime").PreloadableQueryRegistry.set(a.params.id,a);e.exports=a}),null);
__d("MWChatContacts_viewer.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[{defaultValue:null,kind:"LocalArgument",name:"count"}],kind:"Fragment",metadata:null,name:"MWChatContacts_viewer",selections:[{alias:null,args:[{kind:"Variable",name:"count",variableName:"count"}],concreteType:null,kind:"LinkedField",name:"chat_sidebar_contacts",plural:!0,selections:[{alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null},{kind:"InlineFragment",selections:[{kind:"ClientExtension",selections:[{alias:null,args:null,kind:"ScalarField",name:"availability",storageKey:null}]}],type:"User",abstractKey:null},{args:null,kind:"FragmentSpread",name:"MWChatContact_profile"}],storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"chat_visibility",storageKey:null},{alias:null,args:null,concreteType:"PresenceViewerBasedSettings",kind:"LinkedField",name:"presence_view_side_settings",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"is_active_status_viewable",storageKey:null}],storageKey:null},{args:null,kind:"FragmentSpread",name:"MWChatContact_viewer"}],type:"Viewer",abstractKey:null};e.exports=a}),null);
__d("MWQuickPromotionDesktopInterstitialUpsellQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"6349457505079875",metadata:{},name:"MWQuickPromotionDesktopInterstitialUpsellQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("MWQuickPromotionThreadlistBannerQuery$Parameters",[],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:"3797219670344300",metadata:{},name:"MWQuickPromotionThreadlistBannerQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometCreateVideoCallLinkIcon.react",["ix","fbicon"],(function(a,b,c,d,e,f,g,h){"use strict";a=d("fbicon")._(h("1388374"),20);b=a;g["default"]=b}),98);
__d("MDSVideoIcon.react",["CometSVGIcon.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");a=function(){var a=h.jsx(c("CometSVGIcon.react"),{color:"primary",size:28,viewBox:"0 0 36 36",children:h.jsx("path",{clipRule:"evenodd",d:"M9 9.5a4 4 0 00-4 4v9a4 4 0 004 4h10a4 4 0 004-4v-9a4 4 0 00-4-4H9zm16.829 12.032l3.723 1.861A1 1 0 0031 22.5v-9a1 1 0 00-1.448-.894l-3.723 1.861A1.5 1.5 0 0025 15.81v4.38a1.5 1.5 0 00.829 1.342z",fillRule:"evenodd"})});return a};b=a;e=b;g["default"]=e}),98);
__d("MessengerLSCreateRoomCallButton.react",["fbt","CometLazyPopoverTrigger.react","JSResourceForInteraction","MDSVideoIcon.react","TetraCircleButton.react","VideoChatLinksUserActionsTypedLoggerLite","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=c("JSResourceForInteraction")("MessengerLSRoomPickerMenuContainer.react").__setRef("MessengerLSCreateRoomCallButton.react"),k=h._("Create New Room"),l="messenger_inbox",m=function(){return c("VideoChatLinksUserActionsTypedLoggerLite").log({component:"messenger_inbox_meetup_select_media_type_button",event:"meetup_select_media_entry_point_clicked",surface:l})};function a(){return i.jsx(c("CometLazyPopoverTrigger.react"),{align:"middle",popoverProps:{onClose:function(){}},popoverResource:j,position:"below",children:function(a,b){return i.jsx(c("TetraCircleButton.react"),{icon:c("MDSVideoIcon.react"),label:k,onPress:function(){b(),m()},ref:a,size:36,testid:void 0})}},"room")}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerLSCreateVideoCallLink.react",["fbt","CometCircleButton.react","CometProgressRingIndeterminate.react","MessengerLSCreateRoomCallButton.react","cr:11065","gkx","qex","react","useMWChatNewVideoChat"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=(e=c("qex")._("372"))!=null?e:!1;function a(){var a=h._("Create New Room"),d=c("useMWChatNewVideoChat")(),e=d[0];d=d[1];var f=c("gkx")("1777407"),g=f?"messenger_inbox":"messenger_inbox_on_comet";return d||!1?i.jsx("div",{className:"scb9dxdr sj5x9vvc dflh9lhu cxgpxx05 taijpn5t cbu4d94t pq6dq46d rq0escxv bp9cbjyn",children:i.jsx(c("CometProgressRingIndeterminate.react"),{color:"disabled",size:20})}):j?i.jsx(c("MessengerLSCreateRoomCallButton.react"),{}):i.jsx(c("CometCircleButton.react"),{icon:b("cr:11065"),label:a,onPress:function(){return e(g)},size:36,testid:void 0})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatContacts.react",["fbt","CometHomeContactsConfig","CometHomeContactsPresenceAwareList.react","CometRelay","MWChatContact.react","MWChatContacts_viewer.graphql","TetraText.react","orEmptyArray","qex","react","useMWChatOpenTabForUser"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=d("react");function a(a){var e=a.lsEntryPoint,f=a.preventLocalNavigation,g=a.selectedThreadKey,k=a.showCount;k=k===void 0?!1:k;a=a.viewer$key;var l=d("CometRelay").useFragment(i!==void 0?i:i=b("MWChatContacts_viewer.graphql"),a);a=c("orEmptyArray")(l==null?void 0:l.chat_sidebar_contacts);var m=c("useMWChatOpenTabForUser")("sidebar",e),n=m[0];m[1];m=c("qex")._("971346");m=m===!0?(l==null?void 0:(m=l.presence_view_side_settings)==null?void 0:m.is_active_status_viewable)===!0:(l==null?void 0:l.chat_visibility)===!0;a=a.filter(function(a){return(a==null?void 0:a.id)!=null&&a.availability==="ACTIVE"});a=a.slice(0,c("CometHomeContactsConfig").numContactsToFetch).map(function(a){var b=j.jsx(c("MWChatContact.react"),{lsEntryPoint:e,openTabForUser:n,preventLocalNavigation:f,profile:a,selected:g!=null&&g===a.id,viewer:l});return j.jsx("li",{children:b},a.id)});return j.jsxs(j.Fragment,{children:[k?j.jsx(c("TetraText.react"),{color:"secondary",type:"body4",children:j.jsx("div",{className:"lb8aey2d f10w8fjw oj5qckz4 pybr56ya hcukyx3x w0hvl6rk cxmmr5t8 qjjbsfad",children:h._("Active contacts ({active count})",[h._param("active count",a.length)])})}):null,j.jsx(c("CometHomeContactsPresenceAwareList.react"),{active:m,children:a})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatContactsContainer.react",["CometHomeContactsConfig","CometRelay","MWChatContacts.react","MWChatContactsContainerQuery.graphql","WebPixelRatio","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react");function a(a){var e=d("CometRelay").useLazyLoadQuery(h!==void 0?h:h=b("MWChatContactsContainerQuery.graphql"),{numContactsToFetch:c("CometHomeContactsConfig").numContactsToFetch,scale:d("WebPixelRatio").get()});e=e==null?void 0:e.viewer;if(e==null){c("recoverableViolation")("Viewer is null so we're unable to render the contact list container","messenger_web_product");return null}var f=a.lsEntryPoint||"unknown";return i.jsx(c("MWChatContacts.react"),babelHelpers["extends"]({viewer$key:e},a,{lsEntryPoint:f}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MessengerThreadlistFooterDesktopAppLink.bs",["fbt","ix","CometPressable.react","MDSRow.react","MDSRowItem.react","MWPTextCommon.react","MessengerDesktopPromoEventLogger","TetraIcon.react","UserAgent","XMessengerDotComDesktopControllerRouteBuilder","fbicon","gkx","react","stylex","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={root:{boxShadow:"usczdcwk",minHeight:"iihba337",":hover":{textDecoration:"p8dawk7l"},paddingTop:"jb3vyjys",paddingEnd:"gl4o1x5y",paddingBottom:"qt6c0cv9",paddingStart:"lt9micmv"},button:{display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn"},icon:{marginEnd:"fv0vnmcu"}};function a(a){var c=k.useRef(!1),d=k.useRef(b("uuid")()).current;k.useEffect(function(){c.current||(c.current=!0,b("MessengerDesktopPromoEventLogger").log({location:"MessengerThreadlistFooterDesktopAppLink",event:"Impression",funnelSessionId:d}))},[]);a=b("XMessengerDotComDesktopControllerRouteBuilder").buildUri({funnel_session_id:d}).setDomain("www.messenger.com").setProtocol("https").setFragment("startDownload").toString();a=b("gkx")("3674")?"https://www.microsoft.com/p/messenger/9wzdncrf0083":a;var e=k.useCallback(function(a){b("MessengerDesktopPromoEventLogger").log({location:"MessengerThreadlistFooterDesktopAppLink",event:"Click",funnelSessionId:d})},[]),f=b("UserAgent").isPlatform("Windows")?g._("New! Messenger app for Windows"):b("UserAgent").isPlatform("Mac OS X")?g._("New! Messenger app for Mac"):g._("New! Messenger app for desktop");return k.jsx(b("MDSRow.react"),{paddingHorizontal:8,paddingVertical:8,verticalAlign:"center",expanding:!0,spacing:0,xstyle:l.root,children:k.jsx(b("MDSRowItem.react"),{expanding:!0,children:k.jsx(b("CometPressable.react"),{"aria-label":f,expanding:!0,linkProps:{target:"_blank",url:a},onPress:e,overlayOffset:10,overlayRadius:6,children:k.jsxs("div",{className:(j||(j=b("stylex")))(l.button),children:[k.jsx("span",{className:j(l.icon),children:k.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("520490"),16),color:"overlay"})}),k.jsx(b("MWPTextCommon.react"),{align:"center",type:"bodyLink3",children:f.toString()})]})})})})}c=a;f.styles=l;f.make=c}),null);
__d("MessengerThreadlistFooterOpenInAppLink.bs",["fbt","ix","CometPressable.react","MDSRow.react","MDSRowItem.react","MWPTextCommon.react","MessengerDesktopDeeplinkEventFalcoEvent","TetraIcon.react","XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder","fbicon","react","stylex","uuid"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={root:{boxShadow:"usczdcwk",minHeight:"iihba337",":hover":{textDecoration:"p8dawk7l"},paddingTop:"jb3vyjys",paddingEnd:"gl4o1x5y",paddingBottom:"qt6c0cv9",paddingStart:"lt9micmv"},button:{display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn"},icon:{marginEnd:"fv0vnmcu"}};function a(a){var c=k.useRef(!1),d=k.useRef(b("uuid")()).current;k.useEffect(function(){c.current||(c.current=!0,b("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"messenger_threadlist_open_in_app_impression",eventLocation:"browser",eventType:"thread",funnelSessionId:d,mobile_app_source:"unknown"}}))});a=b("XMessengerDotComDesktopLaunchAppInterstitialControllerRouteBuilder").buildUri({funnel_session_id:d,thread:void 0,origin:"MSG"}).setDomain("www.messenger.com").setProtocol("https").toString();var e=k.useCallback(function(a){b("MessengerDesktopDeeplinkEventFalcoEvent").log(function(a){return{event:"messenger_threadlist_open_in_app_click",eventLocation:"browser",eventType:"thread",funnelSessionId:d,mobile_app_source:"unknown"}})},[]),f=g._("Open Messenger app");return k.jsx(b("MDSRow.react"),{paddingHorizontal:8,paddingVertical:8,verticalAlign:"center",expanding:!0,spacing:0,xstyle:l.root,children:k.jsx(b("MDSRowItem.react"),{expanding:!0,children:k.jsx(b("CometPressable.react"),{"aria-label":f,expanding:!0,linkProps:{target:"_blank",url:a},onPress:e,overlayOffset:10,overlayRadius:6,children:k.jsxs("div",{className:(j||(j=b("stylex")))(l.button),children:[k.jsx("span",{className:j(l.icon),children:k.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("505620"),20),color:"overlay"})}),k.jsx(b("MWPTextCommon.react"),{align:"center",type:"bodyLink3",children:f.toString()})]})})})})}c=a;f.styles=l;f.make=c}),null);
__d("LSUserControlButton.bs",["fbt","CometLazyPopoverTrigger.react","CometPressable.react","JSResource","LSContactType.bs","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_caml","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){return i.jsx("svg",{width:"26",height:"26",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.317298 13.767L5.37312 18.8229C5.79583 19.2461 6.48204 19.2461 6.90474 18.8229L17.016 8.7107C17.4391 8.28783 17.4391 7.60136 17.016 7.1785C16.593 6.75528 15.9071 6.75528 15.4841 7.1785L6.13875 16.5248L1.84928 12.2348C1.42622 11.8112 0.740361 11.8112 0.317298 12.2348C-0.105766 12.6576 -0.105766 13.3438 0.317298 13.767ZM23.6881 12.2778H22.5333V12.28H20.8008C20.3395 12.28 20.0644 12.7941 20.3201 13.1776L22.6306 16.6428C22.8592 16.9857 23.363 16.9857 23.5916 16.6428L25.9021 13.1776C26.1579 12.7941 25.8827 12.28 25.4214 12.28H23.6881V12.2778Z",fill:"white"})})}c={make:j};var k={button:{borderTopStartRadius:"cmek9o9a",borderTopEndRadius:"p7f4f6cj",borderBottomEndRadius:"c8oo3d72",borderBottomStartRadius:"r15kkdkt",display:"j83agx80",justifyContent:"taijpn5t",alignItems:"bp9cbjyn",width:"f8ljpb73"}};function l(a){var c=a.thread,d=a.color;return i.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("LSUserControlMenu.react").__setRef("LSUserControlButton.bs"),disableAutoFlip:!0,popoverProps:{thread:c},align:"end",position:"below",children:function(a,c,e,f,h,l,m){return i.jsx(b("CometPressable.react"),{"aria-label":g._("Page options"),ref:a,onPress:function(a){return b("bs_curry")._1(c,void 0)},overlayDisabled:!0,xstyle:function(a){return[k.button]},style:{backgroundColor:d},children:i.jsx(j,{})})}})}d={styles:k,make:l};function a(a){var c=a.thread;a=a.color;var d=b("ReStore.bs").useHook(void 0),e=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"participants").asc,{hd:c.a,tl:0}),function(c){var a=b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"contacts").asc,{hd:c.b,tl:0}));return[c,a]})},[d,JSON.stringify(c.a)])),f=b("MWLSActor.bs").useActor(void 0);e=e.find(function(a){return b("bs_caml").i64_neq(a[0].b,f)});if(e===void 0)return null;var g=e[1];if(g!==void 0&&b("bs_caml").i64_eq(g.q,b("LSContactType.bs").page))return i.jsx(l,{thread:c,contact:g,participant:e[0],color:a});else return null}e=a;f.Checkmark=c;f.UserControlButton=d;f.make=e}),null);
__d("MessengerRoomsChatJoinRoomButtonQueryWebGraphQLQuery",["WebGraphQLQueryBase"],(function(a,b,c,d,e,f){"use strict";e.exports=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}b.__getDocID=function(){return"5693838310688902"};b.getQueryID=function(){return"331111661891102"};return b}(b("WebGraphQLQueryBase"))}),null);
__d("MessengerRoomsChatJoinRoomButtonUtils",["MessengerRoomsChatJoinRoomButtonQueryWebGraphQLQuery","WebGraphQL","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";function a(a){var d;return b("regeneratorRuntime").async(function(e){while(1)switch(e.prev=e.next){case 0:e.next=2;return b("regeneratorRuntime").awrap(c("WebGraphQL").exec(new(c("MessengerRoomsChatJoinRoomButtonQueryWebGraphQLQuery"))({thread_id:a})));case 2:d=e.sent;return e.abrupt("return",d);case 4:case"end":return e.stop()}},null,this)}g.fetchRoomUrl=a}),98);
__d("RoomsChatUserActionsFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],(function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("1744333");c=b("FalcoLoggerInternal").create("rooms_chat_user_actions",a);e.exports=c}),null);
__d("ZenonAbstractButton.react",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a,b){var c=a["aria-label"],d=a.children,e=a["data-hover"],f=a.disabled;f=f===void 0?!1:f;var g=a.label,j=a.onClick,k=a.showLabelWhenDisabled;k=k===void 0?!1:k;a=babelHelpers.objectWithoutPropertiesLoose(a,["aria-label","children","data-hover","disabled","label","onClick","showLabelWhenDisabled"]);return h.jsxs("button",babelHelpers["extends"]({"aria-disabled":f,"aria-label":c,"data-hover":f&&!k?"none":e,disabled:f&&!k,onClick:f?i:j,ref:b,type:"button"},a,{children:[d,h.jsx("span",{className:"lanauo1g ah27w7js alrytcbg hgsucude rb9yzgxv mc69vkn9 sqk0u2jd",children:g})]}))}a.displayName=a.name+" [from "+f.id+"]";function i(a){a.preventDefault()}b=h.forwardRef(a);g["default"]=b}),98);
__d("MessengerLSJoinRoomButton.react",["fbt","ix","Image.react","MessengerRoomsChatJoinRoomButtonUtils","RoomsChatUserActionsFalcoEvent","URI","ZenonAbstractButton.react","promiseDone","react","stylex"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useEffect,l=b.useState;function a(a){var b=a.threadFBID;a=l(null);var e=a[0],f=a[1];a=l(null);var g=a[0],m=a[1];a=l(null);var n=a[0],o=a[1];k(function(){c("promiseDone")(d("MessengerRoomsChatJoinRoomButtonUtils").fetchRoomUrl(b),function(a){var b;m(a==null?void 0:(b=a.fetch__MessengerViewerChatForRoomThread)==null?void 0:(b=b.rtc_room_door)==null?void 0:b.link_url);o(a==null?void 0:(b=a.fetch__MessengerViewerChatForRoomThread)==null?void 0:(b=b.rtc_room_door)==null?void 0:b.link_hash);f(a==null?void 0:(b=a.fetch__MessengerViewerChatForRoomThread)==null?void 0:(a=b.rtc_room_door)==null?void 0:a.is_audio_only)})},[m,b,n,o,f]);return g!=null&&n!=null&&e!=null?j.jsxs(c("ZenonAbstractButton.react"),{className:"f6ux2lec s1hqh9jm q5qw6xdq jjot6st7 k27skwkl fsf7x5fv h5fs5mea dtqh1a21 pdqhzjwd jao8r537 rt34pxt2 js4msrqk ggolc4ur iwso50tu f5m7p0br im547bx5",onClick:function(){c("RoomsChatUserActionsFalcoEvent").log(function(){var a;return{event:"button_tap",event_type:"header_video_button",extra_data:null,funnel_session_id:"",link_hash:n,thread_fbid:(a=b)!=null?a:"0"}}),c("URI").goURIOnNewWindow(g)},children:[j.jsx(c("Image.react"),{src:e?i("395818"):i("377019")}),j.jsx("span",{className:"eay0q90j iryl7rsq eohcrkr5 igjjae4c nfkogyam",children:h._("JOIN")})]}):null}a.displayName=a.name+" [from "+f.id+"]";c("stylex").inject(".nfkogyam{font-size:0.8125rem}",1);c("stylex").inject(".igjjae4c{font-weight:bold}",1);c("stylex").inject(".eohcrkr5{height:16px}",1);c("stylex").inject(".iryl7rsq{width:32px}",1);c("stylex").inject(".eay0q90j{margin-left:6.5px}",1,".eay0q90j{margin-right:6.5px}");c("stylex").inject(".im547bx5{background-color:#5AD539}",1);c("stylex").inject(".f5m7p0br{border-top:none}",.3);c("stylex").inject(".iwso50tu{border-right:none}",.3,".iwso50tu{border-left:none}");c("stylex").inject(".ggolc4ur{border-bottom:none}",.3);c("stylex").inject(".js4msrqk{border-left:none}",.3,".js4msrqk{border-right:none}");c("stylex").inject(".rt34pxt2{border-top-left-radius:18px}",1,".rt34pxt2{border-top-right-radius:18px}");c("stylex").inject(".jao8r537{border-top-right-radius:18px}",1,".jao8r537{border-top-left-radius:18px}");c("stylex").inject(".pdqhzjwd{border-bottom-right-radius:18px}",1,".pdqhzjwd{border-bottom-left-radius:18px}");c("stylex").inject(".dtqh1a21{border-bottom-left-radius:18px}",1,".dtqh1a21{border-bottom-right-radius:18px}");c("stylex").inject(".h5fs5mea{color:white}",1);c("stylex").inject(".fsf7x5fv{cursor:pointer}",1);c("stylex").inject(".k27skwkl{height:28px}",1);c("stylex").inject(".jjot6st7{width:fit-content}",1);c("stylex").inject(".q5qw6xdq{padding-left:16px}",1);c("stylex").inject(".s1hqh9jm{padding-right:16px}",1);c("stylex").inject(".f6ux2lec{padding-bottom:2.5px}",1);g["default"]=a}),98);
__d("MWInboxHeaderButtons.bs",["fbt","CometPressable.react","CurrentEnvironment","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSUserControlButton.bs","MDSRow.react","MDSRowItem.react","MWChatRTCButton.bs","MWChatRTCButtonIcons.bs","MWLSRTCDisplayStatus.bs","MWLSStartPhoneCall.bs","MWLSTheme.bs","MWPTooltip.react","MWTheme.bs","MWThread_DEPRECATED.bs","MessengerLSJoinRoomButton.react","bs_curry","gkx","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={rowItem:{alignItems:"bp9cbjyn",display:"j83agx80",height:"qu8okrzs",justifyContent:"taijpn5t",paddingTop:"ipjc6fyt",paddingEnd:"p8fzw8mz",paddingBottom:"iuny7tx3",paddingStart:"pcp91wgn",width:"eim337gk"},iconContainer:{alignItems:"bp9cbjyn",display:"pq6dq46d",height:"mudddibn",justifyContent:"taijpn5t",position:"l9j0dhe7",width:"ciadx1gn"},iconOverlay:{start:"j9ispegn",position:"pmk7jnqg",width:"k4urcfbm",height:"datstx6m",opacity:"b5wmifdl",top:"kr520xx4",borderTopStartRadius:"mdpwds66",borderTopEndRadius:"b2cqd1jy",borderBottomEndRadius:"n13yt9zj",borderBottomStartRadius:"eh67sqbx"},iconOverlayActive:{opacity:"lupvgy83"}};function a(a){var c=a.thread,d=a.info,e=a.setInfo;a=a.isReachable;a=a!==void 0?a:!0;var f=b("MWThread_DEPRECATED.bs").useFBID(void 0),h=b("MWLSRTCDisplayStatus.bs").useHook(void 0),l=b("MWLSStartPhoneCall.bs").useMakeRTCCall(void 0),m=l[0];l=b("MWLSTheme.bs").useTheme(c.a);l=b("MWTheme.bs").top(l);var n=h===0,o=g._("Conversation information");return j.jsxs(b("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",children:[j.jsx(b("LSUserControlButton.bs").make,{thread:c,color:l}),a&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").rtcVoiceCall,c)&&n?j.jsx(b("MDSRowItem.react"),{xstyle:[k.rowItem],children:j.jsx(b("MWChatRTCButton.bs").audio,{fill:l,label:g._("Start a voice call"),size:"34px",onPress:function(a){return b("bs_curry")._3(m,!1,f,"inbox_thread_header")},overlayDisabled:!0})}):null,a&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").rtcVoiceCall,c)&&n?j.jsx(b("MDSRowItem.react"),{xstyle:[k.rowItem],children:j.jsx(b("MWChatRTCButton.bs").video,{fill:l,label:g._("Start a video call"),disabled:h===1,size:"34px",onPress:function(a){return b("bs_curry")._3(m,!0,f,"inbox_thread_header")},showPresence:!1,overlayDisabled:!0})}):null,b("gkx")("1943249")?j.jsx(b("MessengerLSJoinRoomButton.react"),{threadFBID:f}):null,j.jsx(b("MDSRowItem.react"),{xstyle:[k.rowItem],children:j.jsx(b("MWPTooltip.react"),{tooltip:o,align:"middle",position:"above",children:j.jsx(b("CometPressable.react"),{"aria-label":o,onPress:function(a){return b("bs_curry")._1(e,function(a){return!d})},overlayDisabled:!0,children:j.jsxs("div",{className:(i||(i=b("stylex")))(k.iconContainer),children:[j.jsx("div",{className:i(k.iconOverlay,d&&b("CurrentEnvironment").facebookdotcom?k.iconOverlayActive:!1),style:{backgroundColor:l}}),b("bs_curry")._2(b("MWChatRTCButtonIcons.bs").Info.icon,l,d)]})})})})]})}c=a;f.styles=k;f.make=c}),null);
__d("LSContactLink.bs",["CometLink.react","CurrentEnvironment","FBID.bs","MWLSContactTypeExactUtils.bs","XCometVanityURLControllerRouteBuilder","bs_caml_option","bs_int64","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.contact,d=a.children;a=a.testid;var e=c.K,f=b("MWLSContactTypeExactUtils.bs").isIgContact(c);if(e!==void 0&&f){f={href:"https://www.instagram.com/"+e,target:"_blank",children:d};a!==void 0&&(f.testid=a);return h.jsx(b("CometLink.react"),f)}e={href:(b("CurrentEnvironment").facebookdotcom?"":"https://www.facebook.com")+b("XCometVanityURLControllerRouteBuilder").buildURL({vanity:b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.a))}),children:d};f=b("CurrentEnvironment").facebookdotcom?void 0:"_blank";f!==void 0&&(e.target=b("bs_caml_option").valFromOption(f));a!==void 0&&(e.testid=a);return h.jsx(b("CometLink.react"),e)}c=a;f.make=c}),null);
__d("MWPresenceText.bs",["fbt","CometRelativeTimestamp.react","MWChatContactPresenceHook.bs","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml","bs_caml_option","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){if(a!==void 0)return b("bs_caml_option").some(i.jsx(b("CometRelativeTimestamp.react"),{date:new Date(a),format:"minimized"}))}function k(a){a=a.contactId;var c=b("MWChatContactPresenceHook.bs").useIsActive(a);a=b("MWChatContactPresenceHook.bs").useLastActiveTimestampMs(a);if(c)return g._("Active now");c=j(a);if(c!==void 0)return g._("Active {time} ago",[g._param("time",b("bs_caml_option").valFromOption(c))]);else return null}d={make:k};function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=a.a;a=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:e,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,d)})},[c,d,JSON.stringify(e)]));if(a!==void 0)return i.jsx(k,{contactId:a.b});else return null}e={fromLastActiveTimestampMs:j,PresenceText:d,useHook:a};function c(a){var c=a.a;a=b("bs_int64").to_string(c);var d=b("ReStore.bs").useHook(void 0),e=b("MWLSActor.bs").useActor(void 0);a=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"participants").asc,{hd:c,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,e)})},[d,a]));a=a.map(function(a){return a.b});a=b("MWChatContactPresenceHook.bs").useHasActiveContact(a);if(a)return g._("Active now")}d={useHook:c};f.OneOnOne=e;f.Group=d}),null);
__d("LSPresenceStatusText.bs",["MWPresenceText.bs","MessagingThreadType.bs","bs_caml","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.thread,d=a.startContent;a=a.endContent;c=b("MWPresenceText.bs").OneOnOne.useHook(c);if(c===null)return null;else return h.jsxs(h.Fragment,{children:[d,c,a]})}c={make:i};function j(a){var c=a.thread,d=a.startContent;a=a.endContent;c=b("MWPresenceText.bs").Group.useHook(c);if(c!==void 0)return h.jsxs(h.Fragment,{children:[d,c,a]});else return null}d={make:j};function a(a){var c=a.thread,d=a.startContent;a=a.endContent;d=d!==void 0?b("bs_caml_option").valFromOption(d):null;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;var e=c.c;if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").oneToOne))return h.jsx(i,{thread:c,startContent:d,endContent:a});else if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").group))return h.jsx(j,{thread:c,startContent:d,endContent:a});else return null}e=a;f.OneOnOnePresence=c;f.GroupPresence=d;f.make=e}),null);
__d("LSVerificationBadge.bs",["CometPageVerificationIcon.react","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_belt_Array","bs_belt_Option","bs_caml","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={badge:{paddingStart:"scb9dxdr"}};function a(a){var c=a.thread;a=a.size;var d=b("ReStore.bs").useHook(void 0),e=b("ReQLSubscription.bs").useArray(i.useMemo(function(){var a,e=b("ReQLSuspense.bs").firstExn((a=b("ReQL.bs")).map(b("ReQLTable").table(d,"_user_info").asc,function(a){return a.b}));return a.map(a.filter(a.getKeyRange(b("ReQLTable").table(d,"participants").asc,{hd:c.a,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,e)}),function(a){var c=b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"contacts").asc,{hd:a.b,tl:0}));return[a,c]})},[d,JSON.stringify(c.a)]));if(e.length!==1)return null;e=b("bs_belt_Array").get(e,0);if(e===void 0)return null;e=e[1];if(e!==void 0&&b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").verified,e),!1))return i.jsx("span",{className:(h||(h=b("stylex")))(j.badge),children:i.jsx(b("CometPageVerificationIcon.react"),{size:a,verificationBadge:"BLUE_VERIFIED"})});else return null}c=a;f.styles=j;f.make=c}),null);
__d("MWInboxHeaderDetails.bs",["CometMiddot.react","CometPlaceholder.react","LSContactLink.bs","LSPresenceStatusText.bs","LSRtcCallState.bs","LSThreadTitle.bs","LSVerificationBadge.bs","LsThreadType.bs","MWCMInboxHeaderCommunityGroupName.bs","MWChatHeaderDetailsSubtitle.bs","MWLSContactTypeExactUtils.bs","MWPTextCommon.react","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Array","bs_caml","bs_caml_int64","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={container:{display:"j83agx80",flexDirection:"cbu4d94t",alignItems:"ll8tlv6m",justifyContent:"bkfpd7mw",flexGrow:"buofh1pr",minHeight:"qx9c56kf"},title:{marginTop:"aahdfvyu",marginBottom:"bi6gxh9e"},item:{maxWidth:"d2edcug0",display:"j83agx80",alignItems:"bp9cbjyn"}};function a(a){var c=a.thread,d=a.threadNameSize,e=a.color;a=a.isTitleALink;a=a!==void 0?a:!0;var f=b("ReStore.bs").useHook(void 0),g=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"contacts").asc,{hd:c.a,tl:0})},[f,JSON.stringify(c.a)])),k=b("bs_caml").i64_eq(c.c,b("LsThreadType.bs").communityGroup);if(b("bs_caml").i64_eq(c.c,b("MessagingThreadType.bs").oneToOne)){g=b("bs_belt_Array").get(g.filter(b("MWLSContactTypeExactUtils.bs").isIgContact).map(function(a){return a.K}),0);if(g!==void 0){g=b("bs_caml_option").valFromOption(g);g=g!==void 0?g:null}else g=null}else g=null;var l=b("bs_caml").i64_eq(c.l,b("bs_caml_int64").neg_one)||b("bs_caml").i64_gt(c.l,b("bs_caml_int64").of_float(Date.now())),m=b("bs_caml").i64_neq(c.u,b("LSRtcCallState.bs").noOngoingCall),n=i.jsx(b("CometMiddot.react"),{});a=b("bs_caml").i64_eq(c.c,b("MessagingThreadType.bs").oneToOne)&&a?i.jsx(b("LSThreadTitle.bs").make,{thread:c,wrapOutput:function(a,c,d){return i.jsx(b("LSContactLink.bs").make,{contact:a,participant:c,children:d})}}):i.jsx(b("LSThreadTitle.bs").make,{thread:c});d={align:"center",isSemanticHeading:!0,type:d,numberOfLines:1,children:[a,i.jsx(b("CometPlaceholder.react"),{children:i.jsx(b("LSVerificationBadge.bs").make,{thread:c,size:"small"}),fallback:null})],testid:"mw_inbox_header_details_title"};e!==void 0&&(d.color=b("bs_caml_option").valFromOption(e));a={align:"center",type:"meta3",numberOfLines:1,children:[g,k?i.jsx(b("MWCMInboxHeaderCommunityGroupName.bs").make,{thread:c}):i.jsxs(i.Fragment,{children:[(m||l)&&g!==null?n:null,m?i.jsx(b("MWChatHeaderDetailsSubtitle.bs").ongoingCall,{}):i.jsx(b("LSPresenceStatusText.bs").make,{thread:c,startContent:g!==null?n:null,endContent:l?n:null})]}),l&&m?n:null,l?i.jsx(b("MWChatHeaderDetailsSubtitle.bs").mutedIcon,{forceInlineDisplay:!0}):null]};e!==void 0&&(a.color=b("bs_caml_option").valFromOption(e));return i.jsxs("div",{className:(h||(h=b("stylex")))(j.container),children:[i.jsx("div",{className:h(j.item,j.title),children:i.jsxs(b("MWPTextCommon.react"),d)}),i.jsx("div",{className:h(j.item),children:i.jsxs(b("MWPTextCommon.react"),a)})]})}c=a;f.styles=j;f.make=c}),null);
__d("MWInboxHeaderDetailsContainer.bs",["CometPlaceholder.react","MDSRow.react","MDSRowItem.react","MWInboxHeaderDetails.bs","MWThreadPicture.bs","bs_caml_option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=a.photoSize,e=a.badgeSize,f=a.threadNameSize,g=a.color;a=a.isTitleALink;d=d!==void 0?d:"s_40";e=e!==void 0?e:10;f=f!==void 0?f:"headlineEmphasized3";f={thread:c,threadNameSize:f};g!==void 0&&(f.color=b("bs_caml_option").valFromOption(g));a!==void 0&&(f.isTitleALink=b("bs_caml_option").valFromOption(a));return h.jsx(b("MDSRow.react"),{paddingHorizontal:0,paddingVertical:0,verticalAlign:"center",expanding:!0,children:h.jsxs(b("CometPlaceholder.react"),{children:[h.jsx(b("MDSRowItem.react"),{children:h.jsx(b("MWThreadPicture.bs").make,{photoSize:d,badgeSize:e,thread:c})}),h.jsx(b("MDSRowItem.react"),{expanding:!0,children:h.jsx(b("MWInboxHeaderDetails.bs").make,f)})],fallback:"suspending"})})}c=a;f.make=c}),null);
__d("MWInboxHeader.bs",["CurrentEnvironment","MAWGating.bs","MDSRow.react","MWInboxHeaderButtons.bs","MWInboxHeaderDetailsContainer.bs","MWThread_DEPRECATED.bs","MWUIParticipantDetails.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.thread,d=a.info;a=a.setInfo;var e=b("MWThread_DEPRECATED.bs").useFBID(void 0);e=b("bs_curry")._1(b("MWUIParticipantDetails.bs").useParticipantReachabilityStatus,e);return h.jsx(b("MWInboxHeaderButtons.bs").make,{thread:c,info:d,setInfo:a,isReachable:e})}c={make:i};function j(a){var c=a.threadId,d=a.thread,e=a.info;a=a.setInfo;return typeof c==="object"&&c.NAME==="User"?h.jsx(i,{thread:d,info:e,setInfo:a}):h.jsx(b("MWInboxHeaderButtons.bs").make,{thread:d,info:e,setInfo:a})}d={make:j};function a(a){var c=a.thread,d=a.info;a=a.setInfo;var e=b("MWThread_DEPRECATED.bs").useIdExn(void 0),f=b("MAWGating.bs").isArmadillo(void 0)&&b("CurrentEnvironment").messengerdotcom?["p_12","p_10","s_36",9,"headlineEmphasized5"]:["p_16","p_12","s_40",10,"headlineEmphasized3"];return h.jsxs(b("MDSRow.react"),{paddingHorizontal:function(){switch(f[0]){case"p_0":return 0;case"p_4":return 4;case"p_8":return 8;case"p_12":return 12;case"p_16":return 16}}(),paddingVertical:function(){switch(f[1]){case"p_0":return 0;case"p_4":return 4;case"p_8":return 8;case"p_10":return 10;case"p_12":return 12;case"p_16":return 16}}(),verticalAlign:"center",children:[h.jsx(b("MWInboxHeaderDetailsContainer.bs").make,{thread:c,photoSize:f[2],badgeSize:f[3],threadNameSize:f[4]}),h.jsx(j,{threadId:e,thread:c,info:d,setInfo:a})]})}e=h.memo(a);f.UserThreadInboxHeaderButtons=c;f.InboxHeaderButtonsWrapper=d;f.make=e}),null);
__d("BaseMultiStepContainer.re",["BaseMultiStepContainer.react"],(function(a,b,c,d,e,f){a=b("BaseMultiStepContainer.react");f.makeTypeChecked=a;c=a;f.make=c}),null);
__d("MWCMEditThreadInfoDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResource","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread;a=a.children;return h.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWCMCreateEditChatDialog.react").__setRef("MWCMEditThreadInfoDialogTrigger.bs"),dialogProps:{onClose:function(a){},thread:c,lsEntryPoint:"inboxThreadList"},children:b("bs_curry").__2(a)})}c=a;f.make=c}),null);
__d("MWInboxInfoActionsSectionIcons.bs",["cr:1724557"],(function(a,b,c,d,e,f){"use strict";c=(a=b("cr:1724557")).EditNicknames;d=a.ChangeChatName;e=a.ChangePhoto;b=a.Search;var g=a.LeaveChat;f.$MDSInboxInfoActionsSectionIcons$OR$TetraInboxInfoActionsSectionIcons$requireCond=a;f.EditNicknames=c;f.ChangeChatName=d;f.ChangePhoto=e;f.Search=b;f.LeaveChat=g}),null);
__d("MWCMEditThreadInfo.bs",["fbt","MWCMEditThreadInfoDialogTrigger.bs","MWInboxInfoActionsSectionIcons.bs","TetraListCell.react","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._("Change chat name and description");function a(a){a=a.thread;return i.jsx(b("MWCMEditThreadInfoDialogTrigger.bs").make,{thread:a,children:function(a,c){return i.jsx(b("TetraListCell.react"),{headline:j,addOnPrimary:b("MWInboxInfoActionsSectionIcons.bs").ChangeChatName.primaryAddOn,headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)}})}})}c=a;f.title=j;f.make=c}),null);
__d("MWInboxInfoEditEmoji.bs",["fbt","CometLazyDialogTrigger.react","JSResource","MWLikeSvgIcon.bs","MWTheme.bs","TetraListCell.react","bs_curry","cr:10742","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={iconContainer:{alignItems:"bp9cbjyn",display:"pq6dq46d",fontSize:"o3w64lxj",justifyContent:"taijpn5t"}},l=g._("Change emoji");function a(a){a=a.thread;var c=a.w,d=b("MWTheme.bs").useTheme(void 0),e=b("MWTheme.bs").bottom(d),f=j.useMemo(function(){if(c!==void 0&&c!=="")return{color:"transparent",size:24,emojiSize:20,emoji:c,type:"emoji"};var a=function(a){return j.jsx("span",{role:"presentation",className:(i||(i=b("stylex")))(k.iconContainer),children:j.jsx(b("MWLikeSvgIcon.bs").make,{color:e})})};return{alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:a,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:void 0,ref:void 0,size:void 0,linkProps:void 0,type:"icon"}},[c,e]);return j.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatCustomizeEmojiDialog").__setRef("MWInboxInfoEditEmoji.bs"),dialogProps:{threadKey:a.a,onClose:function(a){}},children:function(a,d){if(b("cr:10742")==null)return j.jsx(b("TetraListCell.react"),{headline:l,addOnPrimary:f,headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_change_emoji_button"});var g;d=0;c!==void 0&&c!==""?g=j.jsx("span",{role:"presentation",className:(i||(i=b("stylex")))(k.iconContainer),children:j.jsx(b("MWLikeSvgIcon.bs").make,{color:e})}):d=1;d===1&&(g=j.jsx("span",{role:"presentation",className:(i||(i=b("stylex")))(k.iconContainer),children:j.jsx(b("MWLikeSvgIcon.bs").make,{color:e})}));return j.jsx(b("cr:10742").make,{addOnStart:g,label:l,onPress:function(c){return b("bs_curry")._1(a,void 0)}})}})}c=b("cr:10742");d=a;f.styles=k;f.$MAWInboxInfoButton$OR$null$requireCond=b("cr:10742");f.mawInboxInfoButton=c;f.title=l;f.make=d}),null);
__d("MWInboxInfoEditNicknames.bs",["fbt","CometLazyDialogTrigger.react","JSResource","MWInboxInfoActionsSectionIcons.bs","TetraIcon.react","TetraListCell.react","bs_curry","cr:10742","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._("Edit nicknames");function a(a){a=a.thread;return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("LSNicknameDialog.react").__setRef("MWInboxInfoEditNicknames.bs"),dialogProps:{thread:a,onClose:function(a){}},children:function(a,c){if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{headline:j,addOnPrimary:b("MWInboxInfoActionsSectionIcons.bs").EditNicknames.primaryAddOn,headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_edit_nicknames_button"});else return i.jsx(b("cr:10742").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoActionsSectionIcons.bs").EditNicknames.icon}),label:j,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_edit_nicknames_button"})}})}c=a;f.$MAWInboxInfoButton$OR$null$requireCond=b("cr:10742");f.make=c}),null);
__d("MWInboxInfoEditPhoto.bs",["fbt","CometFileSelector.re","DTSG","LS.bs","LSMailboxUpdateThreadImageStoredProcedure","LSTransaction.bs","MWInboxInfoActionsSectionIcons.bs","Promise","ReStore.bs","TetraIcon.react","TetraListCell.react","bs_belt_Array","bs_caml_option","bs_curry","cometAsyncFetch","cometPushToast","cr:10742","promiseDone","react","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._("Change Photo");function a(a){var c=a.thread,d=b("ReStore.bs").useHook(void 0),e=i.useCallback(function(a){return function(e){var f=b("LSTransaction.bs").run(d,function(d){return b("LSMailboxUpdateThreadImageStoredProcedure")(c.a,a,e!==void 0?b("bs_caml_option").valFromOption(e):void 0,void 0,void 0,b("bs_curry")._1(b("LS.bs").make,d))},"readWrite");b("promiseDone")(f,void 0,void 0)}},[d,JSON.stringify(c.a)]),f=function(a){b("cometPushToast").cometPushErrorToast({message:"Unable to set group picture"})};a=function(a){a=a.item(0);if(a==null){b("recoverableViolation")("file input onChange without any files?","messenger");return f(void 0)}var c=new FormData();c.set("images_only",!0);c.set("fb_dtsg",b("DTSG").getToken());c.set("attachment[]",a,a.name);a=b("cometAsyncFetch")("/ajax/mercury/upload.php",{method:"POST",data:{},formData:c}).then(function(a){var c;if(a==null)c=!1;else{a=a.metadata;if(a==null)c=!1;else{a=b("bs_belt_Array").get(a,0);if(a!==void 0){a=b("bs_caml_option").valFromOption(a);var d=a.image_id;a=a.src;d!==void 0&&a!==void 0?(b("bs_curry")._2(e,d,b("bs_caml_option").valFromOption(a)),c=!0):c=!1}else c=!1}}c||f(void 0);return b("Promise").resolve(void 0)})["catch"](function(a){f(void 0);b("recoverableViolation")(a.toString(),"messenger");return b("Promise").resolve(void 0)});b("promiseDone")(a,void 0,void 0)};return i.jsx(b("CometFileSelector.re").make,{accept:[".jpg",".png",".jpeg",".bmp",".tif",".tiff"],children:function(a){if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{headline:j,addOnPrimary:b("MWInboxInfoActionsSectionIcons.bs").ChangePhoto.primaryAddOn,headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)}});else return i.jsx(b("cr:10742").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoActionsSectionIcons.bs").ChangePhoto.icon}),label:j,onPress:function(c){return b("bs_curry")._1(a,void 0)}})},onFilesSelected:a})}c=a;f.$MAWInboxInfoButton$OR$null$requireCond=b("cr:10742");f.make=c}),null);
__d("MWInboxInfoEditTheme.bs",["fbt","CometLazyDialogTrigger.react","JSResource","MWTheme.bs","TetraListCell.react","bs_curry","cr:10742","gkx","react","useCometUniqueID","useSetAttributeRef"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){var b=function(a){if(a.TAG===0)return a._0.label;else return a._0.label};return"mw_edit_theme_svg:"+b(a)}var k=b("gkx")("571")?"24":"20",l=g._("Change theme");function m(a){a=b("MWTheme.bs").useTheme(void 0);var c=b("MWTheme.bs").bottom(a),d=b("useCometUniqueID")(),e=b("useSetAttributeRef")("id",d);d=b("useSetAttributeRef")("mask","url(#"+(d+")"));e=i.jsxs(i.Fragment,{children:[i.jsx("defs",{children:i.jsxs("mask",{ref:e,children:[i.jsx("rect",{width:"100%",height:"100%",fill:"white"}),i.jsx("circle",{cx:"12",cy:"12",r:"3",fill:"black"})]})}),i.jsx("circle",{cx:"12",cy:"12",r:"9",fill:c,ref:d})]});c={role:"presentation",height:k,width:k,fill:"none",viewBox:"0 0 24 24"};c["data-testid"]=j(a);return i.createElement("svg",c,e)}c={make:m};function a(a){return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatCustomizeThemeDialog").__setRef("MWInboxInfoEditTheme.bs"),dialogProps:{onClose:function(a){}},children:function(a,c){if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{headline:l,addOnPrimary:{alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:m,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:void 0,ref:void 0,size:void 0,linkProps:void 0,type:"icon"},headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_inbox_edit_theme_button"});else return i.jsx(b("cr:10742").make,{addOnStart:i.jsx(m,{}),label:l,onPress:function(c){return b("bs_curry")._1(a,void 0)}})}})}d=a;f.$MAWInboxInfoButton$OR$null$requireCond=b("cr:10742");f.ColorWheelSvgIcon=c;f.make=d}),null);
__d("MWEditThreadNameDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResource","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread;a=a.children;return h.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWV2ThreadNameDialog.react").__setRef("MWEditThreadNameDialogTrigger.bs"),dialogProps:{thread:c,onClose:function(a){}},children:b("bs_curry").__2(a)})}c=a;f.make=c}),null);
__d("MWInboxInfoEditThreadName.bs",["fbt","MWEditThreadNameDialogTrigger.bs","MWInboxInfoActionsSectionIcons.bs","TetraIcon.react","TetraListCell.react","bs_curry","cr:10742","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._("Change chat name");function a(a){a=a.thread;return i.jsx(b("MWEditThreadNameDialogTrigger.bs").make,{thread:a,children:function(a,c){if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{headline:j,addOnPrimary:b("MWInboxInfoActionsSectionIcons.bs").ChangeChatName.primaryAddOn,headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)}});else return i.jsx(b("cr:10742").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoActionsSectionIcons.bs").ChangeChatName.icon}),label:j,onPress:function(c){return b("bs_curry")._1(a,void 0)}})}})}c=a;f.$MAWInboxInfoButton$OR$null$requireCond=b("cr:10742");f.make=c}),null);
__d("MWInboxInfoSearchInConversation.bs",["fbt","MWInboxInfoActionsSectionIcons.bs","TetraIcon.react","TetraListCell.react","cr:10742","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=g._("Search in conversation");function a(a){a=a.toggleSearch;if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{headline:j,addOnPrimary:b("MWInboxInfoActionsSectionIcons.bs").Search.primaryAddOn,headlineLineLimit:1,level:4,onPress:a,testid:"mw_search_in_conversation_button"});else return i.jsx(b("cr:10742").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoActionsSectionIcons.bs").Search.icon}),label:j,onPress:a,testid:"mw_search_in_conversation_button"})}c=a;f.$MAWInboxInfoButton$OR$null$requireCond=b("cr:10742");f.make=c}),null);
__d("MWInboxPersistedUIState.bs",["WebStorage","bs_caml_option","react","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=(h||(h=b("WebStorage"))).getLocalStorage();function a(a,c){var d=i.useState(function(){var d=j.getItem(c);if(d==null)return a;try{d=b("bs_caml_option").some(JSON.parse(d))}catch(a){b("recoverableViolation")("Unable to parse value at "+c,"messenger_web_product"),d=void 0}if(d!==void 0)return b("bs_caml_option").valFromOption(d);else return a}),e=d[0];i.useEffect(function(){var a=JSON.stringify(e);if(a!==void 0){a=(h||(h=b("WebStorage"))).setItemGuarded(j,c,a);a==null||b("recoverableViolation")("Unable to set item at path "+c,"messenger_web_product")}},[e,c]);return[e,d[1]]}f.localStorage=j;f.useHook=a}),null);
__d("MWInboxInfoActionsSection.bs",["fbt","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MWCMEditThreadInfo.bs","MWInboxInfoEditEmoji.bs","MWInboxInfoEditNicknames.bs","MWInboxInfoEditPhoto.bs","MWInboxInfoEditTheme.bs","MWInboxInfoEditThreadName.bs","MWInboxInfoSearchInConversation.bs","MWInboxPersistedUIState.bs","MWLSFeatureLimitedStatus.bs","MWListCell.bs","MessagingThreadType.bs","TetraListCell.react","bs_caml","bs_caml_option","bs_curry","cr:10733","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");c=b("cr:10733")==null?void 0:b("bs_caml_option").some(b("cr:10733"));function a(a){var c,d=a.thread;a=a.toggleSearch;var e=b("MWInboxPersistedUIState.bs").useHook(!1,"__MWInboxInfoActionsSection.isOpen__"),f=e[1],h=e[0],j=(e=b("LSThreadBitOffset.bs")).has((c=b("LSThreadCapabilityBitOffset.bs")).threadNameCustomization,d),k=e.has(c.threadDescriptionCustomization,d),l=e.has(c.threadPhotoCustomization,d),m=e.has(c.colorCustomization,d),n=e.has(c.emojiCustomization,d);e=e.has(c.nicknames,d);c=b("gkx")("1846003");var o=b("gkx")("1848989")&&!b("gkx")("971")&&b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").searchInConversation,d),p=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0)&&b("gkx")("1992357"),q=b("bs_caml").i64_eq(d.c,b("MessagingThreadType.bs").communityGroup)||b("bs_caml").i64_eq(d.c,b("MessagingThreadType.bs").communityGroupUnjoined);k=[q&&j&&k&&!p?i.jsx(b("MWCMEditThreadInfo.bs").make,{thread:d},"0"):null,!q&&j&&!p?i.jsx(b("MWInboxInfoEditThreadName.bs").make,{thread:d},"1"):null,l&&!p?i.jsx(b("MWInboxInfoEditPhoto.bs").make,{thread:d},"2"):null,m&&!p?i.jsx(b("MWInboxInfoEditTheme.bs").make,{},"3"):null,n&&!p?i.jsx(b("MWInboxInfoEditEmoji.bs").make,{thread:d},"4"):null,e&&!p&&c?i.jsx(b("MWInboxInfoEditNicknames.bs").make,{thread:d},"5"):null,o?i.jsx(b("MWInboxInfoSearchInConversation.bs").make,{toggleSearch:a},"6"):null];q=k.some(function(a){return a!==null});if(q)if(b("cr:10733")==null)return i.jsx(b("TetraListCell.react"),{headline:g._("Customise chat"),addOnSecondary:b("MWListCell.bs").SecondaryAddOn.expander({children:k,open:h,type:"expander"}),emphasized:!0,level:4,onPress:function(a){return b("bs_curry")._1(f,function(a){return!h})},testid:"mw_inbox_customize_chat_button"});else return i.jsx(b("cr:10733").make,{children:k,onPress:function(a){return b("bs_curry")._1(f,function(a){return!h})},label:g._("Customise chat"),isOpen:h,testid:"mw_inbox_customize_chat_button"});else return null}d=a;f.$MWCollapsible$requireCond=b("cr:10733");f.mWCollapsible=c;f.make=d}),null);
__d("MWInboxInfoDetailsSection.bs",["CometColumn.react","CometColumnItem.react","CometPlaceholder.react","LSContactLink.bs","LSPresenceStatusText.bs","LSThreadTitle.bs","LSVerificationBadge.bs","MWFacepile.bs","MWLSContactTypeExactUtils.bs","MWPTextCommon.react","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","TetraTextPairing.react","bs_belt_Option","bs_caml","bs_caml_option","cr:10565","cr:10566","cr:587","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread;a=a.toggleSearch;var d=b("ReStore.bs").useHook(void 0),e=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"contacts").asc,{hd:c.a,tl:0}),b("MWLSContactTypeExactUtils.bs").isIgContact)},[d,JSON.stringify(c.a)])));if(e&&b("bs_caml").i64_eq(c.c,b("MessagingThreadType.bs").oneToOne)){e=c.B;e=e!==void 0?b("bs_caml_option").some(e):void 0}else e=void 0;var f=function(a){a=a.thread;if(b("cr:10565")==null)if(b("cr:10566")==null)return null;else return h.jsx(b("cr:10566").make,{photoSize:"s_80",badgeSize:14,thread:a});var c=a.f;if(c!==void 0)return h.jsx(b("cr:10565").make,{imageUri:c,shape:"circle",size:72});else return h.jsx(b("MWFacepile.bs").make,{thread:a,photoSize:"s_80",badgeSize:14})},g={headline:h.jsxs(h.Fragment,{children:[h.jsx(b("LSThreadTitle.bs").make,{thread:c,wrapOutput:function(a,c,d){return h.jsx(b("LSContactLink.bs").make,{contact:a,participant:c,children:d,testid:"mw_inbox_info_details_section_title"})}}),h.jsx(b("CometPlaceholder.react"),{children:h.jsx(b("LSVerificationBadge.bs").make,{thread:c,size:"large"}),fallback:null})]}),level:3,textAlign:"center"};e!==void 0&&(g.meta=b("bs_caml_option").valFromOption(e));return h.jsxs(b("CometColumn.react"),{children:[h.jsx(b("CometColumnItem.react"),{align:"center",paddingVertical:16,children:h.jsx(f,{thread:c})}),h.jsx(b("CometColumnItem.react"),{align:"center",paddingHorizontal:16,paddingTop:0,paddingVertical:16,children:h.jsx(b("TetraTextPairing.react"),g)}),h.jsx(b("CometColumnItem.react"),{align:"center",children:h.jsx(b("CometPlaceholder.react"),{children:h.jsx(b("MWPTextCommon.react"),{align:"center",color:"secondary",type:"body4",children:h.jsx(b("LSPresenceStatusText.bs").make,{thread:c})}),fallback:null})}),b("cr:587")==null?null:h.jsx(b("CometColumnItem.react"),{children:h.jsx(b("cr:587").make,{thread:c,toggleSearch:a})})]})}c=a;f.$MDSProfilePhoto$OR$null$requireCond=b("cr:10565");f.$MWInboxInfoQuickActions$OR$null$requireCond=b("cr:587");f.$null$OR$MWThreadPicture$requireCond=b("cr:10566");f.make=c}),null);
__d("MWInboxInfoGroupOptionsSection.bs",["fbt","LS.bs","LSMailboxOptimisticSetNeedsAdminApprovalForNewParticipantStoredProcedure","LSTransaction.bs","MWListCell.bs","ReStore.bs","TetraListCell.react","bs_caml_option","bs_curry","cr:10733","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");c=b("cr:10733")==null?void 0:b("bs_caml_option").some(b("cr:10733"));function a(a){var c=a.thread;a=i.useState(function(){return!1});var d=a[1];a=a[0];var e=b("ReStore.bs").useHook(void 0),f=c.t,h=f!==void 0?f:!1,j=i.useCallback(function(a){var d=b("LSTransaction.bs").run(e,function(d){return b("LSMailboxOptimisticSetNeedsAdminApprovalForNewParticipantStoredProcedure")(c.a,a,b("bs_curry")._1(b("LS.bs").make,d))},"readWrite");b("promiseDone")(d,void 0,void 0)},[e,JSON.stringify(c.a)]);f=i.jsx(b("TetraListCell.react"),{body:g._("Require an admin to approve all requests to join the group chat"),headline:g._("Require admin approval"),addOnSecondary:b("MWListCell.bs").SecondaryAddOn.$$switch({size:"small",onChange:function(a){return b("bs_curry")._1(j,!h)},type:"switch",value:h}),level:4});if(b("cr:10733")==null)return i.jsx(b("TetraListCell.react"),{headline:g._("Group options"),addOnSecondary:b("MWListCell.bs").SecondaryAddOn.expander({children:f,open:a,type:"expander"}),emphasized:!0,level:4,onPress:function(a){return b("bs_curry")._1(d,function(a){return!a})}});else return i.jsx(b("cr:10733").make,{children:f,onPress:function(a){return b("bs_curry")._1(d,function(a){return!a})},label:g._("Group options"),isOpen:a})}d=a;f.$MWCollapsible$requireCond=b("cr:10733");f.mWCollapsible=c;f.make=d}),null);
__d("MWAddMemberToGroupDialogTrigger.bs",["CometLazyDialogTrigger.react","JSResource","LSDatabaseType.bs","MWLSDatabaseLazySync.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){}function a(a){var c=a.thread,d=a.children,e=b("MWLSDatabaseLazySync.bs").useSync(b("LSDatabaseType.bs").ranking);return h.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWAddParticipantDialogForJSResource.react").__setRef("MWAddMemberToGroupDialogTrigger.bs"),dialogProps:{thread:c,onClose:i},children:function(a,c){return b("bs_curry")._2(d,function(c){b("bs_curry")._1(e,void 0);return b("bs_curry")._1(a,void 0)},c)}})}c=a;f.onClose=i;f.make=c}),null);
__d("MWInboxInfoMemberList.bs",["fbt","ix","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MWAddMemberToGroupDialogTrigger.bs","MWLSGroupMembershipMemberList.bs","TetraListCell.react","bs_curry","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){a=a.thread;return j.jsx(b("MWAddMemberToGroupDialogTrigger.bs").make,{thread:a,children:function(a,c){return j.jsx(b("TetraListCell.react"),{headline:g._("Add people"),addOnPrimary:{color:"gray",size:40,disabled:void 0,shape:void 0,icon:b("fbicon")._(h("483769"),20),type:"contained-icon"},level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)},ref:c})}})}c={make:k};function a(a){a=a.thread;var c=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").addMember,a);return j.jsxs(j.Fragment,{children:[j.jsx(b("MWLSGroupMembershipMemberList.bs").make,{thread:a,showAdminsOnly:!1,showAdminIndicator:!0}),c?j.jsx(k,{thread:a}):null]})}d=a;f.AddPeopleButton=c;f.make=d}),null);
__d("MWInboxInfoMembersSection.bs",["fbt","MWInboxInfoMemberList.bs","MWInboxPersistedUIState.bs","MWListCell.bs","TetraListCell.react","bs_caml_option","bs_curry","cr:10733","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");c=b("cr:10733")==null?void 0:b("bs_caml_option").some(b("cr:10733"));function a(a){a=a.thread;var c=b("MWInboxPersistedUIState.bs").useHook(!1,"__MWInboxInfoMembersSection.isOpen__"),d=c[1],e=c[0];c=i.jsx(i.Fragment,{children:i.jsx(b("MWInboxInfoMemberList.bs").make,{thread:a})});if(b("cr:10733")==null)return i.jsx(b("TetraListCell.react"),{headline:g._("Chat members"),addOnSecondary:b("MWListCell.bs").SecondaryAddOn.expander({children:c,open:e,type:"expander"}),emphasized:!0,level:4,onPress:function(a){return b("bs_curry")._1(d,function(a){return!e})}});else return i.jsx(b("cr:10733").make,{children:c,onPress:function(a){return b("bs_curry")._1(d,function(a){return!e})},label:g._("Chat members"),isOpen:e})}d=a;f.$MWCollapsible$requireCond=b("cr:10733");f.mWCollapsible=c;f.make=d}),null);
__d("MWInboxInfoPendingRequest.bs",["fbt","ix","BaseRow.react","BaseRowItem.react","CometTextWithEntities.react","LS.bs","LSAuthorityLevel.bs","LSContactBlockedByViewerStatus.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactVerifyContactRowExistsStoredProcedure","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSMailboxOptimisticRespondToAdminApprovalRequestStoredProcedure","LSTransaction.bs","LSVec.bs","MWChatTextTransform.bs","MWListCell.bs","MWPTooltip.react","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","TetraIcon.react","TetraListCell.react","bs_curry","fbicon","promiseDone","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function k(a){var c=a.response,d=a.thread,e=a.contact,f=b("ReStore.bs").useHook(void 0),i=j.useCallback(function(a){var c=b("LSTransaction.bs").run(f,function(c){return b("LSMailboxOptimisticRespondToAdminApprovalRequestStoredProcedure")(d.a,b("LSVec.bs").make([e.a]),a?!1:!0,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite");b("promiseDone")(c,void 0,void 0)},[f,JSON.stringify(d.a),JSON.stringify(e.a)]);a=g._("Ignore");var k=g._("Approve");if(c)return j.jsx(b("MWPTooltip.react"),{tooltip:a,align:"middle",position:"above",children:j.jsx(b("TetraIcon.react"),{"aria-label":a,icon:b("fbicon")._(h("478232"),16),onPress:function(a){return b("bs_curry")._1(i,1)},testid:"ignore_button",color:"secondary"})});else return j.jsx(b("MWPTooltip.react"),{tooltip:k,align:"middle",position:"above",children:j.jsx(b("TetraIcon.react"),{"aria-label":k,icon:b("fbicon")._(h("477813"),16),onPress:function(a){return b("bs_curry")._1(i,0)},testid:"approve_button",color:"secondary"})})}c={make:k};var l={item:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"}};function a(a){var c=a.thread,d=a.groupMembershipApprovalRequest,e=b("ReStore.bs").useHook(void 0);a=j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"contacts").asc,{hd:d.b,tl:0})},[e,JSON.stringify(c.a),JSON.stringify(d.b)]);a=b("ReQLSubscription.bs").useFirst(a);var f=d.b;j.useEffect(function(){b("promiseDone")(b("LSTransaction.bs").run(e,function(a){return b("LSContactVerifyContactRowExistsStoredProcedure")(f,b("LSContactIdType.bs").fbid,void 0,void 0,b("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,b("LSContactBlockedByViewerStatus.bs").unblocked,void 0,!1,b("LSAuthorityLevel.bs").clientPartial,void 0,b("LSContactWorkForeignEntityType.bs").unknown,b("LSContactGender.bs").unknown,b("LSContactViewerRelationship.bs").unknown,void 0,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite"),void 0,void 0)},[e,JSON.stringify(f)]);if(a===void 0)return null;c=j.jsxs(b("BaseRow.react"),{children:[j.jsx(b("BaseRowItem.react"),{children:j.jsx(k,{response:1,thread:c,contact:a}),xstyle:[l.item]}),j.jsx(b("BaseRowItem.react"),{children:j.jsx(k,{response:0,thread:c,contact:a}),xstyle:[l.item]})]});return j.jsx(b("TetraListCell.react"),{body:j.jsx(b("CometTextWithEntities.react"),{text:d.c,transforms:[b("MWChatTextTransform.bs").emoticonTransform,b("MWChatTextTransform.bs").emojiTransform]}),headline:j.jsx(b("CometTextWithEntities.react"),{text:a.h,transforms:[b("MWChatTextTransform.bs").emoticonTransform,b("MWChatTextTransform.bs").emojiTransform]}),addOnPrimary:{addOn:void 0,shape:void 0,size:36,source:{uri:a.b},alt:void 0,linkProps:void 0,type:"profile-photo"},addOnSecondary:b("MWListCell.bs").SecondaryAddOn.body({addOn:c,type:"body"}),level:4})}d=a;f.ApprovalResponseButton=c;f.styles=l;f.make=d}),null);
__d("MWInboxInfoPendingRequestsSection.bs",["fbt","MWInboxInfoPendingRequest.bs","MWInboxPersistedUIState.bs","MWListCell.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","TetraListCell.react","bs_caml_option","bs_curry","bs_int64","cr:10733","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");c=b("cr:10733")==null?void 0:b("bs_caml_option").some(b("cr:10733"));function a(a){var c=a.thread;a=a.isOpenInitial_TEST_ONLY;a=a!==void 0?a:!1;a=b("MWInboxPersistedUIState.bs").useHook(a,"__MWInboxInfoPendingRequestsSection.isOpen__");var d=a[1],e=a[0],f=b("ReStore.bs").useHook(void 0);a=i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"group_membership_approval_requests").asc,{hd:c.a,tl:0})},[f,JSON.stringify(c.a)]);a=b("ReQLSubscription.bs").useArray(a);a=a.map(function(a){return i.jsx(b("MWInboxInfoPendingRequest.bs").make,{thread:c,groupMembershipApprovalRequest:a},b("bs_int64").to_string(a.b))});var h=a.length;if(h===0)return null;else if(b("cr:10733")==null)return i.jsx(b("TetraListCell.react"),{headline:g._("Member requests ({memberRequestCount})",[g._param("memberRequestCount",String(h))]),addOnSecondary:b("MWListCell.bs").SecondaryAddOn.expander({children:a,open:e,type:"expander"}),emphasized:!0,level:4,onPress:function(a){return b("bs_curry")._1(d,function(a){return!e})}});else return i.jsx(b("cr:10733").make,{children:a,onPress:function(a){return b("bs_curry")._1(d,function(a){return!e})},label:g._("Member requests ({memberRequestCount})",[g._param("memberRequestCount",String(h))]),isOpen:e})}d=a;f.$MWCollapsible$requireCond=b("cr:10733");f.mWCollapsible=c;f.make=d}),null);
__d("MWInboxInfoIgnoreMessages.bs",["fbt","CometLazyDialogTrigger.react","JSResource","LsIgnoreTappedFalcoEvent","LsMessengerThreadDamagingActionsEntryPoint.bs","MWInboxInfoPrivacyAndSupportSectionIcons.bs","TetraIcon.react","TetraListCell.react","bs_caml_int64","bs_curry","bs_int64","cr:10742","react","uuid"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread,d=g._("Ignore messages"),e=b("uuid")();return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("MWChatIgnoreMessagesDialogForJSResource.react").__setRef("MWInboxInfoIgnoreMessages.bs"),dialogProps:{onClose:function(a){},thread:c,uuid:e,entryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings},children:function(a,f){if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{headline:d,addOnPrimary:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").IgnoreMessages.primaryAddOn,headlineLineLimit:1,level:4,onPress:function(d){b("LsIgnoreTappedFalcoEvent").log(function(){return{thread:{id:b("bs_int64").to_string(c.a),type:b("bs_caml_int64").to_int32(c.c)},entry_point:{entry_point:b("bs_caml_int64").to_int32(b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings)},uuid:e,extra_data_map:{}}});return b("bs_curry")._1(a,void 0)},testid:"mw_ignore_messages_button"});else return i.jsx(b("cr:10742").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").IgnoreMessages.icon}),label:d,onPress:function(d){b("LsIgnoreTappedFalcoEvent").log(function(){return{thread:{id:b("bs_int64").to_string(c.a),type:b("bs_caml_int64").to_int32(c.c)},entry_point:{entry_point:b("bs_caml_int64").to_int32(b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings)},uuid:e,extra_data_map:{}}});return b("bs_curry")._1(a,void 0)},testid:"mw_ignore_messages_button"})}})}c=a;f.$MAWInboxInfoButton$OR$null$requireCond=b("cr:10742");f.make=c}),null);
__d("MWInboxInfoPrivacyAndSupportSection.bs",["fbt","LSMessageThreadUnsendabilityStatus.bs","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LsMessengerThreadDamagingActionsEntryPoint.bs","LsMessengerThreadDamagingActionsSource","MWInboxInfoBlockMessages.bs","MWInboxInfoFRXItem.bs","MWInboxInfoIgnoreMessages.bs","MWInboxInfoMessengerRestrict.bs","MWInboxInfoNotifications.bs","MWInboxInfoPrivacyAndSupportSectionIcons.bs","MWInboxPersistedUIState.bs","MWLSActor.bs","MWLSCanLeaveGroup.bs","MWLSLeaveGroupMenuItem.bs","MWListCell.bs","MessagingThreadType.bs","MessengerRestrictButtonSource.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","TetraIcon.react","TetraListCell.react","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","cr:10733","cr:10742","cr:10861","cr:10888","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function j(a){var c=a.c;a=a.L;if(a!==void 0&&b("bs_caml").i64_eq(c,b("MessagingThreadType.bs").oneToOne))return b("bs_caml").i64_eq(a,b("LSMessageThreadUnsendabilityStatus.bs").denyIfPageThread);else return!1}function k(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=a.a;return b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:e,tl:{hd:d,tl:0}})},[c,d,JSON.stringify(e)]))!==void 0}var l=b("cr:10733")==null?void 0:b("bs_caml_option").some(b("cr:10733"));function a(a){var c=a.thread,d=b("ReStore.bs").useHook(void 0),e=b("MWLSActor.bs").useActor(void 0);a=b("MWInboxPersistedUIState.bs").useHook(!1,"__MWInboxInfoPrivacyAndSupportSection.isOpen__");var f=a[1],h=a[0];a=b("LSMessagingThreadTypeUtil.bs").isSecure(c.c);var m=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.c))return b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"participants").asc,{hd:c.a,tl:0}),function(a){return b("bs_caml").i64_neq(a.b,e)}),function(a){return a.b});else return b("SortedAsyncIterable.bs").empty(void 0)},[d,JSON.stringify(c.a)])),n=b("bs_caml").i64_eq(c.l,b("bs_caml_int64").neg_one)||b("bs_caml").i64_gt(c.l,b("bs_caml_int64").of_float(Date.now())),o=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").ignoreMessages,c)&&!a,p=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").block,c),q=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").restrictContact,c),r=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").feedbackAndReport,c),s=b("MWLSCanLeaveGroup.bs").useHook(c),t=k(c),u=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").muteThread,c),v=!(b("cr:10861")==null)&&a?i.jsx(b("cr:10861").make,{thread:c}):null,w,x=0;b("cr:10888")==null||!(a&&n)?x=1:w=i.jsx(b("cr:10888").make,{thread:c});x===1&&(w=i.jsx(b("MWInboxInfoNotifications.bs").make,{thread:c,children:function(a,c,d,e,f){if(!(b("cr:10742")==null))return i.jsx(b("cr:10742").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:f?b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").Notifications.Off.icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").Notifications.On.icon}),label:d,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_notifications_section_button"});c={headline:d,addOnPrimary:f?b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").Notifications.Off.primaryAddOn:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").Notifications.On.primaryAddOn,headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_notifications_section_button"};d=e!==void 0?b("bs_caml_option").some(e):void 0;d!==void 0&&(c.body=b("bs_caml_option").valFromOption(d));return i.jsx(b("TetraListCell.react"),c)}}));a=i.jsxs(i.Fragment,{children:[u?w:null,o?i.jsx(b("MWInboxInfoIgnoreMessages.bs").make,{thread:c}):null,v,q?i.jsx(b("MWInboxInfoMessengerRestrict.bs").make,{threadKey:c.a,loggingEntryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings,buttonSource:b("MessengerRestrictButtonSource.bs").thread_detail_settings}):null,p&&m!==void 0?i.jsx(b("MWInboxInfoBlockMessages.bs").make,{thread:c,contactId:m,isPage:j(c),children:function(a,c,d){if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{headline:d,addOnPrimary:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").BlockMessages.primaryAddOn,headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_block_messages_button"});else return i.jsx(b("cr:10742").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").BlockMessages.icon}),label:d,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_block_messages_button"})},loggingEntryPoint:b("LsMessengerThreadDamagingActionsEntryPoint.bs").threadSettings,loggingSource:j(c)?b("LsMessengerThreadDamagingActionsSource").PAGE:b("LsMessengerThreadDamagingActionsSource").CANONICAL_THREAD}):null,r?i.jsx(b("MWInboxInfoFRXItem.bs").make,{thread:c,children:function(a,c,d,e){if(b("cr:10742")==null)return i.jsx(b("TetraListCell.react"),{body:e,headline:d,addOnPrimary:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").FRXItem.primaryAddOn,headlineLineLimit:1,level:4,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_info_frx_button",ref:c});else return i.jsx(b("cr:10742").make,{addOnStart:i.jsx(b("TetraIcon.react"),{icon:b("MWInboxInfoPrivacyAndSupportSectionIcons.bs").FRXItem.icon}),subLabel:g._("Give feedback and report the conversation"),label:d,onPress:function(c){return b("bs_curry")._1(a,void 0)},testid:"mw_info_frx_button"})}}):null,t&&s?i.jsx(b("MWLSLeaveGroupMenuItem.bs").make,{thread:c,showIcon:!0,navToFirstRead:!0}):null]});if(b("cr:10733")==null)return i.jsx(b("TetraListCell.react"),{headline:g._("Privacy and support"),addOnSecondary:b("MWListCell.bs").SecondaryAddOn.expander({children:a,open:h,type:"expander"}),emphasized:!0,level:4,onPress:function(a){return b("bs_curry")._1(f,function(a){return!h})},testid:"mw_privacy_and_support_section_button"});else return i.jsx(l.make,{children:a,onPress:function(a){return b("bs_curry")._1(f,function(a){return!h})},label:g._("Privacy and support"),isOpen:h,testid:"mw_privacy_and_support_section_button"})}c=a;f.isThreadForPage=j;f.$MAWInboxInfoButton$OR$null$requireCond=b("cr:10742");f.$MWCollapsible$requireCond=b("cr:10733");f.$MAWEndToEndEncryptionKeysSection$requireCond=b("cr:10861");f.$MAWInboxInfoPrivacyAndSupportSectionUnmuteThreadButton$requireCond=b("cr:10888");f.make=c}),null);
__d("MWInboxInfoPhotoGallery.bs",["fbt","CometImageCover.react","CometInfiniteScrollTrigger.react","CometPhotoGrid.react","CometPressable.react","CometProgressIndicator.react","MWV2UseMediaViewerURL.bs","bs_belt_Option","bs_caml_option","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={attachmentContainer:{height:"datstx6m"},progressRingContainer:{display:"j83agx80",justifyContent:"taijpn5t",marginTop:"aov4n071",paddingTop:"fdg1wqfs",paddingEnd:"jxrgncrl",paddingBottom:"ae35evdt",paddingStart:"qnrpqo6b"},photoGridSpacingNormalizer:{marginTop:"rs0gx3tq",marginEnd:"kady6ibp",marginBottom:"dicw6rsg",marginStart:"dwxx2s2f"}};function l(a){var c=a.attachment,d=a.getPreviewUrl,e=a.onPress;a=a.disableBecauseFeatureIsNotAvailableForThreadType;d=b("bs_curry")._1(d,c);var f=b("MWV2UseMediaViewerURL.bs").useHook(c);c=j.jsx(b("CometImageCover.react"),{alt:b("bs_belt_Option").getWithDefault(c.h,""),src:d});if(!a)return c;a={"aria-label":g._("Open photo"),linkProps:{passthroughProps:{origSrc:d},url:f},testid:"mw_gallery_item",xstyle:k.attachmentContainer,children:c};e!==void 0&&(a.onPress=b("bs_caml_option").valFromOption(e));return j.jsx(b("CometPressable.react"),a)}c={make:l};function a(a){var c=a.media,d=a.hasMore,e=a.onLoadMore,f=a.isLoading,g=a.getPreviewUrl,h=a.onPressMedia,m=a.disableBecauseFeatureIsNotAvailableForThreadType;a=a.uniformGrid;var n=m!==void 0?m:!0;m=a!==void 0?a:!1;return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:(i||(i=b("stylex")))(k.photoGridSpacingNormalizer),children:j.jsx(b("CometPhotoGrid.react"),{children:c.map(function(a){return j.jsx(l,{attachment:a,getPreviewUrl:g,onPress:h,disableBecauseFeatureIsNotAvailableForThreadType:n},a.e+a.c)}),uniformGrid:m})}),j.jsx(b("CometInfiniteScrollTrigger.react"),{hasMore:d,isLoading:f,onLoadMore:e,xstyle:k.progressRingContainer,children:j.jsx(b("CometProgressIndicator.react"),{size:"default"})})]})}d=a;f.styles=k;f.GalleryItem=c;f.make=d}),null);
__d("MWInboxInfoPhotos.bs",["fbt","CometImageCover.react","CometPressable.react","MWInboxInfoPhotoGallery.bs","MWInboxPersistedUIState.bs","MWListCell.bs","MWV2UseMediaViewerURL.bs","TetraListCell.react","bs_belt_Option","bs_caml_option","bs_curry","cr:10733","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("cr:10733")==null?void 0:b("bs_caml_option").some(b("cr:10733")),k={attachmentContainer:{height:"datstx6m"},progressRingContainer:{display:"j83agx80",justifyContent:"taijpn5t",marginTop:"aov4n071",paddingTop:"fdg1wqfs",paddingEnd:"jxrgncrl",paddingBottom:"ae35evdt",paddingStart:"qnrpqo6b"}};function a(a){var c=a.attachment,d=a.getPreviewUrl;a=a.disableBecauseFeatureIsNotAvailableForThreadType;d=b("bs_curry")._1(d,c);var e=b("MWV2UseMediaViewerURL.bs").useHook(c);c=i.jsx(b("CometImageCover.react"),{alt:b("bs_belt_Option").getWithDefault(c.h,""),src:d});if(a)return i.jsx(b("CometPressable.react"),{"aria-label":g._("Open photo"),linkProps:{passthroughProps:{origSrc:d},url:e},testid:"mw_gallery_item",xstyle:k.attachmentContainer,children:c});else return c}d={make:a};function c(a){var c=a.media,d=a.hasMore,e=a.onLoadMore,f=a.isLoading,h=a.getPreviewUrl;a=a.disableBecauseFeatureIsNotAvailableForThreadType;a=a!==void 0?a:!0;var k=b("MWInboxPersistedUIState.bs").useHook(!1,"__MWInboxInfoSharedPhotosSection.isOpen__");if(c.length<=0)return null;var l=k[1],m=k[0];if(b("cr:10733")==null)return i.jsx(b("TetraListCell.react"),{headline:g._("Shared media"),addOnSecondary:b("MWListCell.bs").SecondaryAddOn.expander({children:i.jsx(b("MWInboxInfoPhotoGallery.bs").make,{media:c,hasMore:d,onLoadMore:e,isLoading:f,getPreviewUrl:h,disableBecauseFeatureIsNotAvailableForThreadType:a}),open:m,type:"expander"}),emphasized:!0,level:4,onPress:function(a){return b("bs_curry")._1(l,function(a){return!m})},testid:"mw_shared_photos_section_button"});else return i.jsx(j.make,{children:i.jsx(b("MWInboxInfoPhotoGallery.bs").make,{media:c,hasMore:d,onLoadMore:e,isLoading:f,getPreviewUrl:h,disableBecauseFeatureIsNotAvailableForThreadType:a}),onPress:function(a){return b("bs_curry")._1(l,function(a){return!m})},label:g._("Shared media"),isOpen:m,testid:"mw_shared_photos_section_button"})}e=c;f.$MWCollapsible$requireCond=b("cr:10733");f.styles=k;f.GalleryItem=d;f.make=e}),null);
__d("MWLSLoadMoreThreadSharedAttachments.bs",["LS.bs","LSMailboxIssueAttachmentsRangeQueryStoredProcedure","LSTransaction.bs","MWThreadKey.bs","ReStore.bs","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return h.useCallback(function(e){e=b("LSTransaction.bs").run(c,function(c){return b("LSMailboxIssueAttachmentsRangeQueryStoredProcedure")(d,a,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite");b("promiseDone")(e,void 0,void 0)},[c,d,JSON.stringify(a)])}f.useHook=a}),null);
__d("LSThreadMediaGalleryGroup.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];f.photosAndVideos=a;f.filesOnly=c;f.links=d}),null);
__d("MWSharedAttachmentsSectionHooks.bs",["LSThreadMediaGalleryGroup.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","react","usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a,c,d,e){var f=h.useState(function(){return!1}),g=f[1],i=f[0],j=a.length,k=b("bs_belt_Option").getWithDefault(b("bs_caml_option").nullable_to_opt(b("usePrevious")(j)),0);f=b("usePrevious")(c);var l=f==null?void 0:b("bs_caml_option").some(f);h.useEffect(function(){d===void 0&&b("bs_curry")._1(e,void 0)},[d]);h.useEffect(function(){var a=k!==j,d=l===!0&&!c;i&&(d||a)&&b("bs_curry")._1(g,function(a){return!1})},[j,c,i]);a=h.useCallback(function(a){if(!i){b("bs_curry")._1(e,void 0);return b("bs_curry")._1(g,function(a){return!0})}},[i,e,g]);f=j>0||!i&&!c;return[i,a,f]}function i(a,c,d){var e=b("ReStore.bs").useHook(void 0),f=JSON.stringify(a),g=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"attachments_ranges_v2__generated").desc,{hd:a,tl:0}),function(a){return b("bs_caml").i64_eq(a.b,c)})},[e,f,c])),i=b("bs_belt_Option").map(g,function(a){return a.c}),j=b("bs_belt_Option").map(g,function(a){return a.g});f=h.useMemo(function(){if(i!==void 0)return b("ReQL.bs").filter(b("ReQL.bs").bounds(b("ReQLTable").table(e,"attachments").index("fk_messages").desc,{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:a,tl:{hd:i,tl:0}}},{NAME:"lessThanOrEqual",VAL:{hd:a,tl:{hd:[2328,1316134911],tl:0}}}]}),d);else return b("SortedAsyncIterable.bs").empty(void 0)},[e,f,i,d]);return[f,g,i,j]}function c(a){var c=h.useCallback(function(a){if(b("bs_caml").i64_eq(a.f,b("MessagingAttachmentType.bs").xma))return a.q==="xma_web_url";else return!1},[]);a=a.a;a=i(a,b("LSThreadMediaGalleryGroup.bs").links,c);c=b("ReQLSubscription.bs").useArray(a[0]);return[c,b("LSThreadMediaGalleryGroup.bs").links,a[1],a[2],a[3]]}function d(a){var c=h.useCallback(function(a){a=a.f;if(b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").image))return!0;else return b("bs_caml").i64_eq(a,b("MessagingAttachmentType.bs").video)},[]);a=a.a;a=i(a,b("LSThreadMediaGalleryGroup.bs").photosAndVideos,c);c=b("ReQLSubscription.bs").useArray(a[0]);return[c,b("LSThreadMediaGalleryGroup.bs").photosAndVideos,a[1],a[2],a[3]]}f.useLoader=a;f.useQueryAttachments=i;f.useQueryLinkAttachments=c;f.useQueryMediaAttachments=d}),null);
__d("MWOpenInboxInfoSharedPhotosSection.bs",["MWInboxInfoPhotos.bs","MWLSLoadMoreThreadSharedAttachments.bs","MWSharedAttachmentsSectionHooks.bs","bs_belt_Option","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.thread;var c=b("MWSharedAttachmentsSectionHooks.bs").useQueryMediaAttachments(a),d=c[0],e=b("bs_belt_Option").getWithDefault(c[4],!0),f=b("MWLSLoadMoreThreadSharedAttachments.bs").useHook(c[1]);c=b("MWSharedAttachmentsSectionHooks.bs").useLoader(d,e,c[2],f);f=h.useCallback(function(a){return b("bs_belt_Option").getWithDefault(a.F,"")},[]);return h.jsx(b("MWInboxInfoPhotos.bs").make,{thread:a,media:d,hasMore:e,onLoadMore:c[1],isLoading:c[0],getPreviewUrl:f})}c=a;f.make=c}),null);
__d("MWInboxInfo.bs",["BaseMultiStepContainer.re","CometColumn.react","CometColumnItem.react","CometScrollableArea.react","LSMessagingThreadTypeUtil.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","MWInboxInfoActionsSection.bs","MWInboxInfoDetailsSection.bs","MWInboxInfoGroupOptionsSection.bs","MWInboxInfoMembersSection.bs","MWInboxInfoPendingRequestsSection.bs","MWInboxInfoPrivacyAndSupportSection.bs","MWOpenInboxInfoSharedPhotosSection.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","TetraList.react","bs_caml","cr:10879","cr:290","cr:831","gkx","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={container:{marginBottom:"sjgh65i0"}};function j(a){a=a.thread;var c=b("LSMessagingThreadTypeUtil.bs").isSecure(a.c),d=!(b("cr:290")==null),e=b("gkx")("1857541");if(e)if(c)if(d||b("cr:10879")==null)return null;else return h.jsx(h.Suspense,{children:h.jsx(b("cr:10879").make,{thread:a}),fallback:null});else if(d)return null;else return h.jsx(b("MWOpenInboxInfoSharedPhotosSection.bs").make,{thread:a});else return null}c={make:j};function k(a){a=a.thread;var c=b("LSMessagingThreadTypeUtil.bs").isSecure(a.c),d=b("gkx")("1801841");if(d||c||b("cr:831")==null)return null;else return h.jsx(b("cr:831").make,{thread:a})}d={make:k};function l(a){var c=a.pushPage;a=a.thread;var d=b("LSMessagingThreadTypeUtil.bs").isSecure(a.c);if(d||b("cr:290")==null)return null;else return h.jsx(b("cr:290").make,{thread:a,pushPage:c,isSecureThread:d})}e={make:l};function m(a){var c=b("ReStore.bs").useHook(void 0);return b("ReQLSubscription.bs").useFirst(h.useMemo(function(){var d=b("ReQLSuspense.bs").firstExn(b("ReQL.bs").map(b("ReQLTable").table(c,"_user_info").asc,function(a){return a.b}));return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:a.a,tl:0}),function(a){return b("bs_caml").i64_eq(a.b,d)})},[c,JSON.stringify(a.a)]))}function n(a){var c=a.thread,d=a.toggleSearch;a=a.pushPage;var e=b("LSMessagingThreadTypeUtil.bs").isGroup(c.c),f=m(c);if(f!==void 0){f=f.f;f=f!==void 0&&f?!0:!1}else f=!1;var g=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").messageRequestComposerBanner,c),i=b("LSMessagingThreadTypeUtil.bs").isSecure(c.c);f=e&&f&&!g&&!i;return h.jsxs(b("CometColumn.react"),{children:[h.jsx(b("MWInboxInfoDetailsSection.bs").make,{thread:c,toggleSearch:d}),h.jsx(b("CometColumnItem.react"),{paddingVertical:16,children:h.jsxs(b("TetraList.react"),{children:[h.jsx(b("MWInboxInfoActionsSection.bs").make,{thread:c,toggleSearch:d}),f?h.jsx(b("MWInboxInfoGroupOptionsSection.bs").make,{thread:c}):null,f?h.jsx(b("MWInboxInfoPendingRequestsSection.bs").make,{thread:c}):null,e?h.jsx(b("MWInboxInfoMembersSection.bs").make,{thread:c}):null,h.jsx(l,{pushPage:a,thread:c}),h.jsx(b("MWInboxInfoPrivacyAndSupportSection.bs").make,{thread:c}),h.jsx(k,{thread:c}),h.jsx(j,{thread:c})]})})]})}var o={make:n};function a(a){var c=a.thread,d=a.toggleSearch;return h.jsx(b("CometScrollableArea.react"),{expanding:!0,xstyle:i.container,children:b("cr:290")==null?h.jsx(n,{thread:c,toggleSearch:d}):h.jsx(b("BaseMultiStepContainer.re").make,{children:function(a){return h.jsx(n,{thread:c,toggleSearch:d,pushPage:a})}})})}a=h.memo(a);var p=b("cr:290"),q=b("cr:10879"),r=b("cr:831");f.styles=i;f.$MWInboxInfoSharedContentSection$requireCond=b("cr:290");f.mwInboxInfoSharedContentSection=p;f.$MAWSecureInboxInfoSharedPhotosSection$requireCond=b("cr:10879");f.mAWSecureInboxInfoSharedPhotosSection=q;f.$null$OR$MWInboxInfoSharedFilesSection$requireCond=b("cr:831");f.mWInboxInfoSharedFilesSection=r;f.SharedMediaSection=c;f.SharedFileSection=d;f.SharedContentSection=e;f.useViewerParticipant=m;f.MWInboxInfoImplementation=o;f.make=a}),null);
__d("LSMessageSearchType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").one;c=[0,2];f.thread=a;f.message=c}),null);
__d("MWInboxSearchHeader.bs",["fbt","ix","BaseTextInput.react","CometPressable.react","CometProgressRingIndeterminate.react","LS.bs","LSMessageSearchType.bs","LSMessagingThreadTypeUtil.bs","LSSearchClearMessageSearchTableStoredProcedure","LSSearchIssueMessageSearchQueryStoredProcedure","LSSearchRequestStatusType.bs","LSTransaction.bs","MWLSActor.bs","MWPTextCommon.react","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","ReactStyle.bs","SortedAsyncIterable.bs","TetraButton.react","TetraIcon.react","bs_belt_Option","bs_caml","bs_caml_array","bs_caml_format","bs_caml_obj","bs_curry","bs_int64","cr:11875","fbicon","promiseDone","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l=g._("Search"),m={root:{display:"j83agx80",alignItems:"bp9cbjyn",borderBottom:"linmgsc8",paddingTop:"cxgpxx05",paddingEnd:"hv4rvrfc",paddingBottom:"sj5x9vvc",paddingStart:"dati1w0a"},searchInputContainer:{alignItems:"bp9cbjyn",display:"j83agx80",flexGrow:"buofh1pr",marginEnd:"oi9244e8",position:"l9j0dhe7",backgroundColor:"b3i9ofy5",borderTopStartRadius:"br7hx15l",borderTopEndRadius:"h2jyy9rg",borderBottomEndRadius:"n3ddgdk9",borderBottomStartRadius:"owxd89k7"},searchInput:{boxSizing:"rq0escxv",display:"a8c37x1j",minWidth:"a5nuqjux",position:"l9j0dhe7",width:"k4urcfbm"},startIcon:{position:"pmk7jnqg",start:"ax37mqq2",top:"c0p38np4"},searchInputText:{flexGrow:"buofh1pr",appearance:"dwo3fsh8",borderTop:"qu0x051f",borderEnd:"esr5mh6w",borderBottom:"e9989ue4",borderStart:"r7d6kgcz",boxSizing:"rq0escxv",color:"oo9gr5id",fontFamily:"ihxqhq3m",fontSize:"jq4qci2q",outline:"lzcic4wl",transitionProperty:"nlq1og4t",width:"k4urcfbm","::-ms-clear":{display:"iu8raji3"},"::placeholder":{color:"b1f16np4"},":focus::placeholder":{color:"hdh3q7d8"},height:"tv7at329",paddingTop:"l60d2q6s",paddingEnd:"d1544ag0",paddingBottom:"hwnh5xvq",paddingStart:"tw6a2znq",textIndent:"o1lsuvei",backgroundColor:"g5ia77u1"},resultsText:{marginEnd:"r70wmyd8",whiteSpace:"g0qnabr5"},button:{alignItems:"bp9cbjyn",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv",display:"j83agx80",height:"k7cz35w2",justifyContent:"taijpn5t",width:"bsnbvmp4"},progressIndicator:{marginEnd:"o3lre8g0",paddingTop:"jwdofwj8"}};function a(a){var c=a.thread,d=a.setVisibleMessage,e=a.onClose,f=b("MWLSActor.bs").useActor(void 0),i=b("ReStore.bs").useHook(void 0);a=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(i,"message_search_queries").asc,{hd:b("LSMessageSearchType.bs").thread,tl:0})},[i]));var n=b("bs_belt_Option").map(a,function(a){return a.a});a=k.useState(function(){return b("bs_belt_Option").getWithDefault(n,"")});var o=a[1],p=a[0];a=k.useState(function(){return 0});var q=a[1],r=a[0],s=k.useRef(!0),t=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(i,"message_search_queries").asc,{hd:b("LSMessageSearchType.bs").message,tl:{hd:p,tl:{hd:c.a,tl:0}}})},[i,p,c])),u=b("bs_belt_Option").map(t,function(a){return a.a}),v=b("ReQLSubscription.bs").useArray(k.useMemo(function(){if(u!==void 0)return b("ReQL.bs").getKeyRange(b("ReQLTable").table(i,"message_search_results").asc,{hd:b("LSMessageSearchType.bs").message,tl:{hd:u,tl:{hd:c.a,tl:0}}});else return b("SortedAsyncIterable.bs").empty(void 0)},[i,u,c]));k.useEffect(function(){b("bs_belt_Option").isNone(t)&&b("bs_curry")._1(q,function(a){return 0})},[t,q]);a=k.useMemo(function(){if(t!==void 0&&b("bs_caml").i64_eq(t.d,b("LSSearchRequestStatusType.bs").complete))return g._("{totalResults} results",[g._param("totalResults",b("bs_int64").to_string(t.g))]);else return null},[t,c]);var w=b("bs_belt_Option").mapWithDefault(t,!1,function(a){return b("bs_caml").i64_eq(a.d,b("LSSearchRequestStatusType.bs").complete)})?null:k.jsx("div",{className:(j||(j=b("stylex")))(m.progressIndicator),children:k.jsx(b("CometProgressRingIndeterminate.react"),{color:"blue",size:16})});k.useEffect(function(){if(v.length>0&&r<v.length){var a=b("bs_caml_array").get(v,r);b("bs_curry")._1(d,function(c){c=a.j;var d=a.k;if(c!==void 0)if(d!==void 0){c=c.split(",");var e=d.split(",");d=c.map(function(a,c){return{matchOffset:b("bs_caml_format").caml_int_of_string(a),matchLength:b("bs_caml_format").caml_int_of_string(b("bs_caml_array").get(e,c))}})}else d=[];else d=[];return{timestamp:b("bs_belt_Option").getExn(a.g),messageId:b("bs_belt_Option").getExn(a.f),highlights:d,contextLine:b("bs_belt_Option").getWithDefault(a.i,""),source:0}})}},[v,r,d]);var x=k.useRef(void 0);k.useEffect(function(){b("bs_belt_Option").mapWithDefault(x.current,!0,function(a){return p!==a[0]||a[1]!==q?!0:a[2]!==d})&&!s.current&&(b("bs_curry")._1(q,function(a){return 0}),b("promiseDone")(b("LSTransaction.bs").run(i,function(a){var c=b("bs_curry")._1(b("LS.bs").make,a);return b("LSSearchClearMessageSearchTableStoredProcedure")(b("LSMessageSearchType.bs").message,c).then(function(a){return b("LSSearchClearMessageSearchTableStoredProcedure")(b("LSMessageSearchType.bs").thread,c)})},"readWrite"),function(a){return b("bs_curry")._1(d,function(a){})})),x.current=[p,q,d]},[p,q,d]);k.useEffect(function(){s.current&&(s.current=!1)},[p,s]);var y=k.useCallback(function(a){b("bs_curry")._1(d,function(a){});var e=b("LSMessagingThreadTypeUtil.bs").isSecure(c.c),g,h=0;e&&!(b("cr:11875")==null)?g=b("bs_curry")._4(b("cr:11875").searchSecureDatabaseMessages,a,c.a,f,i):h=1;h===1&&(g=b("LSTransaction.bs").run(i,function(d){var e=b("bs_curry")._1(b("LS.bs").make,d);return b("LSSearchClearMessageSearchTableStoredProcedure")(b("LSMessageSearchType.bs").message,e).then(function(d){return b("LSSearchIssueMessageSearchQueryStoredProcedure")(a,b("LSMessageSearchType.bs").message,c.a,void 0,e)})},"readWrite"));b("promiseDone")(g,void 0,void 0)},[i,p,JSON.stringify(c.a),f]),z=k.useRef(n),A=k.useRef(!1);k.useEffect(function(){(b("bs_caml_obj").caml_notequal(z.current,n)||!A.current)&&(n!==void 0&&(s.current=!0,b("bs_curry")._1(o,function(a){return n}),b("bs_curry")._1(y,n)),z.current=n,A.current=!0)},[n,o,s,y,A]);var B=function(a){r===(v.length-1|0)&&b("bs_belt_Option").mapWithDefault(t,!1,function(a){return b("bs_belt_Option").getWithDefault(a.e,!1)})&&b("promiseDone")(b("LSTransaction.bs").run(i,function(a){return b("LSSearchIssueMessageSearchQueryStoredProcedure")(p,b("LSMessageSearchType.bs").message,c.a,b("bs_belt_Option").getExn(b("bs_belt_Option").getExn(t).f),b("bs_curry")._1(b("LS.bs").make,a))},"readWrite"),void 0,void 0);return b("bs_curry")._1(q,function(a){return a+1|0})},C=function(a){return b("bs_curry")._1(q,function(a){return a-1|0})},D=k.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(i,function(a){var c=b("bs_curry")._1(b("LS.bs").make,a);return b("LSSearchClearMessageSearchTableStoredProcedure")(b("LSMessageSearchType.bs").message,c).then(function(a){return b("LSSearchClearMessageSearchTableStoredProcedure")(b("LSMessageSearchType.bs").thread,c)})},"readWrite"),function(a){return b("bs_curry")._1(e,void 0)})},[i,e]);k.useEffect(function(){b("bs_curry")._1(d,function(a){});return function(a){return b("bs_curry")._1(d,function(a){})}},[d]);var E=v.length===0||r===(v.length-1|0)&&!b("bs_belt_Option").mapWithDefault(t,!1,function(a){return b("bs_belt_Option").getWithDefault(a.e,!1)}),F=r===0,G=k.useMemo(function(){var a=b("ReactStyle.bs").unsafeAddProp({},"--divider","rgba(0,0,0,0)");return b("ReactStyle.bs").unsafeAddProp(a,"--card-background","rgba(0,0,0,0)")},[]);return k.jsxs("form",{className:(j||(j=b("stylex")))(m.root),onSubmit:function(a){a.preventDefault();return b("bs_curry")._1(y,p)},children:[k.jsxs("div",{style:G,className:j(m.searchInputContainer),children:[k.jsxs("label",{className:j(m.searchInput),children:[k.jsx("div",{className:j(m.startIcon),children:k.jsx(b("TetraIcon.react"),{icon:b("fbicon")._(h("491282"),16),color:"tertiary"})}),k.jsx(b("BaseTextInput.react"),{autoFocus:!0,onChange:function(a){return b("bs_curry")._1(o,function(b){return a.target.value})},placeholder:l,value:p,xstyle:[m.searchInputText],spellCheck:!1,label:l,testid:"mw_thread_search_input"})]}),w,a===null?null:k.jsx("div",{role:"alert",className:(j||(j=b("stylex")))(m.resultsText),children:k.jsx(b("MWPTextCommon.react"),{type:"meta3",children:a,testid:"mw_thread_search_results"})})]}),k.jsx(b("CometPressable.react"),{disabled:E,onPress:B,xstyle:function(a){return m.button},children:k.jsx(b("TetraIcon.react"),{alt:g._("Next"),icon:b("fbicon")._(h("505564"),16),color:E?"disabled":"highlight"})}),k.jsx(b("CometPressable.react"),{disabled:F,onPress:C,xstyle:function(a){return m.button},children:k.jsx(b("TetraIcon.react"),{alt:g._("Previous"),icon:b("fbicon")._(h("492450"),16),color:F?"disabled":"highlight"})}),k.jsx("div",{children:k.jsx(b("TetraButton.react"),{label:g._("Close"),type:"overlay",onPress:D})})]})}c=b("cr:11875");d=a;f.searchPlaceholder=l;f.styles=m;f.$MWInboxSecureContentSearch$requireCond=b("cr:11875");f.mWInboxSecureContentSearch=c;f.make=d}),null);
__d("MWLSNewMessageAnnouncementForScreenReaders.bs",["fbt","LSAuthorityLevel.bs","LSMessageReplySourceTypeV2.bs","LSMessagingThreadTypeUtil.bs","MWLSActor.bs","MWV2MessageHasAttachment.bs","MWV2OpenForwardedContent.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","ServerTime","SortedAsyncIterable.bs","StylexHelpers.bs","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","clearTimeout","promiseDone","react","setTimeout","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react");function k(a){var c=a.message;a=a.outgoing;c=b("MWV2OpenForwardedContent.bs").useTitle(c,a);return g._("{forward title}",[g._param("forward title",c)])}c={make:k};function l(a){var c=a.message,d=a.sender;a=a.participant;var e=b("MWLSActor.bs").useActor(void 0);e=b("bs_caml").i64_eq(d.a,e);var f=b("bs_caml_obj").caml_equal(c.t,b("LSMessageReplySourceTypeV2.bs").forward);a=a!==void 0?a.e:void 0;if(a!==void 0)a=a;else{var h=d.p;a=h!==void 0?h:d.h}if(f)return j.jsx(k,{message:c,outgoing:e});h=c.v;if(h!==void 0)return g._("{reply snippet}",[g._param("reply snippet",h)]);else if(e)return g._("You sent,");else return g._("{name of sender} sent,",[g._param("name of sender",a)])}d={make:l};function m(a){return b("bs_caml").i64_eq(a.f,b("MessagingAttachmentType.bs").image)}function n(a){a=a.message;var c=b("ReStore.bs").useHook(void 0),d=a.e,e=a.a;a=b("ReQLSubscription.bs").useArray(j.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"attachments").asc,{hd:e,tl:{hd:d,tl:0}})},[c,d,JSON.stringify(e)]));if(a.length!==1)if(a.length>1&&a.every(m))return j.jsx("div",{children:g._("{count of images, greater than or equal to 2} images attached",[g._param("count of images, greater than or equal to 2",String(a.length))])});else return null;a=a[0];var f=a.f;if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").image)||b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").animatedImage)){var h=a.R;h=j.jsxs(j.Fragment,{children:[g._("One image attached"),h!==void 0?g._(", titled {title of image}",[g._param("title of image",h)]):null]})}else if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").video))h=g._("One video attached");else if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").audio))h=g._("One audio attached");else if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").sticker)){var i=a.bj;h=j.jsxs(j.Fragment,{children:[g._("One sticker attached"),i!==void 0&&i!==""?g._(", titled {title of sticker}",[g._param("title of sticker",i)]):null]})}else if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").xma))h=g._("One rich content attachment attached");else if(b("bs_caml").i64_eq(f,b("MessagingAttachmentType.bs").file)){i=a.h;h=j.jsxs(j.Fragment,{children:[g._("One audio file attached"),i!==void 0?g._(", named {name of file}",[g._param("name of file",i)]):null]})}else h=g._("One unsupported attachment attached");return j.jsx("div",{children:h})}e={make:n};function o(a){var c=a.message,d=a.sender,e=a.thread;a=a.participant;var f=j.useState(function(){return!1}),g=f[1];j.useEffect(function(){var a=b("setTimeout")(function(a){return b("bs_curry")._1(g,function(a){return!0})},100);return function(c){b("clearTimeout")(a)}},[g]);if(f[0]){f=c.g;if(b("MWV2MessageHasAttachment.bs").make(c)){var h=b("LSMessagingThreadTypeUtil.bs").isSecure(e.c);h=h?null:j.jsx(n,{message:c,thread:e})}else h=null;d=j.jsxs(j.Fragment,{children:[j.jsx("div",{children:j.jsx(l,{message:c,sender:d,thread:e,participant:a})}),f!==void 0?j.jsx("div",{children:f}):null,h]})}else d=null;return j.jsx("div",{role:"alert","aria-live":"polite","aria-relevant":"additions",className:(i||(i=b("stylex")))(b("StylexHelpers.bs").styles.visuallyHidden),children:d},c.e+"new_message_sr_announcement")}var p={make:o};function q(a,c){var d=b("ReStore.bs").useHook(void 0),e=b("MWLSActor.bs").useActor(void 0),f=j.useRef(b("ServerTime").getMillis());j.useEffect(function(){return b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"messages").asc,{hd:c.a,tl:0}),function(e,g){if(typeof g==="number")return;if(g.TAG!==0)return;var h=g._0;if(b("bs_caml_int64").to_float(h.b)>f.current){f.current=b("bs_caml_int64").to_float(h.b);b("promiseDone")(window.Promise.all([b("ReQLTable").table(d,"contacts").get({hd:h.h,tl:0}),b("ReQLTable").table(d,"participants").get({hd:h.a,tl:{hd:h.h,tl:0}})]),function(d){var e=d[0];if(e!==void 0)return b("bs_curry")._4(a,h,e,c,d[1])});return}})},[d,JSON.stringify(e),JSON.stringify(c.a)])}function a(a){a=a.thread;var c=j.useState(function(){}),d=c[1];c=c[0];var e=j.useCallback(function(a){return function(c,e,f){if(b("bs_caml").i64_eq(a.V,b("LSAuthorityLevel.bs").authoritative))return b("bs_curry")._1(d,function(d){return b("bs_caml_option").some(j.jsx(j.Fragment,{children:j.jsx(o,{message:a,sender:c,thread:e,participant:f})}))})}},[d]);q(e,a);if(c!==void 0)return b("bs_caml_option").valFromOption(c);else return null}a=a;f.ForwardTitle=c;f.Header=d;f.isImage=m;f.Attachment=e;f.Alert=p;f.useHook=q;f.make=a}),null);
__d("MWLSThreadHasLeftGroup.bs",["MWThreadKey.bs","MessengerThreadCannotReplyReason","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml_obj","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return b("bs_belt_Option").getWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"threads").asc,{hd:d,tl:0}),function(a){return b("bs_caml_obj").caml_equal(a.v,b("MessengerThreadCannotReplyReason").VIEWER_NOT_SUBSCRIBED)})},[c,d])),!1)}f.useHook=a}),null);
__d("MWUseAriaLabelForThread.bs",["fbt","MWLSActor.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_caml","intlList","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWLSActor.bs").useActor(void 0),e=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"participants").asc,{hd:a.a,tl:0}),function(a){return b("ReQLSuspense.bs").first(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"contacts").asc,{hd:a.b,tl:0}))})},[c,JSON.stringify(a.a)]));return i.useMemo(function(){var c=a.d;if(c!==void 0)return g._("Conversation titled {name of conversation}",[g._param("name of conversation",c)]).toString();var f=[];e.forEach(function(a){if(a!==void 0&&b("bs_caml").i64_neq(a.a,d)){f.push(a.h);return}});c=b("intlList")(f,b("intlList").CONJUNCTIONS.AND,b("intlList").DELIMITERS.COMMA);return g._("Conversation with {participant list}",[g._param("participant list",c)]).toString()},[JSON.stringify(a.a),JSON.stringify(d)])}f.useHook=a}),null);
__d("MWV2ErrorComposer.bs",["fbt","MWPTextCommon.react","TetraTextPairing.react","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{borderTop:"l6v480f0",backgroundColor:"nred35xi",paddingEnd:"s90ymo97",paddingStart:"geeej9ta",paddingTop:"jktsbyx5",paddingBottom:"osnr6wyh"}};function a(a){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx(b("TetraTextPairing.react"),{meta:j.jsx(b("MWPTextCommon.react"),{type:"meta3",numberOfLines:2,children:g._("This may be because of a technical error that we're working to fix.")}),headline:g._("Something isn't working."),level:4,textAlign:"center",reduceEmphasis:!0,headlineColor:"secondary"})})}c=a;f.styles=k;f.make=c}),null);
__d("MWV2ThreadViewCommon.bs",["cr:12205"],(function(a,b,c,d,e,f){"use strict";a=b("cr:12205").make;f.$MWV2ThreadView$OR$MWV2OpenThreadDetail$requireCondXplat=b("cr:12205");f.make=a}),null);
__d("MWInboxDetail.bs",["BootloaderResource","CometColumn.react","CometErrorBoundary.re","FBID.bs","JSResource","LS.bs","LSContactAddMessengerContactStoredProcedure","LSContactBitOffset.bs","LSContactCapabilityBitOffset.bs","LSMessageSendStatusV2.bs","LSMessagingThreadTypeUtil.bs","LSNullstateCTAType.bs","LSTransaction.bs","MDSRow.react","MDSRowItem.react","MWChatComposerMessageRequestInfoText.bs","MWChatComposerViewStateStore.bs","MWChatConnectionStatusCard.bs","MWChatFocusComposerContext.bs","MWChatTabFocusHandler.bs","MWChatThreadAnimationWrapper.bs","MWChatUserComposer.bs","MWInboxHeader.bs","MWInboxInfo.bs","MWInboxPersistedUIState.bs","MWInboxSearchHeader.bs","MWLSActor.bs","MWLSBlockStatus.bs","MWLSDisabledPageComposer.bs","MWLSFeatureLimitedStatus.bs","MWLSInThreadBannerComponent.bs","MWLSNewMessageAnnouncementForScreenReaders.bs","MWLSRepliedToMessage.bs","MWLSSendTypingIndicator.bs","MWLSThreadHasLeftGroup.bs","MWLSThreadIsMessageRequest.bs","MWLSThreadReportingToken.bs","MWTheme.bs","MWThread_DEPRECATED.bs","MWUseAriaDescribedByForComposer.bs","MWUseAriaLabelForThread.bs","MWV2ErrorComposer.bs","MWV2ReplyContext.bs","MWV2Theme.bs","MWV2ThreadViewCommon.bs","MWVisibleMessageContext.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:12140","cr:12141","cr:12142","cr:740","cr:7670","cr:807","gkx","promiseDone","qex","react","recoverableViolation","stylex","useMatchMedia"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("cr:12141")==null?void 0:b("bs_caml_option").some(b("cr:12141")),k=b("cr:12142")==null?void 0:b("bs_caml_option").some(b("cr:12142")),l=b("cr:12140")==null?void 0:b("bs_caml_option").some(b("cr:12140")),m=b("JSResource")("MWChatBlockedComposer.bs").__setRef("MWInboxDetail.bs");function n(a,c,d,e,f){f={fbid:a,reportingToken:c};d!==void 0&&(f.size=b("bs_caml_option").valFromOption(d));e!==void 0&&(f.isReachable=b("bs_caml_option").valFromOption(e));return f}function o(a){return i.createElement(b("BootloaderResource").read(m).make,a)}var p={reasonResource:m,makeProps:n,make:o},q=b("JSResource")("MWChatFeatureLimitsBlockedComposer.bs").__setRef("MWInboxDetail.bs");function a(a){return{}}function r(a){return i.createElement(b("BootloaderResource").read(q).make,a)}a={reasonResource:q,makeProps:a,make:r};var s=b("JSResource")("MWChatLeftGroupComposer.bs").__setRef("MWInboxDetail.bs");function c(a){return{}}function t(a){return i.createElement(b("BootloaderResource").read(s).make,a)}c={reasonResource:s,makeProps:c,make:t};var u=b("JSResource")("MWChatUnavailableComposer.bs").__setRef("MWInboxDetail.bs");function d(a){return{}}function v(a){return i.createElement(b("BootloaderResource").read(u).make,a)}d={reasonResource:u,makeProps:d,make:v};var w={root:{overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7",backgroundColor:"nred35xi",maxHeight:"gitj76qy",fontSize:"jq4qci2q"},header:{boxShadow:"t6p9ggj4",zIndex:"tkr6xdv7"},threadContainer:{maxHeight:"gitj76qy"},main:{display:"j83agx80",flexDirection:"cbu4d94t",position:"l9j0dhe7",overflowX:"ni8dbmo4",overflowY:"stjgntxs"},focusHandler:{display:"j83agx80",flexGrow:"buofh1pr"},info:{flexBasis:"kuivcneq",flexShrink:"g5gj957u",maxWidth:"f4tghd1a",minWidth:"ifue306u",borderStart:"t63ysoy8"},composer:{zIndex:"kavbgo14"}};function e(a){var c=a.thread,d=a.isConversationSearchVisible,e=a.setIsConversationSearchVisible;a=b("MWInboxPersistedUIState.bs").useHook(!0,"__MWInboxDetail.info__");var f=a[1];a=a[0];var g=b("MWLSThreadHasLeftGroup.bs").useHook(void 0),m=b("gkx")("408"),p=c.a,q=b("useMatchMedia")("(max-width: 900px)");i.useEffect(function(){b("bs_curry")._1(f,function(a){if(a)return!q;else return!1})},[q]);i.useEffect(function(){!(b("cr:12142")==null)&&!(b("cr:12141")==null)&&(b("bs_curry")._1(k.isThreadId,p)?b("bs_curry")._1(j.setMostRecentSecureThreadKey,b("bs_int64").to_string(p)):b("bs_curry")._1(j.deleteMostRecentSecureThreadKey,void 0))},[JSON.stringify(p)]);var s=i.useRef(0),u=i.useRef(null),x=b("MWLSSendTypingIndicator.bs").useHook(void 0),y=b("MWTheme.bs").useTheme(void 0),z=b("MWLSThreadReportingToken.bs").useHook(void 0),A=b("MWLSBlockStatus.bs").useIsThreadBlocked(void 0),B=A!==void 0&&A?!0:!1,C=b("MWLSFeatureLimitedStatus.bs").useIsReadOnlyFeatureLimited(void 0);A=b("MWVisibleMessageContext.bs").useHook(void 0);var D=function(a){if(s.current!==0)return;a=u.current;if(!(a==null))return a.scrollToBottom()},E=b("MWLSRepliedToMessage.bs").useCurrentlyRepliedToMessage(void 0),F=E[2],G=E[1],H=E[0];E=i.useContext(b("MWV2ReplyContext.bs").context);var I=E.clearReply,J=E.reply,K=i.useCallback(function(a){b("bs_curry")._1(F,void 0);return b("bs_curry")._2(I,p,a)},[F,I,b("bs_int64").to_string(p)]);i.useEffect(function(){if(J!==void 0){var a=J.sendStatusV2;b("bs_curry")._1(G,b("bs_caml").i64_eq(a,b("LSMessageSendStatusV2.bs").serverReceived)||b("bs_caml").i64_eq(a,b("LSMessageSendStatusV2.bs").sentOnly)?{TAG:1,_0:{threadId:p,messageId:J.messageId,timestamp:J.timestampMs}}:{TAG:0,_0:{threadId:p,offlineThreadingId:J.offlineThreadingId}})}},[J,G,K,b("bs_int64").to_string(p)]);var L=b("ReStore.bs").useHook(void 0);E=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(L,"thread_nullstate").asc,{hd:c.a,tl:0})},[L,JSON.stringify(c.a)]));var M=b("bs_caml").i64_neq(c.i,b("bs_caml_int64").zero),N=E!==void 0?b("bs_caml").i64_eq(E.f,b("LSNullstateCTAType.bs").getStarted):!1,O=b("MWThread_DEPRECATED.bs").useId(void 0);E=i.useCallback(function(a){return b("bs_curry")._1(e,function(a){return!a})},[e]);var P=g&&m,Q=b("LSMessagingThreadTypeUtil.bs").isSecure(c.c);g=b("MWUseAriaLabelForThread.bs").useHook(c);var R=b("MWUseAriaDescribedByForComposer.bs").useHook(c),S=b("MWLSThreadIsMessageRequest.bs").useHook(void 0),T=b("MWLSActor.bs").useActor(void 0),U=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){if(b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.c))return b("ReQL.bs").getKeyRange(b("ReQLTable").table(L,"contacts").asc,{hd:c.a,tl:0});else return b("SortedAsyncIterable.bs").empty(void 0)},[L,JSON.stringify(c.a),T])),V=U!==void 0?!b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").message,U),!0)||!b("bs_belt_Option").getWithDefault(b("LSContactBitOffset.bs").has(b("LSContactCapabilityBitOffset.bs").replyMessage,U),!0):!1,W=i.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(L,function(a){var d;return(d=b("ReQL.bs")).first(d.filter(d.map(d.getKeyRange(b("ReQLTable").table(L,"participants").asc,{hd:c.a,tl:0}),function(a){return a.b}),function(a){return a!==T})).then(function(d){if(d!==void 0&&Q&&b("LSMessagingThreadTypeUtil.bs").isOneToOne(c.c))return b("LSContactAddMessengerContactStoredProcedure")(d,b("bs_curry")._1(b("LS.bs").make,a))})},"readWrite"),void 0,void 0)},[L,c,T]);m=i.useMemo(function(){return y._0.id},[y]);var X=b("qex")._("499");D=i.jsx(b("MWChatThreadAnimationWrapper.bs").make,{composer:function(a,d,e,f){var g=b("LSMessagingThreadTypeUtil.bs").isSecure(c.c),j,k=0,m=0;B&&U!==void 0?j=i.jsx(i.Suspense,{children:i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return i.jsx(b("MWV2ErrorComposer.bs").make,{})},children:i.jsx(o,n(b("FBID.bs").ofStringExn(b("bs_int64").to_string(U.a)),z,"large",void 0,void 0))}),fallback:null}):m=2;m===2&&(V?j=i.jsx(i.Suspense,{children:i.jsx(v,{}),fallback:null}):g?P?k=1:j=b("cr:12140")==null?null:i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return i.jsx(b("MWV2ErrorComposer.bs").make,{})},children:i.jsx(l.make,{thread:c,isPreviewThread:!1,afterSendMessage:W})}):C?j=i.jsx(i.Suspense,{children:i.jsx(r,{}),fallback:null}):k=1);if(k===1)if(P)j=i.jsx(i.Suspense,{children:i.jsx(t,{}),fallback:null});else{if(b("cr:7670")==null)b("cr:740")==null?(b("recoverableViolation")("Expected one of two composers to be rendereed","messenger_web_product"),m=null):m=i.jsx(b("cr:740").make,{thread:c,isPreviewThread:!1,afterSendMessage:W});else{g={color:b("MWTheme.bs").bottom(y),otherUserFbid:void 0,shouldMinimizeActionsWhenTyping:!1,customLikeEmoji:c.w,isTabFocused:!0,shouldShowMenu:c.J,hasContent:{contents:!0},repliedToMessage:H,actionTrayOpen:f,closeActionTray:d,onContentsChange:function(a){},onFileUploadStart:function(a){},openActionTray:a,fileUploadHandlerRef:e,messageRequestInfoText:i.jsx(b("MWChatComposerMessageRequestInfoText.bs").make,{closeTab:function(a){},size:"large",shouldShowMessageRequestInfoText:S}),onTypingStateChanged:x,closeReplyPreview:K,openTabFromPreview:function(a){},closeTab:function(a){},onSendMessage:function(a){return b("bs_curry")._1(W,void 0)},ariaDescribedByContent:R};k=b("bs_belt_Option").mapWithDefault(O,void 0,b("MWChatComposerViewStateStore.bs").get);k!==void 0&&(g.initialComposerViewState=b("bs_caml_option").valFromOption(k));m=i.jsx(b("cr:7670").make,g)}j=i.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return i.jsx(b("MWV2ErrorComposer.bs").make,{})},children:m})}f=O!==void 0?i.jsx(b("MWChatUserComposer.bs").make,{threadId:O,chatComposer:function(a){return j}}):j;return i.jsx("div",{className:(h||(h=b("stylex")))(w.composer),children:N&&!M?null:c.K&&c.J?i.jsx(b("MWLSDisabledPageComposer.bs").make,{}):f})},threadView:function(a){return i.jsx(b("MWV2ThreadViewCommon.bs").make,{thread:c})},animationEnabled:!0,ensureScrolledToBottom:D,mediaDropDisabled:X==null?!1:X,id:{NAME:"User",VAL:b("FBID.bs").ofString("")},contextBannerData:1,welcomePageData:void 0,senderUnsendNUXEnabled:!0});return i.jsx(b("MWChatFocusComposerContext.bs").provider,{children:i.jsxs(b("MWV2Theme.bs").make,{themeFbid:m,children:[i.jsx(b("CometColumn.react"),{expanding:!0,testid:"mw_inbox_detail",xstyle:[w.root],children:i.jsxs(b("MDSRow.react"),{paddingHorizontal:0,paddingTop:0,expanding:!0,spacing:0,xstyle:[w.threadContainer],children:[i.jsxs(b("MDSRowItem.react"),{expanding:!0,xstyle:[w.main],children:[i.jsxs("div",{className:(h||(h=b("stylex")))(w.header),children:[i.jsx(b("MWInboxHeader.bs").make,{thread:c,info:a,setInfo:f}),Q?null:i.jsx(b("MWLSInThreadBannerComponent.bs").make,{})]}),d?i.jsx(b("MWInboxSearchHeader.bs").make,{thread:c,setVisibleMessage:A.setVisibleMessage,onClose:function(a){return b("bs_curry")._1(e,function(a){return!1})}}):null,i.jsx(b("MWChatConnectionStatusCard.bs").make,{}),i.jsx(b("MWChatTabFocusHandler.bs").make,{xstyle:w.focusHandler,children:b("cr:807")==null?D:i.jsx(b("cr:807").make,{children:D})})]}),a?i.jsx(b("MDSRowItem.react"),{xstyle:[w.info],children:i.jsx(b("MWInboxInfo.bs").make,{thread:c,toggleSearch:E})}):null]}),role:"main","aria-label":g}),i.jsx(b("MWLSNewMessageAnnouncementForScreenReaders.bs").make,{thread:c})]})})}e=e;f.$MAWSecureComposer$requireCondXplat=b("cr:12140");f.$MAWSessionStorage$requireCondXplat=b("cr:12141");f.$MAWThreadId$requireCondXplat=b("cr:12142");f.$MWV2FileDropzone$requireCond=b("cr:807");f.MWChatBlockedComposerLazy=p;f.MWChatFeatureLimitsBlockedComposerLazy=a;f.MWChatLeftGroupComposerLazy=c;f.MWChatUnavailableComposerLazy=d;f.styles=w;f.$MWV2OpenComposer$requireCondXplat=b("cr:740");f.$null$OR$MWChatComposer$requireCond=b("cr:7670");f.make=e}),null);
__d("MWInboxDetailContainer.bs",["CometTransientDialogProvider.react","MWChatHotLikeEmitterContext.bs","MWInboxDetail.bs","MWLSTheme.bs","MWTheme.bs","MWV2ReplyContext.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=a.isConversationSearchVisible;a=a.setIsConversationSearchVisible;var e=b("MWLSTheme.bs").useTheme(c.a),f=h.useState(function(){}),g=f[1];f=f[0];var i=h.useCallback(function(a){return b("bs_curry")._1(g,function(a){})},[g]),j=h.useCallback(function(a){return b("bs_curry")._1(g,function(b){return a})},[g]);return h.jsx(b("MWTheme.bs").provider,{theme:f!==void 0?f:e,setTheme:j,clearTheme:i,children:h.jsx(b("CometTransientDialogProvider.react"),{children:h.jsx(b("MWChatHotLikeEmitterContext.bs").Provider.make,{children:h.jsx(b("MWV2ReplyContext.bs").make,{children:h.jsx(b("MWInboxDetail.bs").make,{thread:c,isConversationSearchVisible:d,setIsConversationSearchVisible:a})})})})})}c=a;f.make=c}),null);
__d("MWInboxDetailNullState.bs",["CometContentArea.react","TetraNullState.react","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.jsx(b("CometContentArea.react"),{hasNoRole:!0,verticalAlign:"middle",children:h.jsx(b("TetraNullState.react"),{headline:"Select a thread or start a new conversation"})})}c=a;f.make=c}),null);
__d("MWInboxActiveNowTrayContainerGK.bs",["CurrentEnvironment","cr:210","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){if(b("CurrentEnvironment").messengerdotcom&&!(b("cr:210")==null))return h.jsx(b("cr:210").make,{});else return null}c=a;f.$MWInboxActiveNowTrayContainer$requireCond=b("cr:210");f.make=c}),null);
__d("MWInboxLeftRailHeader.bs",["cr:1774123"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1774123").make;f.$MWMDSInboxLeftRailHeader$OR$MWTetraInboxLeftRailHeader$requireCond=b("cr:1774123");f.make=a}),null);
__d("BaseSubscriptionTypeahead.react",["CometHeroInteractionContextPassthrough.react","CometInternalTypeahead.react","CometInternalTypeaheadStateProvider","CometInternalTypeaheadSubscriptionProvider","emptyFunction","react","useCometUniqueID","withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a,b){var d=a.autoFocus;d=d===void 0?!1:d;var e=a.isDisabled;e=e===void 0?!1:e;var f=a.errorMessage;f=f===void 0?null:f;var g=a.inputStrategyRenderer,k=a.dataSource,l=a.dataSourceFetchConfigParams,m=a.decorators,n=m===void 0?[]:m;m=a.emptyEntries_DO_NOT_USE;var o=a.id,p=a.label;p=p===void 0?"":p;var q=a.loggingContext,r=a.onBackspace;r=r===void 0?c("emptyFunction"):r;var s=a.onBlur;s=s===void 0?c("emptyFunction"):s;var t=a.onChange,u=a.onClose,v=a.onEnter;v=v===void 0?c("emptyFunction"):v;var w=a.onEscape;w=w===void 0?c("emptyFunction"):w;var x=a.onFetchEntries_DO_NOT_USE,y=a.onFocus;y=y===void 0?c("emptyFunction"):y;var z=a.onOpen,A=a.onPressEntry,B=a.placeholder;B=B===void 0?"":B;var C=a.shouldQueryStringFollowHighlightedEntry,D=C===void 0?!0:C;C=a.shouldQueryStringUpdateFromSelectedEntryOnClick;var E=C===void 0?!0:C;C=a.testid;C=C===void 0?"":C;C=a.traceProvider;var F=a.viewRole;F=F===void 0?"listbox":F;var G=a.viewStrategyRenderer;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoFocus","isDisabled","errorMessage","inputStrategyRenderer","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","label","loggingContext","onBackspace","onBlur","onChange","onClose","onEnter","onEscape","onFetchEntries_DO_NOT_USE","onFocus","onOpen","onPressEntry","placeholder","shouldQueryStringFollowHighlightedEntry","shouldQueryStringUpdateFromSelectedEntryOnClick","testid","traceProvider","viewRole","viewStrategyRenderer"]);var H=c("useCometUniqueID")(),I=j(function(){var a=c("CometInternalTypeahead.react");n.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a},[n]),J=i(function(a){E&&t(a.getLabel()),A&&A(a)},[t,A,E]),K=j(function(){return c("withCometTypeaheadInputStrategyShouldQueryStringFollowHighlightedEntry")(g,{shouldQueryStringFollowHighlightedEntry:D})},[g,D]);p=p||B;return h.jsx(c("CometHeroInteractionContextPassthrough.react"),{clear:!0,children:h.jsx(c("CometInternalTypeaheadStateProvider"),{emptyEntries_DO_NOT_USE:m,onClose:u,onOpen:z,children:h.jsx(c("CometInternalTypeaheadSubscriptionProvider"),{dataSource:k,dataSourceFetchConfigParams:l,loggingContext:q,onFetchEntries_DO_NOT_USE:x,traceProvider:C,children:h.jsx(I,babelHelpers["extends"]({},a,{autoFocus:d,errorMessage:f,id:(m=o)!=null?m:H,inputStrategyRenderer:K,isDisabled:e,label:p,onBackspace:r,onBlur:s,onChange:t,onDownArrow:c("emptyFunction"),onEnter:v,onEscape:w,onFocus:y,onHighlightEntry:c("emptyFunction"),onPressEntry:J,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:B,ref:b,testid:void 0,viewRole:F,viewStrategyRenderer:G}))})})})}a.displayName=a.name+" [from "+f.id+"]";e=h.forwardRef(a);g["default"]=e}),98);
__d("MWInboxLeftRailSearchSubscriptionTypeahead.react",["fbt","BaseSubscriptionTypeahead.react","CometTypeaheadBackButton.react","CometTypeaheadInputRoundedStrategy.react","CometTypeaheadLayoutContextualStrategy.react","CurrentEnvironment","MAWGating.re","MWChatSearchIssueLightspeedQuery.re","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWLSSearchIssueSearchQuerySupportedTypes.re","MWLSThreadDisplayContext.re","ReStore.re","createMWJewelSearchTypeaheadViewStrategy.react","gkx","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useMemo,l=b.useState,m={searchInput:{marginTop:"aov4n071",marginEnd:"cxmmr5t8",marginBottom:"bi6gxh9e",marginStart:"hcukyx3x",paddingTop:"jb3vyjys",paddingEnd:"hv4rvrfc",paddingBottom:"qt6c0cv9",paddingStart:"dati1w0a"},searchView:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"mvk8q8v6",display:"j83agx80"},viewListScrollViewComet:{maxHeight:"myfkfw0p"},viewListScrollViewMessenger:{maxHeight:"jthcvt0l"},viewStrategyXStyleComet:{minHeight:"gv4m6ohy"},viewStrategyXStyleMessenger:{minHeight:"l6zosc7o"}},n=c("createMWJewelSearchTypeaheadViewStrategy.react")(d("CurrentEnvironment").messengerdotcom?m.viewListScrollViewMessenger:m.viewListScrollViewComet);function a(a){var b=a.onBlur,e=a.onChange,f=a.onFocus,g=a.onPressEntry,o=a.testid;o=babelHelpers.objectWithoutPropertiesLoose(a,["onBlur","onChange","onFocus","onPressEntry","testid"]);a=l(!1);var p=a[0],q=a[1],r=d("ReStore.re").useHook(),s=c("MWLSThreadDisplayContext.re").useHook();a=k(function(){return new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:r,excludedIDs:[],includeRecommendations:!0,includeThreadSearch:s==="Inbox"&&c("gkx")("1902857"),lightspeedSupportedTypes:c("MWLSSearchIssueSearchQuerySupportedTypes.re").allSupportedTypes,source:c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal})},[r,s]);var t=j(function(){q(!1),e("")},[e]),u=j(function(){q(!0)},[]);return i.jsx(c("BaseSubscriptionTypeahead.react"),{dataSource:a,dataSourceFetchConfigParams:d("MAWGating.re").isArmadillo()?{requestFlow:"network-upon-approve"}:void 0,inputExtraProps:{hideIconAnimation:!0,hideIconOnFocus:!0},inputStartContent:p?i.jsx(c("CometTypeaheadBackButton.react"),{testid:void 0}):null,inputStrategyRenderer:c("CometTypeaheadInputRoundedStrategy.react"),layoutStrategyRenderer:c("CometTypeaheadLayoutContextualStrategy.react"),loggingContext:"messenger_jewel",onBlur:b,onChange:e,onClose:t,onFocus:f,onOpen:u,onPressEntry:g,placeholder:h._("Search Messenger"),queryString:o.queryString,testid:void 0,viewStrategyRenderer:n,xstyles:{inputXStyle:m.searchInput,viewXStyle_DO_NOT_USE:[m.searchView,d("CurrentEnvironment").messengerdotcom?m.viewStrategyXStyleMessenger:m.viewStrategyXStyleComet]}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWInboxLeftRailSearchSubscriptionTypeahead.bs",["MWInboxLeftRailSearchSubscriptionTypeahead.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWInboxLeftRailSearchSubscriptionTypeahead.react");f.make=a}),null);
__d("MWInboxLeftRailSearch.bs",["FBID.bs","LSThreadAttributionStore.bs","MWInboxLeftRailSearchSubscriptionTypeahead.bs","MWInboxRouteBuilder.bs","MWLSUseSyncRankings.bs","bs_curry","promiseDone","react","useCometRouterDispatcher"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.searchMessagesClicked;a=a.testid;var d=h.useState(function(){return""}),e=d[1],f=b("useCometRouterDispatcher")(),g=function(a){b("bs_curry")._1(e,function(a){return""});if(f==null)return;a=a.getRawData();var d=a.id;if(a.resultType==="messages")return b("bs_curry")._1(c,d);b("LSThreadAttributionStore.bs").setSource(d,"inboxSearch");a=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:b("FBID.bs").ofStringExn(d)});f.go(a)},i=b("MWLSUseSyncRankings.bs").useHook(void 0);g={onBlur:function(a){},onChange:function(a){return b("bs_curry")._1(e,function(b){return a})},onFocus:function(a){a=b("bs_curry")._1(i,void 0);b("promiseDone")(a,void 0,void 0)},onPressEntry:g,queryString:d[0]};a!==void 0&&(g.testid=a);return h.jsx(b("MWInboxLeftRailSearchSubscriptionTypeahead.bs").make,g)}c=a;f.make=c}),null);
__d("MercuryTypeaheadConstants",[],(function(a,b,c,d,e,f){a=Object.freeze({COMPOSER_FRIENDS_MAX:4,COMPOSER_FB4C_MAX:8,COMPOSER_GUEST_MAX:6,COMPOSER_NON_FRIENDS_MAX:2,COMPOSER_NON_FRIENDS_EXTRA_FETCH:3,COMPOSER_SHOW_MORE_LIMIT:2,COMPOSER_THREADS_INITIAL_LIMIT:2,COMPOSER_CHATTAB_MAX:5,COMPOSER_PAGES_MAX:5,COMPOSER_USERS_MAX:13,COMPOSER_WM_MAX:23,USER_TYPE:"user",PAGE_TYPE:"page",THREAD_TYPE:"thread",HEADER_TYPE:"header",SEARCH_TYPE:"search",FRIEND_TYPE:"friend",NON_FRIEND_TYPE:"non_friend",FB4C_TYPE:"fb4c",GUEST_USER_TYPE:"guest",MEETING_ROOM_PAGE_TYPE:"meeting_room_page",COMMERCE_PAGE_TYPE:"commerce_page",INTERNAL_BOT_PAGE_TYPE:"internal_bot_page",GAME_TYPE:"game",MESSAGE_TYPE:"message",WORKPLACE_BOT_CATEGORY_TYPE:"WORKPLACE_BOT",VALID_EMAIL:"^([A-Z0-9._%+-]+@((?!facebook\\.com))[A-Z0-9.-]+\\.[A-Z]{2,4}|(([A-Z._%+-]+[A-Z0-9._%+-]*)|([A-Z0-9._%+-]+[A-Z._%+-]+[A-Z0-9._%+-]*))@(?:facebook\\.com))$"});f["default"]=a}),66);
__d("MWInboxURIState.bs",["CurrentEnvironment","MercuryFilters.bs","MercuryIDs","MercuryTypeaheadConstants","MessengerURIConstants","URI","bs_belt_Option","bs_caml_array","bs_caml_exceptions","bs_caml_format","bs_caml_option","bs_curry","bs_js_json","bs_js_null_undefined","cr:12141","cr:12142","gkx","qex","useCurrentRoute"],(function(a,b,c,d,e,f){"use strict";var g;d={};var h=b("bs_caml_exceptions").create("MWInboxURIState.NonMessengerState"),i="/?$";function j(a){a=a.match(new RegExp(b("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"));return b("bs_belt_Option").map(a===null?void 0:b("bs_caml_option").some(a),function(a){return decodeURIComponent(b("bs_caml_array").get(a,1))})}function k(a){a=a.match(new RegExp(b("MessengerURIConstants").FOLDERS_PATH+("/([^/]+)"+(b("MessengerURIConstants").THREAD_PREFIX+"([^/]+)/?$"))));return b("bs_belt_Option").map(a===null?void 0:b("bs_caml_option").some(a),function(a){return decodeURIComponent(b("bs_caml_array").get(a,1))})}var l=b("qex")._("1097094")===!0,m=b("CurrentEnvironment").instagramdotcom?b("MessengerURIConstants").INSTAGRAM_DIRECT_PATH:b("CurrentEnvironment").facebookdotcom?b("MessengerURIConstants").FACEBOOK_PREFIX:"";function n(a){a=new(g||(g=b("URI")))(a.url);var c=a.getPath();a=a.getQueryData();var d=b("gkx")("1300945"),e=new RegExp("^"+(m+"(/|$)")),f=b("bs_belt_Option").isSome(a.story_id);if(b("CurrentEnvironment").facebookdotcom&&!(e.test(c)||d&&c==="/"&&!f))throw{RE_EXN_ID:h,Error:new Error()};d=c.replace(e,"/");f=a.filter;c=a.fbid;e=a.qa;var n=a.sa,o=a.t,p=a.threadIDs;a=a.id;try{p=b("bs_belt_Option").map(p,function(a){return JSON.parse(a)});p!==void 0&&b("bs_belt_Option").map(b("bs_js_json").decodeArray(b("bs_caml_option").valFromOption(p)),function(a){return a.reduce(function(a,c){c=b("bs_js_json").decodeString(c);if(b("MercuryIDs").isValidThreadID(b("bs_js_null_undefined").fromOption(b("bs_belt_Option").map(c,function(a){return a}))))return a.concat([c]);else return a},[])})}catch(a){}if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").PEOPLE_PATH)))))p=1;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").PAYMENT_PATH)))))p=2;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").SEARCH_PATH)))))if(l)if(e!==void 0)p=4;else if(n!==void 0&&o!==void 0){e=b("bs_caml_option").valFromOption(o);p=e===b("MercuryTypeaheadConstants").FRIEND_TYPE||e===b("MercuryTypeaheadConstants").NON_FRIEND_TYPE?5:e===b("MercuryTypeaheadConstants").PAGE_TYPE?6:e===b("MercuryTypeaheadConstants").THREAD_TYPE?7:3}else p=3;else p=3;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").TEAMWORK_GROUP_VIEW)))))p=7;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").TEAMWORK_CHAT_VIEW)))))p=5;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").TEAMWORK_UNREAD_VIEW)))))p=8;else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").TEAMWORK_ANNOUNCEMENT_GROUP_VIEW)))))p=9;else if(d==="/read/")p={_0:c!==void 0?{TAG:0,_0:b("bs_caml_format").caml_int64_of_string(c)}:void 0};else{if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+(b("MessengerURIConstants").COMPOSE_SUBPATH+i))))))n=[0,void 0,void 0];else if(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+(b("MessengerURIConstants").PAYMENT_PATH+b("MessengerURIConstants").PAYMENT_PAY_PATH))))))n=a!==void 0?[1,a,void 0]:[2,void 0,void 0];else{o=j(d);try{e=b("bs_belt_Option").map(o,b("bs_caml_format").caml_int64_of_string)}catch(a){e=void 0}c=e!==void 0?[{TAG:0,_0:e},o]:[void 0,void 0];a=k(d);n=[c[0],c[1],a]}p={_0:n[0]}}b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").FILTERED_REQUESTS_PATH))))||(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").ARCHIVED_PATH))))||(b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").MESSAGE_REQUESTS_PATH))))||b("bs_belt_Option").isSome(b("bs_caml_option").null_to_opt(d.match(new RegExp("^"+b("MessengerURIConstants").FOLDERS_PATH))))));b("bs_belt_Option").mapWithDefault(f,!1,b("MercuryFilters.bs").isSupportedFilter)&&b("bs_belt_Option").getExn(f);return p}var o=b("cr:12141")==null?void 0:b("bs_caml_option").some(b("cr:12141"));function p(a){if(b("cr:12142")==null)return!1;else return b("bs_curry")._1(b("cr:12142").isThreadId,a)}function a(a){return new(g||(g=b("URI")))(a.substring(m.length)).getPath().split("/")}function c(a){a=a==null?void 0:b("bs_caml_option").some(a);var c=b("useCurrentRoute")(),d=new(g||(g=b("URI")))(c.url);d=d.getPath();if(!d.startsWith(m))throw{RE_EXN_ID:h,Error:new Error()};d=c.url.substring(m.length);try{a=b("bs_belt_Option").map(a,b("bs_caml_format").caml_int64_of_string)}catch(b){a=void 0}var e;if(b("cr:12141")==null)e=void 0;else{var f=b("bs_curry")._1(o.getMostRecentSecureThreadKey,void 0);e=f!==void 0?f:void 0}f=new g(d).getPath().split("/");var i;if(a!==void 0)if(p(a))return n(c);else return{_0:{TAG:0,_0:a}};d=f.length;if(d>=4)return n(c);switch(d){case 0:return n(c);case 1:a=f[0];if(a!=="")return n(c);if(e===void 0)return n(c);i=e;break;case 2:d=f[0];a=f[1];switch(a){case"":if(e===void 0)return n(c);i=e;break;case"new":return{_0:0};default:if(d!=="")return n(c);a=f[1];if(a!=="t")return n(c);if(e===void 0)return n(c);i=e}break;case 3:d=f[1];if(d!=="t")return n(c);a=f[2];if(a==="")return n(c);try{e=b("bs_caml_format").caml_int64_of_string(a)}catch(a){e=void 0}if(e!==void 0&&!p(e))return{_0:{TAG:0,_0:e}};else return 0}return{_0:{TAG:1,_0:b("bs_caml_format").caml_int64_of_string(i)}}}f.MessagingTag=d;f.NonMessengerState=h;f._getFolderID=k;f.isSearchRefactor=l;f.prefix=m;f.parseURI_DEPRECATED=n;f.$MAWSessionStorage$requireCondXplat=b("cr:12141");f.$MAWThreadId$requireCondXplat=b("cr:12142");f.getRouteTokens=a;f.useState=c}),null);
__d("MWInboxProvider.bs",["MWInboxURIState.bs","bs_js_null_undefined","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext({});function a(a){var c=a.children,d=a.threadKey;a=a.refParam;d=b("bs_js_null_undefined").fromOption(d);d=b("MWInboxURIState.bs").useState(d);a={refParam:a,inboxState:d};return h.createElement(i.Provider,{value:a,children:c})}c=a;f.context=i;f.make=c}),null);
__d("MWInboxSelectedThread.bs",["MWInboxProvider.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=h.useContext(b("MWInboxProvider.bs").context);a=a.inboxState;if(typeof a==="number")return;a=a._0;if(a!==void 0&&typeof a!=="number")return a._0}f.useHook=a}),null);
__d("MWQuickPromotionThreadlistBanner.entrypoint",["JSResourceForInteraction","MWQuickPromotionThreadlistBannerQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{bannerQueryRef:{parameters:c("MWQuickPromotionThreadlistBannerQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWQuickPromotionThreadlistBanner.react").__setRef("MWQuickPromotionThreadlistBanner.entrypoint")};b=a;g["default"]=b}),98);
__d("MWQuickPromotionThreadlistBannerContainer.react",["MWQuickPromotionThreadlistBanner.entrypoint","RelayHooks","react","useCometRelayEntrypointContextualEnvironmentProvider","useEffectOnce"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useCometRelayEntrypointContextualEnvironmentProvider")();a=d("RelayHooks").useEntryPointLoader(a,c("MWQuickPromotionThreadlistBanner.entrypoint"));var b=a[0],e=a[1],f=a[2];c("useEffectOnce")(function(){e({});return function(){return f()}});return b?h.jsx(d("RelayHooks").EntryPointContainer,{entryPointReference:b,props:{}}):null}g["default"]=a}),98);
__d("MWInboxMasterView.bs",["MWInboxProvider.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){return h.useContext(b("MWInboxProvider.bs").context).inboxState}f.useHook=a}),null);
__d("MWThreadListNewMessageState.bs",["react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");d=[];var i={isActive:!1,entries:d},j=h.createContext(i),k=h.createContext(void 0);function l(a,b){if(typeof b==="number")if(b===0||a.entries.length===0)return i;else return a;else if(b.TAG===0)return{isActive:b._0,entries:a.entries};else return{isActive:a.isActive,entries:b._0}}function a(a){var b=a.children;a=a.defaultState;a=a!==void 0?a:i;a=h.useReducer(l,a);return h.createElement(j.Provider,{value:a[0],children:h.createElement(k.Provider,{value:a[1],children:b})})}e={make:a};function c(a){a=h.useContext(k);if(a!==void 0)return a;else return b("unrecoverableViolation")("Tried to get the dispatch function for MWThreadListNewMessageState but none was found. Missing provider (MWThreadListNewMessageState)","messenger_web_product")}f.empty=i;f.context=j;f.dispatchContext=k;f.reducer=l;f.Provider=e;f.useDispatch=c}),null);
__d("MWThreadListNewMessage.bs",["fbt","ix","CometFacepilePhoto.react","CometTextWithEntities.react","CurrentEnvironment","FBID.bs","FocusWithinHandler.react","LSMessagingThreadTypeUtil.bs","LsSystemFolder.bs","MAWGating.bs","MWChatTextTransform.bs","MWInboxMasterView.bs","MWInboxRouteBuilder.bs","MWLSThreadIsUnread.bs","MWPTextCommon.react","MWPThreadsForThreadList.bs","MWThreadListFocusableTable.react","MWThreadListItemPressable.bs","MWThreadListNewMessageState.bs","MWThreadListSupportedThreadTypes.bs","MessagingThreadType.bs","ReQL.bs","ReQLSubscription.bs","ReStore.bs","TetraCircleButton.react","TetraProfilePhoto.react","bs_caml","bs_caml_option","bs_curry","bs_int64","fbicon","intlList","react","stylex","useCometRouterDispatcher","useMatchMedia"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j,k=i||b("react"),l={container:{position:"l9j0dhe7"},xButtonContainer:{opacity:"b5wmifdl",position:"pmk7jnqg",end:"ktjju0rq",top:"rk01pc8j",transform:"ke6wolob"},xButtonContainerVisible:{opacity:"pedkr2u6"}};function m(a){if(a.length===0)return g._("New message").toString();a=b("intlList")(a,b("intlList").CONJUNCTIONS.AND,b("intlList").DELIMITERS.COMMA);return g._("New message to {participant list}",[g._param("participant list",a)]).toString()}var n=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildNewThreadURL,{});function o(a){a=a.images;if(a.length===0)return k.jsx(b("TetraProfilePhoto.react"),{alt:"",size:function(){switch(b("MAWGating.bs").isArmadillo(void 0)&&b("CurrentEnvironment").messengerdotcom?"s_48":"s_56"){case"s_16":return 16;case"s_24":return 24;case"s_28":return 28;case"s_32":return 32;case"s_36":return 36;case"s_40":return 40;case"s_48":return 48;case"s_56":return 56;case"s_60":return 60;case"s_72":return 72;case"s_80":return 80;case"s_88":return 88;case"s_96":return 96;case"s_100":return 100;case"s_132":return 132;case"s_168":return 168}}(),source:{uri:"/images/mercury/clients/messenger/threadlist/NewMessage.png"}});else return k.jsx(b("CometFacepilePhoto.react"),{sources:a.map(function(a){return{alt:"",disabled:!1,source:a}}),size:function(){switch(b("MAWGating.bs").isArmadillo(void 0)&&b("CurrentEnvironment").messengerdotcom?"s_48":"s_56"){case"s_32":return 32;case"s_36":return 36;case"s_40":return 40;case"s_44":return 44;case"s_48":return 48;case"s_56":return 56;case"s_60":return 60;case"s_72":return 72;case"s_80":return 80}}(),totalItems:a.length})}c={make:o};function a(a){var c=a.entries;a=k.useMemo(function(){return m(c.map(function(a){return a.getRawData().displayName}))},[c]);var d=k.useMemo(function(){return c.slice(0,2).map(function(a){return a.getRawData().imageUrl})},[c]),e=b("useMatchMedia")("(min-width: 900px)"),f=b("MWInboxMasterView.bs").useHook(void 0),i;if(typeof f==="number")i=!1;else{f=f._0;i=f!==void 0?f===0:!1}f=k.useMemo(function(){if(i)return;else return{url:n}},[i]);var p=k.useState(function(){return!1}),q=p[1],r=k.useState(function(){return!1}),s=r[1],t=function(a){return b("bs_curry")._1(q,function(a){return!0})},u=function(a){return b("bs_curry")._1(q,function(a){return!1})},v=b("useCometRouterDispatcher")(),w=b("MWThreadListNewMessageState.bs").useDispatch(void 0),x=b("ReStore.bs").useHook(void 0),y=b("ReQLSubscription.bs").useFirst(k.useMemo(function(){return b("ReQL.bs").filter(b("MWPThreadsForThreadList.bs").createIterable(x,b("LsSystemFolder.bs").inbox),function(a){if(!b("MWLSThreadIsUnread.bs").isUnread(a.i,a.j)&&b("bs_caml").i64_neq(a.c,b("MessagingThreadType.bs").folder)&&!b("LSMessagingThreadTypeUtil.bs").isGroup(a.c))return b("MWThreadListSupportedThreadTypes.bs").supportedThreadTypes.findIndex(function(c){return b("bs_caml").i64_eq(a.c,c)})!==-1;else return!1})},[x])),z=y!==void 0,A=k.useCallback(function(a){b("bs_curry")._1(w,0);if(!i)return;if(v==null)return;if(y===void 0)return;a=b("FBID.bs").ofStringExn(b("bs_int64").to_string(y.a));a=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:a});v.go(a)},[w,v,i,y]);d={selected:i,addOnStart:k.jsx(o,{images:d}),content:e?k.jsx(b("MWPTextCommon.react"),{color:"primary",type:b("CurrentEnvironment").messengerdotcom?"headline4":"body3",numberOfLines:1,children:k.jsx(b("CometTextWithEntities.react"),{text:a,transforms:b("MWChatTextTransform.bs").epdTextTransforms})}):null};f!==void 0&&(d.linkProps_=b("bs_caml_option").valFromOption(f));return k.jsx(b("FocusWithinHandler.react"),{onFocusChange:function(a){return b("bs_curry")._1(s,function(b){return a})},children:k.jsx(b("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:k.jsxs("div",{className:(j||(j=b("stylex")))(l.container),role:"row",onMouseEnter:t,onMouseLeave:u,children:[k.jsx(b("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:k.jsx("div",{role:"gridcell",children:k.jsx(b("MWThreadListItemPressable.bs").make,d)})}),z?k.jsx(b("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:k.jsx("div",{role:"gridcell",className:(j||(j=b("stylex")))(l.xButtonContainer,r[0]||p[0]?l.xButtonContainerVisible:!1),children:k.jsx(b("TetraCircleButton.react"),{color:"secondary",icon:b("fbicon")._(h("478231"),12),label:g._("Delete message draft"),onPress:A,size:24,focusable:!0})})}):null]})})})}d=a;f.styles=l;f.createTitle=m;f.newThreadUrl=n;f.ThreadProfilePicture=c;f.make=d}),null);
__d("MWThreadSearchResults.bs",["fbt","CometInfiniteScrollTrigger.react","CometScrollView.react","CometTextWithEntities.react","CometTopNavListDropdown.react","FBID.bs","ImmutableArray.bs","LS.bs","LSMessageSearchType.bs","LSSearchClearMessageSearchTableStoredProcedure","LSSearchIssueMessageSearchQueryStoredProcedure","LSSearchRequestStatusType.bs","LSTransaction.bs","MWChatTextTransform.bs","MWInboxRouteBuilder.bs","MWPTextCommon.react","MWThreadAddOnPrimary.bs","MWThreadListFocusableTable.react","MWThreadListGlimmer.bs","MWThreadListLastMessage.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","TetraListCell.react","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","promiseDone","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.query,d=a.clearSearchResultsAndHidePage,e=a.selectedThreadKey,f=a.setIsConversationSearchVisible,h=b("ReStore.bs").useHook(void 0),j=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(h,"message_search_results").asc,{hd:b("LSMessageSearchType.bs").thread,tl:{hd:c,tl:0}})},[h,c]));a=i.useState(function(){return[]});var k=a[1];i.useEffect(function(){b("bs_curry")._1(k,function(a){return Array.from(new Map(j.map(function(a){return[JSON.stringify(a.c),a]})).values()).sort(function(a,c){if(b("bs_caml").i64_gt(a.b,c.b))return 1;else if(b("bs_caml").i64_lt(a.b,c.b))return-1;else return 0})})},[j,k]);var l=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(h,"message_search_queries").asc,{hd:b("LSMessageSearchType.bs").thread,tl:{hd:c,tl:0}})},[h,c])),m=function(a){b("promiseDone")(b("LSTransaction.bs").run(h,function(a){return b("LSSearchClearMessageSearchTableStoredProcedure")(b("LSMessageSearchType.bs").thread,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite"),function(a){b("bs_curry")._1(f,function(a){return!1});return b("bs_curry")._1(d,void 0)})};i.useEffect(function(){l===void 0&&b("bs_curry")._1(d,void 0)},[l,d]);var n=i.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(h,function(a){return b("LSSearchIssueMessageSearchQueryStoredProcedure")(c,b("LSMessageSearchType.bs").thread,void 0,b("bs_belt_Option").getExn(b("bs_belt_Option").getExn(l).f),b("bs_curry")._1(b("LS.bs").make,a))},"readWrite"),void 0,void 0)},[h,l,c]);return i.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[i.jsx(b("CometTopNavListDropdown.react").Title,{actions:[],onReturn:m,title:g._("Search")}),i.jsx("div",{children:i.jsxs(b("MWThreadListFocusableTable.react").MWThreadListFocusableTable,{children:[i.jsx("div",{role:"grid",children:a[0].map(function(a){var c=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a.c))}),d=a.m;d=b("MWThreadAddOnPrimary.bs").get(b("ImmutableArray.bs").fromArray(d!==void 0?[a.l,d]:[a.l]),void 0,!1,56,void 0);var f=i.jsx(b("MWPTextCommon.react"),{color:"primary",type:"body3",numberOfLines:1,children:i.jsx(b("CometTextWithEntities.react"),{text:a.h,transforms:b("MWChatTextTransform.bs").epdTextTransforms})});f={body:i.jsx(b("MWThreadListLastMessage.bs").make,{hasOngoingCall:!1,lastMessageTimestamp:b("bs_belt_Option").map(a.g,b("bs_caml_int64").to_float),snippet:b("bs_belt_Option").getWithDefault(a.i,""),isUnread:!1}),headline:f,bodyLineLimit:1,headlineLineLimit:1,level:4,linkProps:{url:c},selected:b("bs_caml_obj").caml_equal(e,a.c)};d!==void 0&&(f.addOnPrimary=b("bs_caml_option").valFromOption(d));return i.jsx(b("MWThreadListFocusableTable.react").MWThreadListFocusableTableRow,{children:i.jsx("div",{role:"row",children:i.jsx(b("MWThreadListFocusableTable.react").MWThreadListFocusableTableCell,{children:i.jsx("div",{role:"gridcell",children:i.jsx(b("TetraListCell.react"),f)})})})},b("bs_belt_Option").getExn(JSON.stringify(a.c)))})}),i.jsxs(b("CometInfiniteScrollTrigger.react"),{hasMore:b("bs_belt_Option").mapWithDefault(l,!1,function(a){return b("bs_belt_Option").getWithDefault(a.e,!1)}),isLoading:b("bs_belt_Option").mapWithDefault(l,!0,function(a){return b("bs_caml").i64_neq(a.d,b("LSSearchRequestStatusType.bs").complete)}),onLoadMore:n,children:[i.jsx(b("MWThreadListGlimmer.bs").make,{}),i.jsx(b("MWThreadListGlimmer.bs").make,{})]})]})})]})}c=a;f.make=c}),null);
__d("MWInboxLeftRail.bs",["fbt","CometEntityHeaderTabs.react","CometErrorBoundary.re","CometLeftRailComponent.react","CometPlaceholder.react","CometScrollView.react","CometTopNavListDropdown.react","CometTransientDialogProvider.react","LS.bs","LSMessageSearchType.bs","LSSearchClearMessageSearchTableStoredProcedure","LSSearchClearTablesStoredProcedure","LSSearchIssueMessageSearchQueryStoredProcedure","LSTransaction.bs","Locale","LsMessageRequestsEntryPoint.bs","LsSystemFolder.bs","MAWGating.bs","MWChatContactsContainer.react","MWInboxActiveNowTrayContainerGK.bs","MWInboxLeftRailHeader.bs","MWInboxLeftRailSearch.bs","MWInboxSelectedThread.bs","MWLSActor.bs","MWLSJewelLoadMoreThreads.bs","MWPTextCommon.react","MWQuickPromotionThreadlistBannerContainer.react","MWRestrictedAccountsList.bs","MWThreadList.bs","MWThreadListNewMessage.bs","MWThreadListNewMessageState.bs","MWThreadSearchResults.bs","MessageRequestsLog.bs","MessengerThreadlistFooterDesktopAppLink.bs","MessengerThreadlistFooterOpenInAppLink.bs","MessengerWebEntryPoint","Promise","ReStore.bs","bs_belt_Option","bs_caml","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:11875","gkx","promiseDone","react","recoverableViolation","requestAnimationFrame","stylex","useDebounced"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k=b("Locale").isRTL(),l={header:{"@media (max-width: 900px)":{display:"ahb00how"}},page:{position:"pmk7jnqg",opacity:"b5wmifdl",transitionDuration:"ms05siws",transitionProperty:"pnx7fd3z",transitionTimingFunction:"b7h9ocf4",width:"k4urcfbm",height:"datstx6m",display:"j83agx80"},pageHidden:{visibility:"kr9hpln1"},pageVisible:{opacity:"pedkr2u6"},root:{backgroundColor:"hybvsw6c",borderEnd:"hop1g133",outline:"lzcic4wl",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"l9j0dhe7",width:"k4urcfbm",height:"datstx6m"},rootWithAnimations:{transform:"h3qk65th",transitionDuration:"ms05siws",transitionProperty:"s48hqc9n",transitionTimingFunction:"b7h9ocf4"},infoBox:{marginTop:"qjjbsfad",marginEnd:"cxmmr5t8",marginBottom:"w0hvl6rk",marginStart:"hcukyx3x",paddingTop:"pybr56ya",paddingEnd:"oj5qckz4",paddingBottom:"f10w8fjw",paddingStart:"lb8aey2d"}};function m(a){var c=a.hidePage,d=a.info,e=a.parentThreadKey,f=a.title;a=a.entryPoint;var h=b("MWInboxSelectedThread.bs").useHook(void 0),k=j.useState(function(){return 0}),m=k[1];k=k[0];if(k){var n={parentThreadKey:b("LsSystemFolder.bs").other,searchTypeahead:void 0,onOpenMessageRequests:void 0,threadListMessagingEntrypoint:b("MessengerWebEntryPoint").INBOX,responsive:!0,lsEntryPoint:"inboxSpam",gridLabel:f};h!==void 0&&(n.selectedThreadKey=h);n=j.jsx(b("MWThreadList.bs").make,n)}else{e={parentThreadKey:e,searchTypeahead:void 0,onOpenMessageRequests:void 0,threadListMessagingEntrypoint:b("MessengerWebEntryPoint").INBOX,responsive:!0,lsEntryPoint:a,gridLabel:f};h!==void 0&&(e.selectedThreadKey=h);n=j.jsx(b("MWThreadList.bs").make,e)}return j.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[j.jsx(b("CometTopNavListDropdown.react").Title,{actions:[],onReturn:c,title:f}),j.jsx("div",{children:j.jsx(b("CometEntityHeaderTabs.react"),{tabs:[{label:g._("You may know"),onPress:function(a){return b("bs_curry")._1(m,function(a){return 0})},selected:k===0,testid:"messenger_pending_folder_tab"},{label:g._("Spam"),onPress:function(a){return b("bs_curry")._1(m,function(a){return 1})},selected:k===1,testid:"messenger_spam_folder_tab"}]})}),d!==void 0?j.jsx("div",{className:(i||(i=b("stylex")))(l.infoBox),children:j.jsx(b("MWPTextCommon.react"),{color:"secondary",type:"body4",children:b("bs_caml_option").valFromOption(d)})}):null,n]})}c={make:m};function n(a){var c=a.hidePage,d=a.info,e=a.parentThreadKey,f=a.title,g=a.onOpenSpamMessages;a=a.entryPoint;var h=b("MWInboxSelectedThread.bs").useHook(void 0);e={parentThreadKey:e,searchTypeahead:void 0,onOpenMessageRequests:void 0,threadListMessagingEntrypoint:b("MessengerWebEntryPoint").INBOX,responsive:!0,lsEntryPoint:a,gridLabel:f};g!==void 0&&(e.onOpenSpamMessages=b("bs_caml_option").valFromOption(g));h!==void 0&&(e.selectedThreadKey=h);return j.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[j.jsx(b("CometTopNavListDropdown.react").Title,{actions:[],onReturn:c,title:f}),d!==void 0?j.jsx("div",{className:(i||(i=b("stylex")))(l.infoBox),children:j.jsx(b("MWPTextCommon.react"),{color:"secondary",type:"body4",children:b("bs_caml_option").valFromOption(d)})}):null,j.jsx(b("MWThreadList.bs").make,e)]})}d={make:n};function o(a){a=a.hidePage;return j.jsx(n,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").other,title:g._("Spam"),entryPoint:"inboxSpam"})}e={make:o};function p(a){a=a.hidePage;return j.jsx(n,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").mplace,title:g._("Marketplace"),entryPoint:"inboxFolder"})}var q={make:p};function r(a){a=a.hidePage;return j.jsx(n,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").jobs,title:g._("Jobs"),entryPoint:"inboxFolder"})}var s={make:r};function t(a){var c=a.hidePage,d=a.pushPage,e=b("MWLSJewelLoadMoreThreads.bs").useLoadSpamThreads(void 0);a=g._("Open a request to get info about who's messaging you. They won't know that you've seen it until you reply.");var f=g._("Requests");if(b("MAWGating.bs").wellBeingFeaturesEnabled(void 0))return j.jsx(m,{hidePage:c,info:a,parentThreadKey:b("LsSystemFolder.bs").pending,title:f,entryPoint:"inboxPendingRequests"});else return j.jsx(n,{hidePage:c,info:a,parentThreadKey:b("LsSystemFolder.bs").pending,title:f,onOpenSpamMessages:function(a){b("MessageRequestsLog.bs").logMessageRequestsView(b("bs_caml_int64").to_int32(b("LsMessageRequestsEntryPoint.bs").pendingRequests),b("bs_caml_int64").to_int32(b("LsSystemFolder.bs").other));b("bs_curry")._1(e,void 0);return b("bs_curry")._1(d,o)},entryPoint:"inboxPendingRequests"})}var u={make:t};function v(a){a=a.hidePage;var c=b("MWInboxSelectedThread.bs").useHook(void 0);return j.jsx(b("MWRestrictedAccountsList.bs").make,{hidePage:a,onClose:function(a){},selectedThreadKey:c})}var w={make:v};function x(a){a=a.hidePage;return j.jsx(n,{hidePage:a,parentThreadKey:b("LsSystemFolder.bs").archived,title:g._("Archived chats"),entryPoint:"inboxArchived"})}var y={make:x};function z(a){a=a.hidePage;var c=b("MWInboxSelectedThread.bs").useHook(void 0),d={preventLocalNavigation:!1,showCount:!0,lsEntryPoint:"inboxActiveContacts"};c=b("bs_belt_Option").map(c,b("bs_int64").to_string);c!==void 0&&(d.selectedThreadKey=c);return j.jsxs(b("CometScrollView.react"),{showsHorizontalScrollIndicator:!1,showsVerticalScrollIndicator:!0,children:[j.jsx(b("CometTopNavListDropdown.react").Title,{actions:[],onReturn:a,title:g._("People")}),j.jsx(b("MWChatContactsContainer.react"),d)]})}var A={make:z};function B(a){var c=a.hidePage,d=a.query;a=a.setIsConversationSearchVisible;var e=b("ReStore.bs").useHook(void 0),f=b("MWInboxSelectedThread.bs").useHook(void 0),g=j.useRef(!1),h=j.useCallback(function(a){if(!g.current){g.current=!0;b("promiseDone")(b("LSTransaction.bs").run(e,function(a){var c=b("bs_curry")._1(b("LS.bs").make,a);return b("LSSearchClearMessageSearchTableStoredProcedure")(b("LSMessageSearchType.bs").message,c).then(function(a){return b("LSSearchClearMessageSearchTableStoredProcedure")(b("LSMessageSearchType.bs").thread,c)})},"readWrite"),c);return}},[e,c]);return j.jsx(b("MWThreadSearchResults.bs").make,{query:d,clearSearchResultsAndHidePage:h,selectedThreadKey:f,setIsConversationSearchVisible:a})}var C={make:B};function a(a){var c=a.setIsConversationSearchVisible,d=b("MWLSActor.bs").useActor(void 0),e=b("MWLSJewelLoadMoreThreads.bs").useHook(b("LsSystemFolder.bs").archived),f=b("MWInboxSelectedThread.bs").useHook(void 0);a=j.useState(function(){return!1});var h=a[1],m=a[0];a=j.useState(function(){return[]});var n=a[1];a=a[0];var o=j.useState(function(){return 0}),q=o[1],s=o[0];o=j.useCallback(function(a){return b("bs_curry")._1(h,function(a){return!1})},[]);var u=b("ReStore.bs").useHook(void 0),w=b("useDebounced")(j.useCallback(function(a){b("requestAnimationFrame")(function(c){b("bs_curry")._1(h,function(a){return!0});return b("bs_curry")._1(q,function(c){b("bs_curry")._1(n,function(b){return b.slice(0,c).concat([a])});return c+1|0})})},[h,q,n]),350,!0),y=j.useCallback(function(a){b("requestAnimationFrame")(function(a){if(s<1){b("recoverableViolation")("Attempting to close a page that does not exist anymore.","messenger_comet");return}else{b("bs_curry")._1(h,function(a){return!0});return b("bs_curry")._1(q,function(a){return a-1|0})}})},[a,s,h,q]),A=j.useCallback(function(a){return b("bs_curry")._1(w,t)},[w]),C=j.useCallback(function(a){return b("bs_curry")._1(w,v)},[w]),D=j.useCallback(function(a){if(b("bs_caml").i64_eq(a,b("LsSystemFolder.bs").jobs))return b("bs_curry")._1(w,r);else if(b("bs_caml").i64_eq(a,b("LsSystemFolder.bs").mplace))return b("bs_curry")._1(w,p);else{b("recoverableViolation")("Attempted to show an unimplemented nested system folder","messenger_web_product");return}},[w]),E=j.useCallback(function(a){e();return b("bs_curry")._1(w,x)},[e,w]),F=j.useCallback(function(a){return b("bs_curry")._1(w,z)},[w]),G=j.useCallback(function(a){b("promiseDone")(b("LSTransaction.bs").run(u,function(c){var d=b("bs_curry")._1(b("LS.bs").make,c);return b("LSSearchClearTablesStoredProcedure")(d).then(function(c){return b("LSSearchIssueMessageSearchQueryStoredProcedure")(a,b("LSMessageSearchType.bs").thread,void 0,void 0,d)})},"readWrite").then(function(c){if(b("cr:11875")==null)return b("Promise").resolve(void 0);else return b("bs_curry")._3(b("cr:11875").searchSecureDatabaseThreads,a,d,u)}),function(d){b("bs_curry")._1(w,function(b){return B({hidePage:b.hidePage,query:a,setIsConversationSearchVisible:c})});return b("bs_curry")._1(c,function(a){return!0})})},[u,f,w,c,d]);j.useEffect(function(){return function(a){b("promiseDone")(b("LSTransaction.bs").run(u,function(a){return b("LSSearchClearMessageSearchTableStoredProcedure")(b("LSMessageSearchType.bs").thread,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite"),void 0,void 0)}},[u]);var H=j.useContext(b("MWThreadListNewMessageState.bs").context),I=H.isActive?j.jsx(b("MWThreadListNewMessage.bs").make,{entries:H.entries}):null;H=j.useMemo(function(){return j.jsx(b("MWInboxLeftRailHeader.bs").make,{xstyle:l.header,showMessageRequests:A,showHidden:E,showActiveContacts:F,showRestrictedAccounts:C})},[A,E,F,C]);var J=j.useMemo(function(){return j.jsxs(j.Fragment,{children:[j.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:j.jsx(b("MWQuickPromotionThreadlistBannerContainer.react"),{})}),j.jsx(b("MWInboxLeftRailSearch.bs").make,{searchMessagesClicked:G,testid:"mw-search-bar"})]})},[G]),K=j.useMemo(function(){var a={parentThreadKey:b("LsSystemFolder.bs").inbox,searchTypeahead:void 0,onOpenMessageRequests:void 0,threadListMessagingEntrypoint:b("MessengerWebEntryPoint").INBOX,onClose:function(a){},responsive:!0,preamble:I,lsEntryPoint:"inboxThreadList",onClickNestedFolderThread:D,gridLabel:g._("Chats")};f!==void 0&&(a.selectedThreadKey=f);return j.jsxs(b("CometPlaceholder.react"),{children:[j.jsx(b("MWInboxActiveNowTrayContainerGK.bs").make,{}),j.jsx(b("MWThreadList.bs").make,a)],fallback:null})},[I,f,D]);return j.jsx(b("CometTransientDialogProvider.react"),{children:j.jsxs("div",{className:(i||(i=b("stylex")))(l.root,m?l.rootWithAnimations:!1),onTransitionEnd:o,children:[j.jsx("div",{style:{transform:"translateX("+(String(Math.imul(k?1:-1,s))+"00%) translateZ(1px)")},className:i(l.page,!m&&s!==0?l.pageHidden:!1,s===0?l.pageVisible:!1),children:j.jsx(b("CometLeftRailComponent.react"),{footer:b("gkx")("1817606")?j.createElement(b("MessengerThreadlistFooterDesktopAppLink.bs").make,{}):b("gkx")("1732")?j.createElement(b("MessengerThreadlistFooterOpenInAppLink.bs").make,{}):null,header:H,primaryNav:K,search:J,isCometLeftRailInDialog:!0})}),a.map(function(a,c){return j.jsx("div",{style:{transform:"translateX("+(String(Math.imul(k?1:-1,(s-c|0)-1|0))+"00%) translateZ(1px)")},className:(i||(i=b("stylex")))(l.page,!m&&s!==(c+1|0)?l.pageHidden:!1,s===(c+1|0)?l.pageVisible:!1),children:j.createElement(a,{hidePage:y,pushPage:w})},String(c))})]})})}var D=b("cr:11875");a=a;f.styles=l;f.RequestandSpamThreadListPage=c;f.$MWInboxSecureContentSearch$requireCond=b("cr:11875");f.mWInboxSecureContentSearch=D;f.ThreadListPage=d;f.Spam=e;f.Marketplace=q;f.Jobs=s;f.MessageRequests=u;f.RestrictedAccounts=w;f.Hidden=y;f.ActiveContacts=A;f.ThreadSearchResults=C;f.make=a}),null);
__d("MWInboxLeftRailHeaderIcons.bs",["cr:1734106"],(function(a,b,c,d,e,f){"use strict";a=b("cr:1734106").Settings;c=b("cr:1734106").Compose;f.$MDSInboxLeftRailHeaderIcons$OR$TetraInboxLeftRailHeaderIcons$requireCond=b("cr:1734106");f.Settings=a;f.Compose=c}),null);
__d("MWInboxSettingsMenuButton.bs",["CometDeferredPopoverTrigger.react","react","requireDeferred"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("requireDeferred")("MWInboxSettingsMenu.react").__setRef("MWInboxSettingsMenuButton.bs");function a(a){var c=a.children,d=a.showMessageRequests,e=a.showHidden,f=a.showActiveContacts;a=a.showRestrictedAccounts;return h.jsx(b("CometDeferredPopoverTrigger.react"),{popoverResource:i,popoverProps:{showMessageRequests:d,showHidden:e,showActiveContacts:f,showRestrictedAccounts:a},align:"start",position:"below",children:c})}c=a;f.mwInboxSettingsMenu=i;f.make=c}),null);
__d("MeetupExperiments",["RTWebIncomingRingConfiguration","ZenonSignalingProtocol","gkx"],(function(a,b,c,d,e,f,g){"use strict";function a(){return!(c("gkx")("1224637")||c("gkx")("1443572"))}function b(){return c("gkx")("1456547")}function e(){return d("RTWebIncomingRingConfiguration").isSupportedClientForProtocol(c("ZenonSignalingProtocol").MW)&&c("gkx")("1545140")}g.sendCreatorNotifications=a;g.supportJoinerWaitingLobby=b;g.supportLinkCreation=e}),98);
__d("MWInboxLeftRailHeaderAuxiliary.bs",["fbt","MWInboxLeftRailHeaderIcons.bs","MWInboxRouteBuilder.bs","MWInboxSettingsMenuButton.bs","MeetupExperiments","MessengerLSCreateVideoCallLink.react","TetraCircleButton.react","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={button:{marginStart:"ozuftl9m"}},l=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildNewThreadURL,{}),m=b("MessengerLSCreateVideoCallLink.react");c={make:m};function a(a){var c=a.showMessageRequests,d=a.showHidden,e=a.showActiveContacts;a=a.showRestrictedAccounts;return j.jsxs(j.Fragment,{children:[j.jsx("div",{className:(i||(i=b("stylex")))(k.button),children:j.jsx(b("MWInboxSettingsMenuButton.bs").make,{children:function(a,c){return j.jsx(b("TetraCircleButton.react"),{color:"primary",icon:b("MWInboxLeftRailHeaderIcons.bs").Settings.icon,label:g._("Settings, help and more"),onPress:function(a){return b("bs_curry")._1(c,void 0)},ref:a,size:36,testid:"skytale-settings-button"})},showMessageRequests:c,showHidden:d,showActiveContacts:e,showRestrictedAccounts:a})}),b("MeetupExperiments").supportLinkCreation()?j.jsx("div",{className:(i||(i=b("stylex")))(k.button),children:j.jsx(m,{})}):null,j.jsx("div",{className:i(k.button),children:j.jsx(b("TetraCircleButton.react"),{color:"primary",icon:b("MWInboxLeftRailHeaderIcons.bs").Compose.icon,label:g._("New message"),size:36,testid:"skytale-new-thread-button",linkProps:{url:l}})})]})}d=a;f.styles=k;f.newThreadUrl=l;f.MessengerLSCreateVideoCallLink=c;f.make=d}),null);
__d("MWInboxNewMessage.bs",["cr:10882"],(function(a,b,c,d,e,f){"use strict";a=b("cr:10882").make;f.$MWV2InboxNewMessage$OR$MWV1InboxNewMessage$requireCond=b("cr:10882");f.make=a}),null);
__d("MWInboxThreadViewContexts.bs",["FBID.bs","MWThreadKey.bs","MWThread_DEPRECATED.bs","MWUIChatTabState.bs","MWV2ThreadIsPage.bs","MessagingThreadType.bs","bs_caml","bs_int64","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread;a=a.children;var d=c.a,e=h.useMemo(function(){var a=b("FBID.bs").ofStringExn(b("bs_int64").to_string(d));if(c.J)return{NAME:"Page",VAL:a};var e=c.c,f=c.L;if(f!==void 0&&b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").oneToOne)&&b("bs_caml").i64_eq(f,[0,4]))return{NAME:"Page",VAL:a};if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").oneToOne))return{NAME:"User",VAL:a};else if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").group)||b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").marketplace)||b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").communityGroup)||b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").communityGroupUnjoined)||b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").room))return{NAME:"Group",VAL:a};else if(b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").secureMessageOverWaGroup)||b("bs_caml").i64_eq(e,b("MessagingThreadType.bs").secureMessageOverWaOneToOne))return{NAME:"User",VAL:a};else return b("unrecoverableViolation")("Unknown thread type","comet_messenger")},[JSON.stringify(d),JSON.stringify(c.c),JSON.stringify(c.L),JSON.stringify(c.J)]);return h.jsx(b("MWThread_DEPRECATED.bs").make,{id:e,children:h.jsx(b("MWV2ThreadIsPage.bs").make,{thread:c,children:h.jsx(b("MWThreadKey.bs").make,{id:d,children:h.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:{_0:e},children:h.jsx(h.Suspense,{children:a,fallback:null})})})})})}c=a;f.make=c}),null);
__d("MWInboxMaster.bs",["LS.bs","LSMailboxVerifyThreadRowExistsStoredProcedure","LSTransaction.bs","MWInboxDetailContainer.bs","MWInboxDetailNullState.bs","MWInboxMasterView.bs","MWInboxNewMessage.bs","MWInboxThreadViewContexts.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_curry","promiseDone","react","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a){var c=a.threadKey,d=a.isConversationSearchVisible;a=a.setIsConversationSearchVisible;var e=b("ReStore.bs").useHook(void 0),f=h.useCallback(function(a){return b("LSTransaction.bs").run(e,function(c){return b("LSMailboxVerifyThreadRowExistsStoredProcedure")(a,void 0,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite")},[e]);h.useEffect(function(){b("promiseDone")(b("bs_curry")._1(f,c),void 0,void 0)},[JSON.stringify(c)]);var g=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"threads").asc,{hd:c,tl:0})},[e,JSON.stringify(c)]));if(g!==void 0)return h.jsx(b("MWInboxThreadViewContexts.bs").make,{thread:g,children:h.jsx(b("MWInboxDetailContainer.bs").make,{thread:g,isConversationSearchVisible:d,setIsConversationSearchVisible:a})});else return null}c={make:i};function a(a){var c=a.isConversationSearchVisible;a=a.setIsConversationSearchVisible;var d=b("MWInboxMasterView.bs").useHook(void 0);if(typeof d==="number")if(d!==0)return b("unrecoverableViolation")("Unimplemented master view","messenger_comet");else return h.jsx(b("MWInboxDetailNullState.bs").make,{});d=d._0;if(d===void 0)return h.jsx(b("MWInboxDetailNullState.bs").make,{});if(typeof d==="number")if(d===0)return h.jsx(b("MWInboxNewMessage.bs").make,{});else return b("unrecoverableViolation")("Unimplemented master view","messenger_comet");if(d.TAG!==0)return b("unrecoverableViolation")("Unimplemented master view","messenger_comet");d=d._0;return h.jsx(i,{threadKey:d,isConversationSearchVisible:c,setIsConversationSearchVisible:a},b("bs_belt_Option").getWithDefault(JSON.stringify(d),""))}d=a;f.ThreadViewContainer=c;f.make=d}),null);
__d("MWInboxRootDefaultNavLayout.bs",["BaseRowItem.react","MWInboxLeftRail.bs","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={leftRail:{flexShrink:"pfnyh3mw",minHeight:"dp1hu0rb",overflowAnchor:"rek2kq2y",width:"o36gj0jk",zIndex:"tkr6xdv7","@media (max-width: 900px)":{width:"g0mhvs5p"}}};function a(a){a=a.setIsConversationSearchVisible;return h.jsx(b("BaseRowItem.react"),{"aria-label":"",children:h.jsx(h.Suspense,{children:h.jsx(b("MWInboxLeftRail.bs").make,{setIsConversationSearchVisible:a}),fallback:null}),role:"navigation",xstyle:[i.leftRail]})}c=a;f.styles=i;f.make=c}),null);
__d("MWInboxRoot.bs",["BaseHeadingContext","BaseRow.react","BaseRowItem.react","CometLeftRailLayoutContext","CometLeftRailPrimaryContext","CometRouterFocusRegion.react","LS.bs","LSMessageSearchType.bs","LSSearchClearMessageSearchTableStoredProcedure","LSTransaction.bs","MWInboxMaster.bs","MWInboxMasterView.bs","MWInboxRootDefaultNavLayout.bs","MWLSPresenceManager.bs","MWThreadListNewMessageState.bs","MWVisibleMessageContext.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml_obj","bs_caml_option","bs_curry","cr:1815665","cr:9867","promiseDone","react","stylex","usePrevious"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");c={};d={Provider:c};e={};c={Provider:e};var j={container:{display:"j83agx80",flexGrow:"buofh1pr",minHeight:"dp1hu0rb",position:"l9j0dhe7",zIndex:"du4w35lb"},contentArea:{display:"j83agx80",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",minHeight:"dp1hu0rb",minWidth:"hpfvmrgz",position:"l9j0dhe7",zIndex:"du4w35lb"},leftRail:{flexShrink:"pfnyh3mw",minHeight:"dp1hu0rb",overflowAnchor:"rek2kq2y",width:"o36gj0jk",zIndex:"tkr6xdv7","@media (max-width: 900px)":{width:"g0mhvs5p"}},mainContent:{display:"j83agx80",minHeight:"dp1hu0rb"}};function a(a){a=i.useState(function(){return!1});var c=a[1],d=i.useState(function(){}),e=d[1],f=d[0];d=i.useMemo(function(){return{setVisibleMessage:e,visibleMessage:f}},[f,e]);b("MWLSPresenceManager.bs").useWatchFocusChanges(void 0);var g=b("MWInboxMasterView.bs").useHook(void 0),k=b("usePrevious")(g),l=k==null?void 0:b("bs_caml_option").some(k),m=b("ReStore.bs").useHook(void 0),n=b("bs_belt_Option").isSome(b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(m,"message_search_queries").asc,{hd:b("LSMessageSearchType.bs").thread,tl:0})},[m])));i.useEffect(function(){!n&&b("bs_caml_obj").caml_notequal(g,l)&&(b("bs_curry")._1(c,function(a){return!1}),b("promiseDone")(b("LSTransaction.bs").run(m,function(a){return b("LSSearchClearMessageSearchTableStoredProcedure")(b("LSMessageSearchType.bs").message,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite"),void 0,void 0))},[g,n,m,c,l]);k=i.useContext(b("BaseHeadingContext"));d=i.jsx("div",{className:(h||(h=b("stylex")))(j.contentArea),children:i.jsx(b("CometRouterFocusRegion.react"),{children:i.jsx(b("CometLeftRailLayoutContext").Provider,{value:!0,children:i.jsx(b("MWVisibleMessageContext.bs").Provider.make,{value:d,children:i.createElement(b("BaseHeadingContext").Provider,{value:k+1|0,children:i.jsx(i.Fragment,{children:i.jsx(b("MWInboxMaster.bs").make,{isConversationSearchVisible:a[0],setIsConversationSearchVisible:c})})})})})})});k=i.jsx(b("MWThreadListNewMessageState.bs").Provider.make,{children:i.jsxs(i.Fragment,{children:[i.jsx(b("BaseRow.react"),{align:"start",children:i.jsxs(b("CometLeftRailPrimaryContext").Provider,{value:!1,children:[i.jsx(b("MWInboxRootDefaultNavLayout.bs").make,{setIsConversationSearchVisible:c}),i.jsx(b("BaseRowItem.react"),{expanding:!0,children:d,xstyle:[j.mainContent]})]}),xstyle:[j.container]}),b("cr:1815665")==null?null:i.jsx(b("cr:1815665").make,{})]})});return i.jsx(i.Fragment,{children:b("cr:9867")==null?k:i.jsx(b("cr:9867").make,{children:k})})}e=b("cr:1815665");a=a;f.CometLeftRailPrimaryContext=d;f.CometLeftRailLayoutContext=c;f.styles=j;f.$MWInboxBugNub$requireCond=b("cr:1815665");f.mwInboxBugNub=e;f.$MAWSetup$requireCond=b("cr:9867");f.make=a}),null);
__d("MWInboxRoot.re",["MWInboxRoot.bs"],(function(a,b,c,d,e,f){a=b("MWInboxRoot.bs").make;f.make=a}),null);
__d("MWLSSendMDotMeRef.bs",["LS.bs","LSMailboxSendPlatformReferralEventStoredProcedure","LSTransaction.bs","ReStore.bs","bs_caml_format","bs_curry","promiseDone","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i={contents:!0};function a(a,c){var d=b("ReStore.bs").useHook(void 0);h.useEffect(function(){var e=i.contents;if(a!==void 0&&c!==void 0&&e){b("promiseDone")(b("LSTransaction.bs").run(d,function(d){return b("LSMailboxSendPlatformReferralEventStoredProcedure")(b("bs_caml_format").caml_int64_of_string(c),a,void 0,void 0,void 0,b("bs_curry")._1(b("LS.bs").make,d))},"readWrite"),void 0,void 0);i.contents=!1;return}},[c,a,d])}f.shouldSendRef=i;f.useHook=a}),null);
__d("MWQuickPromotionDesktopInterstitialUpsell.entrypoint",["JSResourceForInteraction","MWQuickPromotionDesktopInterstitialUpsellQuery$Parameters"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(){return{queries:{upsellQueryRef:{parameters:c("MWQuickPromotionDesktopInterstitialUpsellQuery$Parameters"),variables:{}}}}},root:c("JSResourceForInteraction")("MWQuickPromotionDesktopInterstitialUpsell.react").__setRef("MWQuickPromotionDesktopInterstitialUpsell.entrypoint")};b=a;g["default"]=b}),98);
__d("MWQuickPromotionDesktopInterstitialUpsellContainer.react",["CometPlaceholder.react","MWQuickPromotionDesktopInterstitialUpsell.entrypoint","RelayHooks","react","useCometRelayEntrypointContextualEnvironmentProvider","useEffectOnce"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(){var a=c("useCometRelayEntrypointContextualEnvironmentProvider")();a=d("RelayHooks").useEntryPointLoader(a,c("MWQuickPromotionDesktopInterstitialUpsell.entrypoint"));var b=a[0],e=a[1],f=a[2];c("useEffectOnce")(function(){e({});return function(){return f()}});return b?h.jsx(c("CometPlaceholder.react"),{fallback:null,children:h.jsx(d("RelayHooks").EntryPointContainer,{entryPointReference:b,props:{}})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWLSInbox.bs",["CometErrorBoundary.re","CometPlaceholder.react","CurrentEnvironment","LSErrorHandlerDeferred.bs","MWInboxProvider.bs","MWLSChatPopperUpper.bs","MWLSSendMDotMeRef.bs","MWLSThreadDisplayContext.bs","MWQuickPromotionDesktopInterstitialUpsellContainer.react","MessengerDotComStyleXTheme","ReStore.bs","RecoverableViolation.react","StyleXSheet","bs_caml_option","bs_curry","cr:11428","cr:11591","cr:1847793","cr:931","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=b("cr:1847793")==null?void 0:b("bs_caml_option").some(b("cr:1847793")),j=b("cr:931")==null?void 0:b("bs_caml_option").some(b("cr:931"));!(b("cr:11591")==null)&&!(b("cr:11428")==null)&&b("bs_curry")._1(b("cr:11591").start,b("cr:11428").config);if(b("CurrentEnvironment").messengerdotcom){c=new(b("StyleXSheet"))({isSlow:void 0,rootDarkTheme:void 0,rootTheme:b("bs_caml_option").some(b("MessengerDotComStyleXTheme")),supportsVariables:!0});c.injectTheme()}d=b("LSErrorHandlerDeferred.bs").subscribeToErrors();function a(a){var c=a.threadKey,d=a.refParam;a=a.children;var e=b("ReStore.bs").useHook(void 0);b("MWLSChatPopperUpper.bs").useHook(e);b("MWLSSendMDotMeRef.bs").useHook(d,c);return h.jsx(b("MWInboxProvider.bs").make,{children:h.jsxs(b("CometPlaceholder.react"),{children:[h.jsx(b("MWLSThreadDisplayContext.bs").Provider.make,{children:a,value:1}),h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:h.jsx(b("MWQuickPromotionDesktopInterstitialUpsellContainer.react"),{})}),b("cr:931")==null?null:h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return null},children:h.jsx(j.make,{})}),b("cr:1847793")==null?null:h.jsx(b("CometErrorBoundary.re").make,{fallback:function(a){return h.jsx(b("RecoverableViolation.react"),{errorMessage:"MWXACIntroView component didn't catch own error",errorObject:a,projectName:"messenger_comet"})},children:h.jsx(i.make,{entrypoint:b("CurrentEnvironment").messengerdotcom?"mdotcom":"inbox"})})],fallback:null}),threadKey:c,refParam:d})}e=a;f.$MWMessengerDesktopFeedbackSurvey$OR$null$requireCond=b("cr:931");f.$MWXACIntroView$OR$null$requireCond=b("cr:1847793");f.$null$OR$LSPlatformClientStartLoadingEarly$requireCond=b("cr:11591");f.$null$OR$LSPlatformMessengerConfig$requireCond=b("cr:11428");f._unsub=d;f.make=e}),null);
__d("MWLSInbox.re",["MWLSInbox.bs"],(function(a,b,c,d,e,f){a=b("MWLSInbox.bs").make;f.make=a}),null);
__d("MWLSInbox.react",["LSPlatformClientProvider.re","LSPlatformConfig.re","LSPlatformMessengerConfig.re","MWInboxRoot.re","cr:856","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var c;a=a.routeProps;return h.jsx(d("LSPlatformConfig.re").Provider_make,{config:d("LSPlatformMessengerConfig.re").configEagerlyLoaded,children:h.jsx(d("LSPlatformClientProvider.re").make,{children:h.jsx(b("cr:856").make,{refParam:(c=a.ref_param)!=null?c:void 0,threadKey:(c=a.thread_key)!=null?c:void 0,children:h.jsx(d("MWInboxRoot.re").make,{})})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWMessengerDesktopFeedbackSurvey.react",["react","useRainbowNativeSurveyDialog"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef,j="803596357188560";function a(){var a=c("useRainbowNativeSurveyDialog")(j),b=i(!1);h(function(){b.current||(a(),b.current=!0)},[]);return null}g["default"]=a}),98);
__d("MWMessengerDesktopFeedbackSurvey.bs",["MWMessengerDesktopFeedbackSurvey.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWMessengerDesktopFeedbackSurvey.react");f.make=a}),null);
__d("MWTetraInboxLeftRailHeader.bs",["fbt","CometLeftRailHeader.react","MWInboxLeftRailHeaderAuxiliary.bs","bs_caml_option","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.xstyle,d=a.showMessageRequests,e=a.showHidden,f=a.showActiveContacts;a=a.showRestrictedAccounts;d={auxiliary:i.jsx(b("MWInboxLeftRailHeaderAuxiliary.bs").make,{showMessageRequests:d,showHidden:e,showActiveContacts:f,showRestrictedAccounts:a}),title:g._("Chats")};c!==void 0&&(d.xstyle=b("bs_caml_option").valFromOption(c));return i.jsx(b("CometLeftRailHeader.react"),d)}c=a;f.make=c}),null);
__d("TetraInboxLeftRailHeaderIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g){"use strict";a=b("fbicon")._(g("484387"),20);c={icon:a};d=b("fbicon")._(g("507172"),20);e={icon:d};f.Settings=c;f.Compose=e}),null);
__d("TetraInboxInfoActionsSectionIcons.bs",["ix","fbicon"],(function(a,b,c,d,e,f,g){"use strict";c=(a=b("fbicon"))._(g("603566"),20);d="primary";e={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:c,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:d,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};b={icon:c,primaryAddOn:e};d=a._(g("477831"),20);c="primary";e={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:d,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:c,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};c={icon:d,primaryAddOn:e};d=a._(g("540023"),20);e="primary";e={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:d,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:e,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};d={icon:d,primaryAddOn:e};e=a._(g("491286"),20);var h="primary";h={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:e,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:h,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};e={icon:e,primaryAddOn:h};h=a._(g("538183"),20);a="primary";g={alt:void 0,"aria-label":void 0,"aria-labelledby":void 0,disabled:void 0,icon:h,onPress:void 0,onHoverIn:void 0,onHoverOut:void 0,testid:void 0,color:a,ref:void 0,size:void 0,linkProps:void 0,type:"icon"};a={icon:h,primaryAddOn:g};f.EditNicknames=b;f.ChangeChatName=c;f.ChangePhoto=d;f.Search=e;f.LeaveChat=a}),null);
__d("MWLSThreadHasMoreSharedAttachments.bs",["MWThreadKey.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_belt_Option","bs_caml","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("ReStore.bs").useHook(void 0),d=b("MWThreadKey.bs").useIdMemoizedExn(void 0);return b("bs_belt_Option").getWithDefault(b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"attachments_ranges_v2__generated").desc,{hd:d,tl:0}),function(c){return b("bs_caml").i64_eq(c.b,a)}),function(a){return a.g})},[c,d,JSON.stringify(a)])),!0)}f.useHook=a}),null);
__d("MWInboxInfoSharedFiles.bs",["CometColumn.react","CometColumnItem.react","CometPressable.react","FBID.bs","LSThreadMediaGalleryGroup.bs","MWChatMessageId.bs","MWFilePressable.bs","MWLSLoadMoreThreadSharedAttachments.bs","MWLSThreadHasMoreSharedAttachments.bs","MessengerFilePreviewGenerationEntryPoint","TetraListCell.react","bs_caml_int64","bs_caml_option","bs_curry","bs_int64","cr:599","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){a=a.attachments;var c=b("MWLSThreadHasMoreSharedAttachments.bs").useHook(b("LSThreadMediaGalleryGroup.bs").filesOnly),d=b("MWLSLoadMoreThreadSharedAttachments.bs").useHook(b("LSThreadMediaGalleryGroup.bs").filesOnly);return h.jsxs(b("CometColumn.react"),{children:[a.map(function(a){var c=a.h;c=c!==void 0?c:"(Unnamed file)";if(b("cr:599")==null){var d=a.S,e=a.U,f=a.T;d={body:d!==void 0?d:null,headline:c,level:4};e=e!==void 0?b("bs_caml_int64").to_int32(e):void 0;e!==void 0&&(d.bodyLineLimit=e);e=f!==void 0?b("bs_caml_int64").to_int32(f):void 0;e!==void 0&&(d.headlineLineLimit=e);f=h.jsx(b("TetraListCell.react"),d)}else f=h.jsx(b("cr:599").make,{filename:c});e={messageID:b("MWChatMessageId.bs").makeSent(b("bs_int64").to_string(a.a),a.c,b("bs_int64").to_string(a.b)),entryPoint:b("MessengerFilePreviewGenerationEntryPoint").INBOX_INFO_V2,children:f};d=b("FBID.bs").ofString(a.e);d!==void 0&&(e.attachmentID=b("bs_caml_option").valFromOption(d));a.A!==void 0&&(e.url=a.A);return h.jsx(b("CometColumnItem.react"),{children:h.jsx(b("MWFilePressable.bs").make,e)},a.e)}),c?h.jsx(b("CometPressable.react"),{onPress:function(a){return b("bs_curry")._1(d,void 0)},children:"Show More"}):null]})}c=a;f.$MWInboxInfoSharedFileLink$OR$null$requireCond=b("cr:599");f.make=c}),null);
__d("MWInboxInfoSharedFilesSection.bs",["fbt","LSThreadMediaGalleryGroup.bs","MWInboxInfoSharedFiles.bs","MWInboxPersistedUIState.bs","MWLSLoadMoreThreadSharedAttachments.bs","MWListCell.bs","MessagingAttachmentType.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","TetraListCell.react","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","cr:10733","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react"),j=b("cr:10733")==null?void 0:b("bs_caml_option").some(b("cr:10733"));function a(a){a=a.thread;var c=b("MWInboxPersistedUIState.bs").useHook(!1,"__MWInboxInfoSharedFilesSection.isOpen__"),d=c[1],e=c[0],f=b("ReStore.bs").useHook(void 0),h=a.a;c=JSON.stringify(h);var k=b("MWLSLoadMoreThreadSharedAttachments.bs").useHook(b("LSThreadMediaGalleryGroup.bs").filesOnly);i.useEffect(function(){b("bs_curry")._1(k,void 0)},[k]);var l=b("bs_belt_Option").map(b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").filter(b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"attachments_ranges_v2__generated").desc,{hd:h,tl:0}),function(a){return b("bs_caml").i64_eq(a.b,b("LSThreadMediaGalleryGroup.bs").filesOnly)})},[f,c])),function(a){return a.c});a=b("ReQLSubscription.bs").useArray(i.useMemo(function(){if(l!==void 0)return b("ReQL.bs").filter(b("ReQL.bs").bounds(b("ReQLTable").table(f,"attachments").index("fk_messages").desc,{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:h,tl:{hd:l,tl:0}}},{NAME:"lessThanOrEqual",VAL:{hd:h,tl:{hd:[2328,1316134911],tl:0}}}]}),function(a){return b("bs_caml").i64_eq(a.f,b("MessagingAttachmentType.bs").file)});else return b("SortedAsyncIterable.bs").empty(void 0)},[f,c,l]));c=i.jsx(b("MWInboxInfoSharedFiles.bs").make,{attachments:a});if(a.length>0)if(b("cr:10733")==null)return i.jsx(b("TetraListCell.react"),{headline:g._("Shared files"),addOnSecondary:b("MWListCell.bs").SecondaryAddOn.expander({children:c,open:e,type:"expander"}),emphasized:!0,level:4,onPress:function(a){return b("bs_curry")._1(d,function(a){return!e})}});else return i.jsx(j.make,{children:c,onPress:function(a){return b("bs_curry")._1(d,function(a){return!e})},label:g._("Shared files"),isOpen:e,testid:"mw_privacy_and_support_section_button"});else return null}c=a;f.$MWCollapsible$requireCond=b("cr:10733");f.make=c}),null);
__d("MWXACIntroView.bs",["MWXACIntroView.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWXACIntroView.react");f.make=a}),null);
__d("MWV2ConversationScrollerRefs.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var b=h.useRef(null),c=h.useRef(0);return h.useMemo(function(){return{scrollerRef:b,scrollPositionRef:c}},[])}f.useHook=a}),null);
__d("MWV2JumpToMostRecentMessage.bs",["MWVisibleMessageContext.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWVisibleMessageContext.bs").useHook(void 0),d=c.visibleMessage,e=c.setVisibleMessage,f=h.useCallback(function(b){b=a.current;if(!(b==null))return b.scrollToBottom()},[a]);return h.useCallback(function(a){if(d!==void 0)return b("bs_curry")._1(e,function(a){});else return b("bs_curry")._1(f,void 0)},[f,d,e])}f.useHook=a}),null);
__d("MWV2JumpToMostRecentMessageButton.bs",["fbt","CurrentUser","MWV2ColorUtils.bs","MWV2JumpToMostRecentMessage.bs","MWV2Theme.bs","ODS","TetraCircleButton.react","bs_curry","react","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h,i,j=h||b("react"),k={root:{position:"l9j0dhe7",width:"k4urcfbm",height:"do00u71z"},button:{position:"pmk7jnqg",bottom:"i09qtzwb",start:"kfkz5moi",marginStart:"pg7hd1hw",backgroundColor:"nred35xi",transform:"n9g6laej",transitionProperty:"flx89l3n",transitionDuration:"kmdw4o4n",transitionTimingFunction:"heur4gxb",zIndex:"tghn160j",boxShadow:"oyvrxjdn",borderTopStartRadius:"s45kfl79",borderTopEndRadius:"emlxlaya",borderBottomEndRadius:"bkmhp75w",borderBottomStartRadius:"spb7xbtv"},visible:{transform:"amx3n8jj"}};function a(a){var c=a.scrollerRefs,d=a.visible,e=a.onPress;a=b("MWV2Theme.bs").useHook(void 0);var f=a.threadTheme,h=b("MWV2JumpToMostRecentMessage.bs").useHook(c.scrollerRef);return j.useMemo(function(){return j.jsx("div",{className:(i||(i=b("stylex")))(k.root),children:j.jsx("div",{className:i(k.button,d?k.visible:!1),children:j.jsx(b("TetraCircleButton.react"),{color:"white",disabled:!d,icon:function(a){a=b("MWV2ColorUtils.bs").int64ToHex(f.c);return j.jsx("svg",{width:"18",height:"18",viewBox:"7 7 22 22",fill:"none",children:j.jsx("path",{d:"M24.616 18.366a1.25 1.25 0 011.768 1.768l-7.5 7.5a1.25 1.25 0 01-1.768 0l-7.5-7.5a1.25 1.25 0 011.768-1.768l4.94 4.94a.25.25 0 00.426-.177V9.25a1.25 1.25 0 112.5 0v13.879c0 .222.27.334.427.176l4.94-4.939z",fill:a})})},label:g._("Go to most recent message"),onPress:function(a){b("bs_curry")._1(h,void 0);b("bs_curry")._1(e,void 0);a=b("CurrentUser").getAppID();a=a==null?"unknown":a;b("ODS").bumpEntityKey(3185,"mw_jump_to_bottom","app_id."+a)},size:40})})})},[h,e,d,f])}c=a;f.styles=k;f.make=c}),null);
__d("MWV2IsTabFocusedContext.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react"),i=h.createContext(!1);function a(a){var b=a.children;a=a.isFocused;return h.createElement(i.Provider,{value:a,children:b})}function c(a){return h.useContext(i)}d=a;f.make=d;f.useContext=c}),null);
__d("MWV2MessageScroller.bs",["LSMailboxMessagesRangeQueryDirection.bs","MWChatConversationScroller.bs","MWLSThreadDisplayContext.bs","MWV2IsTabFocusedContext.bs","UserActivity","bs_belt_Option","bs_caml","bs_caml_option","bs_curry","cr:10880","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=b("MWV2IsTabFocusedContext.bs").useContext(void 0),e=b("MWLSThreadDisplayContext.bs").useHook(void 0),f=e===0?d:!0,g;if(c!==void 0){e=b("bs_caml").i64_gt(c.b,a.i)?c.b:a.i;g=b("bs_caml").i64_gt(e,a.j)}else g=!1;return h.useCallback(function(a){if(b("UserActivity").isOnTab()&&b("UserActivity").isActive()&&f)return g;else return!1},[f,g])}function j(a,c,d){var e=i(a,c);return h.useCallback(function(a){if(b("bs_curry")._1(e,void 0))return b("bs_curry")._1(d,void 0)},[e,d])}function k(a,c){h.useEffect(function(){var d=function(d){if(a.current===0)return b("bs_curry")._1(c,void 0)},e=b("bs_belt_Option").getExn(b("bs_caml_option").undefined_to_opt(typeof window==="undefined"?void 0:window));e.addEventListener("focus",d);document.hasFocus()&&a.current===0&&b("bs_curry")._1(c,void 0);return function(a){e.removeEventListener("focus",d)}},[c,a])}var l=b("cr:10880")==null?function(a){}:b("cr:10880").useHook;function a(a){var c=a.children,d=a.thread,e=a.fetchMore,f=a.markThreadAsRead,g=a.lastMessageToCalculateIfThreadIsRead,i=a.scrollerRefs,m=a.hasMoreBefore,n=a.hasMoreAfter;a=a.onScroll;a=a!==void 0?a:function(a){};var o=i.scrollPositionRef,p=j(d,g,f);b("bs_curry")._1(l,d);k(o,p);return h.jsx(b("MWChatConversationScroller.bs").make,{children:c,scrollPositionRef:o,dispatch:function(a){switch(a){case 0:if(m)return b("bs_curry")._1(e,b("LSMailboxMessagesRangeQueryDirection.bs").before);else return;case 1:if(n)return b("bs_curry")._1(e,b("LSMailboxMessagesRangeQueryDirection.bs").after);else return b("bs_curry")._1(p,void 0);case 2:return b("bs_curry")._1(e,b("LSMailboxMessagesRangeQueryDirection.bs").before)}},hasMoreAfter:n,onScroll:a,ref:i.scrollerRef})}c=a;f.$MAWThreadEvent$OR$null$requireCond=b("cr:10880");f.make=c}),null);
__d("MWInboxTokenizerTokenStrategy.react",["CometTokenizerTokenStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("CometTokenizerTokenStrategy.react"),babelHelpers["extends"]({},a,{level:3}))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWThreadListNewMessageHook.bs",["MWThreadListNewMessageState.bs","bs_curry","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=b("MWThreadListNewMessageState.bs").useDispatch(void 0);h.useEffect(function(){b("bs_curry")._1(c,{TAG:0,_0:!0});return function(a){return b("bs_curry")._1(c,1)}},[c]);h.useEffect(function(){b("bs_curry")._1(c,{TAG:1,_0:a})},[c,a])}f.useHook=a}),null);
__d("MWV1InboxNewMessage.bs",["CometPlaceholder.react","CometProgressRingIndeterminate.react","LSDatabaseType.bs","MWChatLightSpeedSearchTypeahead.bs","MWChatTokenizerLayoutContextualStrategy.react","MWInboxRouteBuilder.bs","MWInboxTokenizerTokenStrategy.react","MWLSDatabaseLazySync.bs","MWSearchTypeaheadViewItemDisabledHook.bs","MWThreadListNewMessageHook.bs","MWThreadListNewMessageState.bs","MWThreadPreview.bs","MWV2ReplyContext.bs","bs_curry","react","stylex","useCometRouterDispatcher","useMWChatSearchTypeaheadCallbacks"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={root:{flexBasis:"rj1gh0hx",flexGrow:"buofh1pr",overflowX:"ni8dbmo4",overflowY:"stjgntxs",flexDirection:"cbu4d94t",display:"j83agx80",backgroundColor:"nred35xi"},spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",flexGrow:"buofh1pr"},searchInputForContactsList:{borderBottom:"s1tcr66n",boxShadow:"mvk8q8v6"},searchInput:{flexShrink:"pfnyh3mw",paddingTop:"cxgpxx05",minHeight:"tgvbjcpo",zIndex:"tkr6xdv7",backgroundColor:"nred35xi",maxHeight:"nwf6jgls",boxShadow:"flhsghwj"}},k={viewXStyle_DO_NOT_USE:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",boxShadow:"nwpbqux9",paddingTop:"cxgpxx05",paddingBottom:"sj5x9vvc"}};function l(a,b){}function m(a){var c=b("useCometRouterDispatcher")();return i.useMemo(function(){return function(d,e){if(c==null)return;b("bs_curry")._1(a,void 0);e=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:d});c.go(e)}},[c,a])}function a(a){var c=b("MWLSDatabaseLazySync.bs").useSync(b("LSDatabaseType.bs").ranking),d=i.useContext(b("MWThreadListNewMessageState.bs").context);a=i.useState(function(){return d.entries});var e=a[0],f=i.useState(function(){return!1}),g=f[1],n=b("MWThreadListNewMessageState.bs").useDispatch(void 0),o=i.useCallback(function(a){return b("bs_curry")._1(n,0)},[n]),p=m(o);o=b("useMWChatSearchTypeaheadCallbacks").useMWChatSearchTypeaheadCallbacks(a[1],p);a=i.useCallback(function(a){return b("bs_curry")._1(g,function(a){return!0})},[g]);var q=i.useMemo(function(){return function(a,c){b("bs_curry")._1(g,function(a){return!0});return p(a,!1)}},[g,p]);i.useEffect(function(){b("bs_curry")._1(c,void 0)},[c]);b("MWThreadListNewMessageHook.bs").useHook(e);var r=i.useMemo(function(){return b("MWChatTokenizerLayoutContextualStrategy.react").createMWChatTokenizerLayoutContextualStrategy(!0,"input")},[]),s=b("MWSearchTypeaheadViewItemDisabledHook.bs").useIsDisabled(e);return i.jsxs("div",{className:(h||(h=b("stylex")))(j.root),children:[i.jsx("div",{className:h(j.searchInput,e.length===0?j.searchInputForContactsList:!1),children:i.jsx(b("MWChatLightSpeedSearchTypeahead.bs").make,{isDisabled:f[0],getIsViewItemDisabled:s,onAddToken:o[1],onChangeTokens:o[0],onSearchAbandon:function(a){},onSearchCompletion:function(a){},tokens:e,xstyles:k,tokenItemRenderer:b("MWInboxTokenizerTokenStrategy.react"),layoutStategyRenderer:r})}),i.jsx(b("CometPlaceholder.react"),{children:i.jsx(b("MWV2ReplyContext.bs").make,{children:i.jsx(b("MWThreadPreview.bs").make,{tokens:e,onBeforeOpenTabForGroup:a,openTabForUser:q,openTabForGroup:q,openTabForPage:l})}),fallback:i.jsx("div",{className:h(j.spinner),children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})})})]})}c=a;f.make=c}),null);
__d("LSNullstateDescriptionType.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;d=[0,2];e=[0,3];f.default_=a;f.subtext=c;f.titleSmallDefault=d;f.titleSmallSubtext=e}),null);
__d("MWV2ContextBanner.bs",["LSMessagingThreadTypeUtil.bs","LSNullstateDescriptionType.bs","LSThreadBitOffset.bs","LSThreadCapabilityBitOffset.bs","LSThreadTitle.bs","MWPTextCommon.react","MWThreadPicture.bs","RecoverableViolation.react","bs_caml","bs_caml_int64","bs_caml_option","cr:11000","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("cr:11000")==null?void 0:b("bs_caml_option").some(b("cr:11000")),k={wrapper:{paddingBottom:"f10w8fjw"}};function l(a){var c=a.kind;a=a.text;if(b("bs_caml").i64_eq(c,b("bs_caml_int64").zero)||b("bs_caml").i64_eq(c,b("LSNullstateDescriptionType.bs").subtext)||b("bs_caml").i64_eq(c,b("LSNullstateDescriptionType.bs").titleSmallDefault)||b("bs_caml").i64_eq(c,b("LSNullstateDescriptionType.bs").titleSmallSubtext))return i.jsx("div",{className:(h||(h=b("stylex")))(k.wrapper),children:i.jsx(b("MWPTextCommon.react"),{align:"center",color:"secondary",type:"body4",children:a})});else return i.jsx(b("RecoverableViolation.react"),{errorMessage:"Unhandled nullstate description",projectName:"messenger_comet"})}c={styles:k,make:l};var m={container:{paddingTop:"aodizinl",paddingBottom:"f10w8fjw",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq"},image:{display:"j83agx80",justifyContent:"taijpn5t",marginBottom:"n851cfcs"},title:{marginBottom:"n851cfcs"}};function n(a){a=a.thread;var c=a.G,d=a.F,e=a.E,f=a.D,g=a.C,k=a.B;return i.jsxs("div",{className:(h||(h=b("stylex")))(m.container),children:[i.jsx("div",{className:h(m.image),children:i.jsx(b("MWThreadPicture.bs").make,{photoSize:"s_60",badgeSize:14,thread:a})}),i.jsx("div",{className:h(m.title),children:i.jsx(b("MWPTextCommon.react"),{align:"center",type:"headlineEmphasized3",children:i.jsx(b("LSThreadTitle.bs").make,{thread:a,wrapOutput:function(a,b,c){return c}})})}),k!==void 0&&g!==void 0?i.jsx(l,{kind:g,text:k}):null,f!==void 0&&e!==void 0?i.jsx(l,{kind:e,text:f}):null,d!==void 0&&c!==void 0?i.jsx(l,{kind:c,text:d}):null,!(b("cr:11000")==null)&&b("LSMessagingThreadTypeUtil.bs").isGroup(a.c)?i.jsx(j.make,{thread:a}):null]})}d={styles:m,make:n};function a(a){a=a.thread;var c=b("LSThreadBitOffset.bs").has(b("LSThreadCapabilityBitOffset.bs").disableContextBanner,a);if(c)return null;else return i.jsx(n,{thread:a})}e=a;f.$MWContextBannerQuickActions$OR$null$requireCond=b("cr:11000");f.NullstateDescription=c;f.Impl=d;f.make=e}),null);
__d("MWV2ThreadNullstate.bs",["CometPressable.react","FBID.bs","LS.bs","LSMailboxOptimisticSendMessageStoredProcedure","LSMailboxType.bs","LSNullstateCTAType.bs","LSThreadAttributionStore.bs","LSThreadAttributionTypeUtil.bs","LSTransaction.bs","LsBotComposerQuickReplyTappedFalcoEvent","LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent","LsFalcoEventEntryPoint.bs","MWInboxProvider.bs","MWLSActor.bs","MWPTextCommon.react","MessageSendClickFalcoEvent","ReStore.bs","bs_caml","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","promiseDone","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={pill:{alignItems:"bp9cbjyn",backgroundColor:"nred35xi",borderTopStartRadius:"emml16de",borderTopEndRadius:"gmcszhul",borderBottomEndRadius:"ols5edhi",borderBottomStartRadius:"gob819ct",boxShadow:"rm35z8s5",boxSizing:"rq0escxv",color:"oo9gr5id",display:"pq6dq46d",fontSize:"jq4qci2q",fontWeight:"b1v8xokw",justifyContent:"taijpn5t",marginTop:"rs0gx3tq",marginEnd:"oi9244e8",marginBottom:"dicw6rsg",marginStart:"h676nmdw",overflowWrap:"jm1wdb64",paddingTop:"fdg1wqfs",paddingBottom:"ae35evdt",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq",wordBreak:"qv66sw1b"}};function k(a){var c=a.onClick;a=a.children;return i.jsx(b("CometPressable.react"),{onPress:c,overlayDisabled:!0,xstyle:function(a){return[j.pill]},children:a})}c={styles:j,make:k};var l={welcome_text:{paddingBottom:"jfpizvyy",paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},privacy_text:{paddingBottom:"ofv0k9yr",paddingEnd:"dflh9lhu",paddingStart:"scb9dxdr"},cta_list:{display:"j83agx80",flexDirection:"cbu4d94t",alignItems:"aovydwv3",justifyContent:"taijpn5t",marginTop:"kvgmc6g5",marginEnd:"cxmmr5t8",marginBottom:"oygrvhab",marginStart:"hcukyx3x"},cta_list_item:{paddingStart:"c088b7cy",paddingEnd:"d1544ag0",paddingBottom:"f10w8fjw"},cta_list_item_center:{alignSelf:"o8rfisnq",paddingEnd:"d1544ag0",paddingStart:"tw6a2znq"}};function m(a,c,d){var e=b("ReStore.bs").useHook(void 0),f=b("MWLSActor.bs").useActor(void 0),g=i.useContext(b("MWInboxProvider.bs").context),h=g.refParam;return i.useCallback(function(g){return function(i){var j=b("LSThreadAttributionStore.bs").getSource(c,b("bs_int64").to_string(a.a)),k=b("LSThreadAttributionTypeUtil.bs").toLSThreadAttribution(j);j=b("bs_caml").i64_eq(g.f,b("LSNullstateCTAType.bs").getStarted)&&b("bs_caml_obj").caml_equal(g.g,i.a);var l=j?h:void 0;b("promiseDone")(b("LSTransaction.bs").run(e,function(c){return b("LSMailboxOptimisticSendMessageStoredProcedure")(f,a.a,a.c,b("LSMailboxType.bs").messenger,i.c,void 0,void 0,void 0,void 0,void 0,void 0,k,l!==void 0?b("bs_caml_option").valFromOption(l):void 0,i.e!==void 0?b("bs_caml_option").valFromOption(i.e):void 0,void 0,void 0,void 0,void 0,!0,!0,void 0,d!==void 0?b("bs_caml_option").valFromOption(d):void 0,void 0,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite"),void 0,void 0);var m=b("FBID.bs").ofString(b("bs_int64").to_string(a.a)),n=function(a){if(m===void 0)return;var c=b("bs_caml_option").valFromOption(m);b("LsBusinessWelcomePageGetStartedButtonTappedFalcoEvent").log(function(a){return{page:{id:c}}})},o=function(a){if(m===void 0)return;var c=b("bs_caml_option").valFromOption(m);b("LsBotComposerQuickReplyTappedFalcoEvent").log(function(a){return{page:{id:c},quick_reply:{id:"",type:64},display:void 0}})};j?n(void 0):o(void 0);b("MessageSendClickFalcoEvent").log(function(){return{message_send_source:{entry_point:b("LsFalcoEventEntryPoint.bs").icebreaker}}})}},[e,f,b("bs_int64").to_string(a.a),c,h])}function a(a){var c=a.thread,d=a.nullstate,e=a.nullstateCtas,f=a.lsSource;a=a.initiatingSource;f=f!==void 0?f:"unknown";var g=m(c,f,a);c=d.b;f=d.c;return i.jsxs(i.Fragment,{children:[c!==void 0?i.jsx("div",{className:(h||(h=b("stylex")))(l.welcome_text),children:i.jsx(b("MWPTextCommon.react"),{align:"center",color:"secondary",type:"headline4",children:c})}):null,f!==void 0?i.jsx("div",{className:(h||(h=b("stylex")))(l.privacy_text),children:i.jsx(b("MWPTextCommon.react"),{align:"center",color:"secondary",type:"body4",children:f})}):null,i.jsx("ul",{className:(h||(h=b("stylex")))(l.cta_list),children:e.map(function(a){var c=b("bs_caml").i64_eq(d.f,b("LSNullstateCTAType.bs").getStarted)&&b("bs_caml_obj").caml_equal(d.g,a.a);return i.jsx("li",{className:(h||(h=b("stylex")))(l.cta_list_item,c?l.cta_list_item_center:!1),children:i.jsx(k,{onClick:function(c){return b("bs_curry")._2(g,d,a)},children:a.c})},b("bs_int64").to_string(a.a))})})]})}d=a;f.Pill=c;f.styles=l;f.useSendIcebreakerMessage=m;f.make=d}),null);
__d("MWV2OpenThreadDetail.bs",["LS.bs","LSAuthorityLevel.bs","LSMailboxOptimisticMarkThreadReadV2StoredProcedure","LSMessagingInitiatingSourceHook.bs","LSTransaction.bs","MWChatLoadMoreItemsIncrementally.bs","MWInboxThreadMessagesSpinner.bs","MWV2ChatMessageListColumn.bs","MWV2ContextBanner.bs","MWV2ConversationScrollerRefs.bs","MWV2CurrentVisibleMessage.bs","MWV2FetchMessagesPage.bs","MWV2JumpToMostRecentMessageButton.bs","MWV2MessageList.bs","MWV2MessageScroller.bs","MWV2QuickReplies.bs","MWV2ThreadNullstate.bs","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","SortedAsyncIterable.bs","bs_caml","bs_caml_array","bs_caml_int64","bs_caml_obj","bs_caml_option","bs_curry","bs_int64","clearTimeout","cr:11088","promiseDone","qex","react","setTimeout"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function i(a,c){var d=b("bs_int64").compare(a.c,c.c);if(d!==0)return d;d=a.d;var e=c.d;if(d===void 0)if(e!==void 0)return-1;else return b("bs_int64").compare(a.b,c.b);if(e===void 0)return 1;d=b("bs_int64").compare(d,e);if(d!==0)return d;else return b("bs_int64").compare(a.b,c.b)}function j(a,c){var d=b("ReStore.bs").useHook(void 0),e=b("ReQLSubscription.bs").useArray(h.useMemo(function(){var e=b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"messages").asc,{hd:c.a,tl:0});if(a!==void 0)return b("ReQL.bs").bounds(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"messages").asc,{hd:c.a,tl:0}),{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:a.b,tl:0}},{NAME:"lessThanOrEqual",VAL:{hd:a.d,tl:0}}]});else if(b("bs_caml").i64_lt(c.Z,b("LSAuthorityLevel.bs").authoritative))return e;else return b("SortedAsyncIterable.bs").empty(void 0)},[d,JSON.stringify(c.a),JSON.stringify(c.Z),JSON.stringify(a)]));return h.useMemo(function(){return e.sort(i)},[e])}function k(a){var c=b("ReStore.bs").useHook(void 0);return h.useCallback(function(d){if(b("bs_caml").i64_ge(a.Z,b("LSAuthorityLevel.bs").authoritative)){b("promiseDone")(b("LSTransaction.bs").run(c,function(c){return b("LSMailboxOptimisticMarkThreadReadV2StoredProcedure")(a.a,b("bs_caml_int64").of_float(Date.now()),b("bs_curry")._1(b("LS.bs").make,c))},"readWrite"),void 0,void 0);return}},[JSON.stringify(a.Z),JSON.stringify(a.a),c])}function l(a){var c=b("ReStore.bs").useHook(void 0),d=b("ReQLSubscription.bs").useFirst(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"thread_nullstate").asc,{hd:a.a,tl:0})},[c,JSON.stringify(a.a)])),e=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(c,"thread_nullstate_ctas").index("threadKeyCtaId").asc,{hd:a.a,tl:0})},[c,JSON.stringify(a.a)]));return[d,e]}function a(a){a=a.thread;var c=b("MWV2ConversationScrollerRefs.bs").useHook(void 0),d=h.useState(function(){return!0}),e=d[1],f=b("MWV2CurrentVisibleMessage.bs").useHook(a,c.scrollerRef),g=f.visibleMessage,i=f.messageRange,m=f.messageRange;g=b("MWChatLoadMoreItemsIncrementally.bs").useLoadMore(g!==void 0?!0:i!==void 0?i.i:!1,void 0,void 0,j(f.messageRange,a),b("MWV2FetchMessagesPage.bs").useFetchMessagesPage(f.messageRange,a.a),m!==void 0?m.h:!1);i=g[2];m=g[0];var n=f.messageRange;n=n!==void 0?n.i:!1;var o=k(a),p=l(a),q=p[0],r=b("LSMessagingInitiatingSourceHook.bs").useHook(void 0),s=b("cr:11088")==null?null:h.jsx(b("cr:11088").make,{thread:a}),t=b("bs_caml_obj").caml_equal(b("bs_caml_option").nullable_to_opt(b("qex")._("297")),"enabled"),u={contents:void 0},v=t?function(a){a=u.contents;a!==void 0&&b("clearTimeout")(b("bs_caml_option").valFromOption(a));a=c.scrollPositionRef.current;a===0?u.contents=b("bs_caml_option").some(b("setTimeout")(function(a){return b("bs_curry")._1(e,function(a){return!0})},0)):u.contents=b("bs_caml_option").some(b("setTimeout")(function(a){return b("bs_curry")._1(e,function(a){return!1})},200))}:function(a){};return q!==void 0&&b("bs_caml").i64_eq(a.i,b("bs_caml_int64").zero)?h.jsxs(h.Fragment,{children:[s,h.jsx(b("MWV2ContextBanner.bs").make,{thread:a}),h.jsx(b("MWV2ChatMessageListColumn.bs").Grow.make,{children:null}),h.jsx(b("MWV2ThreadNullstate.bs").make,{thread:a,nullstate:q,nullstateCtas:p[1],lsSource:"inboxInThread",initiatingSource:r})]}):h.jsxs(h.Fragment,{children:[s,h.jsxs(b("MWV2MessageScroller.bs").make,{children:[h.jsxs(b("MWV2ChatMessageListColumn.bs").Shrinkwrap.make,{children:[h.jsx(b("MWV2ChatMessageListColumn.bs").VerticalRhythm.make,{height:20}),i?h.jsx(b("MWInboxThreadMessagesSpinner.bs").make,{}):h.jsx(b("MWV2ContextBanner.bs").make,{thread:a}),h.jsx(b("MWV2ChatMessageListColumn.bs").VerticalRhythm.make,{height:10})]}),h.jsx(b("MWV2ChatMessageListColumn.bs").Grow.make,{children:null}),h.jsx(b("MWV2MessageList.bs").make,{messages:m,thread:a,isSecureThread:!1,messageElementRefs:f.messageElementRefs.current,scrollerRefs:c}),n&&t?h.jsx(b("MWV2ChatMessageListColumn.bs").Shrinkwrap.make,{children:h.jsx(b("MWInboxThreadMessagesSpinner.bs").make,{})}):null,h.jsx(b("MWV2QuickReplies.bs").make,{threadKey:a.a,message:m[m.length-1|0]})],thread:a,fetchMore:g[1],markThreadAsRead:o,lastMessageToCalculateIfThreadIsRead:m.length!==0?b("bs_caml_array").get(m,m.length-1|0):void 0,scrollerRefs:c,hasMoreBefore:i,hasMoreAfter:n,onScroll:v}),t?h.jsx(b("MWV2JumpToMostRecentMessageButton.bs").make,{scrollerRefs:c,hasMoreAfter:n,visible:!d[0]||n,onPress:function(a){return b("bs_curry")._1(e,function(a){return!0})}}):null]})}c=b("cr:11088");d=a;f.$MWV2ArmadilloDogfoodingUpsell$requireCond=b("cr:11088");f.mwv2ArmadilloDogfoodingUpsell=c;f.useMessages=j;f.make=d}),null);