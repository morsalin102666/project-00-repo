if (self.CavalryLogger) { CavalryLogger.start_js(["ZVYKezx"]); }

__d("MAWThreadId.bs",["MAWHexUtils","bs_caml_int64","bs_int64","recoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g=[-1,4294966296];function a(a){return b("MAWHexUtils").orderPreservingHex(a)}function c(a){var c;return(c=b("bs_caml_int64")).add(c.mul(c.of_int32(a),c.neg_one),g)}function h(a){return b("bs_int64").compare(a,g)===-1}function d(a){if(h(a)){var c;return{_0:(c=b("bs_caml_int64")).to_int32(c.mul(c.sub(a,g),c.neg_one))}}else{b("recoverableViolation")("We are using a thread key which is not a ChatId as a ChatId. This will likely result in a privacy SEV","messenger_web_product");return 0}}f.orderPreservingHex=a;f.ofThreadKey=d;f.toThreadKey=c;f.isThreadId=h}),null);
__d("MWListCell.bs",[],(function(a,b,c,d,e,f){"use strict";var g={};function a(a){return a}function b(a){return a}function c(a){return a}function d(a){return a}function e(a){return a}function h(a){return a}function i(a){return a}a={body:a,$$switch:b,checkbox:c,expander:d,icon:e,disclosure:h,secondaryButton:i};f.PrimaryAddOn=g;f.SecondaryAddOn=a}),null);
__d("MWInboxInfoBlockMessages.bs",["fbt","CometLazyDialogTrigger.react","FBID.bs","JSResourceForInteraction","LSContactBlockedByViewerStatus.bs","LsMessengerThreadDamagingActionsSourceOwner","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_caml","bs_curry","bs_int64","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread,d=a.contactId,e=a.children,f=a.loggingEntryPoint;a=a.loggingSource;var h=b("ReStore.bs").useHook(void 0),j=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(h,"contacts").asc,{hd:d,tl:0})},[h,JSON.stringify(d)])),k=j!==void 0?b("bs_caml").i64_eq(j.n,b("LSContactBlockedByViewerStatus.bs").messageBlocked):!1,l=j!==void 0?b("bs_caml").i64_eq(j.n,b("LSContactBlockedByViewerStatus.bs").fullyBlocked):!1,m=k||l?g._("Unblock"):g._("Block");if(j!==void 0)return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResourceForInteraction")("MWChatBlockActionDialog",{name:"MWChatBlockActionDialog","class":"fluid"}).__setRef("MWInboxInfoBlockMessages.bs"),dialogProps:{targetFBID:b("FBID.bs").ofStringExn(b("bs_int64").to_string(d)),threadFBID:c.a,onClose:function(a){},loggingData:{entryPoint:f,requestId:void 0,source:a,sourceOwner:b("LsMessengerThreadDamagingActionsSourceOwner").MCI}},children:function(a,c){return b("bs_curry")._3(e,a,c,m)}});else return null}c=a;f.make=c}),null);
__d("MWUIThreadEmoji.bs",["cr:610"],(function(a,b,c,d,e,f){"use strict";a=b("cr:610").useEmoji;f.$MWLSThreadEmoji$OR$WorkplaceMSThreadEmoji$requireCond=b("cr:610");f.useEmoji=a}),null);
__d("MWChatTabContentNew.bs",["MWChatComposerMediaDropTarget.bs","MWChatComposerMessageRequestInfoText.bs","MWChatTabContent.bs","MWChatThread.bs","MWChatUserComposer.bs","MWLSThreadIsMessageRequest.bs","MWTheme.bs","MWUIThreadEmoji.bs","bs_caml_option","bs_curry","cr:814","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j=b("cr:814").make;c=b("cr:814").$MWChatAudioRecorderStreamSetup$Deferred;d=b("cr:814").MWChatComposer;e={$MWChatAudioRecorderStreamSetup$Deferred:c,MWChatComposer:d,make:j};function k(a){var c=a.id,d=a.dispatch,e=a.closeTab,f=a.otherUserFbid,g=a.customLikeEmoji,k=a.isTabFocused,l=a.hasContent,m=a.repliedToMessage,n=a.closeReplyPreview,o=a.onSendMessage,p=a.isOptimisticThread;a=a.isLoading;var q=p!==void 0?p:!1;p=a!==void 0?a:!1;var r=b("MWTheme.bs").useTheme(void 0);a=i.useRef(0);var s=i.useState(function(){return!1}),t=s[1],u=s[0];s=i.useRef(null);var v=i.useRef(null),w=i.useRef(null),x=b("MWLSThreadIsMessageRequest.bs").useHook(void 0),y;y=r.TAG===0?void 0:{backgroundImage:b("MWTheme.bs").gradient(void 0,void 0,r._0.colors)};return i.jsx(i.Fragment,{children:i.jsx("div",{className:(h||(h=b("stylex")))(b("MWChatTabContent.bs").styles.main),children:i.jsxs(b("MWChatComposerMediaDropTarget.bs").make,{children:[i.jsx("div",{className:h(b("MWChatTabContent.bs").styles.thread),style:y,children:i.jsx(b("MWChatThread.bs").make,{id:c,scrollPositionRef:a,dispatch:d,spacerRef:v,scrollerRef:s,forceContextBanner:!p})}),i.jsx("div",{className:h(b("MWChatTabContent.bs").styles.composer),children:i.jsx(b("MWChatUserComposer.bs").make,{threadId:c,chatComposer:function(a){return i.jsx(j,{color:b("MWTheme.bs").bottom(r),otherUserFbid:f,isPreviewThread:!0,isOptimisticThread:q,customLikeEmoji:g,isTabFocused:k,shouldShowMenu:!1,hasContent:l,repliedToMessage:m,actionTrayOpen:u,closeActionTray:function(a){return b("bs_curry")._1(t,function(a){return!1})},openActionTray:function(a){return b("bs_curry")._1(t,function(a){return!0})},fileUploadHandlerRef:w,messageRequestInfoText:i.jsx(b("MWChatComposerMessageRequestInfoText.bs").make,{closeTab:function(a){},size:"large",shouldShowMessageRequestInfoText:x}),closeReplyPreview:n,openTabFromPreview:function(a){return d("OpenTabFromPreview")},closeTab:e,onSendMessage:o})}})})],disabled:!1,fileUploadHandlerRef:w,xstyle:b("MWChatTabContent.bs").styles.dropTarget})})})}c={make:k};function a(a){var c=a.id,d=a.isTabFocused,e=a.dispatch,f=a.closeTab,g=a.messages,h=a.hasContent,j=a.changeRepliedToMessage,l=a.repliedToMessage,m=a.closeReplyPreview,n=a.onSendMessage,o=a.isOptimisticThread;a=a.isLoading;o=o!==void 0?o:!1;a=a!==void 0?a:!1;if(typeof c==="object"){var p=c.NAME;p=p==="User"||p==="Page"?b("bs_caml_option").some(c.VAL):void 0}else p=void 0;var q=b("bs_curry")._1(b("MWUIThreadEmoji.bs").useEmoji,void 0),r=function(a){if(typeof a==="object"&&a.NAME==="ClickReplyTo")return b("bs_curry")._1(j,a.VAL);else return e(a)};return i.jsx(k,{id:c,items:g,dispatch:r,closeTab:f,otherUserFbid:p,customLikeEmoji:q,isTabFocused:d,hasContent:h,repliedToMessage:l,closeReplyPreview:m,onSendMessage:n,isOptimisticThread:o,isLoading:a})}d=b("MWChatTabContent.bs").styles;a=a;f.styles=d;f.$MWChatComposer$OR$WorkChatComposer$requireCond=b("cr:814");f.Composer=e;f.Inner=c;f.make=a}),null);
__d("MWChatTabNew.bs",["CometPlaceholder.react","MWChatComposer.bs","MWChatComposerMediaDropTarget.bs","MWChatConnectionStatusCard.bs","MWChatTabContentNew.bs","MWChatTabContentStyles.bs","MWLSChatThreadHook.bs","MWLSRepliedToMessage.bs","MWLSTheme.bs","MWTheme.bs","MWThreadKey.bs","MWThread_DEPRECATED.bs","MWUIChatTabState.bs","bs_belt_Option","bs_caml_option","bs_curry","react","recoverableViolation","stylex","unrecoverableViolation"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react");function j(a){var c=a.hasContent,d=a.isTabFocused,e=a.openTabForGroup;a=function(a){if(typeof a==="object"&&a.NAME==="Group")return e(a.VAL,!1);else{b("recoverableViolation")("expected group","messenger_web_product");return}};var f=i.useRef(null);return i.jsx("div",{className:(h||(h=b("stylex")))(b("MWChatTabContentStyles.bs").styles.main),children:i.jsxs(b("MWChatComposerMediaDropTarget.bs").make,{children:[i.jsx("div",{className:h(b("MWChatTabContentStyles.bs").styles.thread)}),i.jsx("div",{className:h(b("MWChatTabContentStyles.bs").styles.composer),children:i.jsx(b("MWChatComposer.bs").make,{color:b("MWTheme.bs").bottom(b("MWTheme.bs").$$default),otherUserFbid:void 0,isPreviewThread:!0,customLikeEmoji:void 0,isTabFocused:d,shouldShowMenu:!1,hasContent:c,repliedToMessage:void 0,actionTrayOpen:!1,closeActionTray:function(a){},openActionTray:function(a){},fileUploadHandlerRef:f,closeReplyPreview:function(a){},openTabFromPreview:function(a){},closeTab:function(a){},onSendMessage:a})})],disabled:!1,fileUploadHandlerRef:f,xstyle:b("MWChatTabContentStyles.bs").styles.dropTarget})})}c={make:j};function k(a){var c=a.threadId;a=a.children;b("MWLSChatThreadHook.bs").useThread(c);return a}d={make:k};function l(a){var c=a.isTabFocused,d=a.hasContent,e=a.openTabForGroup,f=a.openTabForUser,g=a.openTabForPage;a=a.isOptimisticThread;a=a!==void 0?a:!1;var h=b("MWThread_DEPRECATED.bs").useIdExn(void 0),j=b("MWThreadKey.bs").useIdMemoizedExn(void 0),k=b("MWLSRepliedToMessage.bs").useCurrentlyRepliedToMessage(void 0),l=k[2],m=function(a){var c=a.NAME;if(c==="Group")return e(a.VAL,!1);else if(c==="Page")return g(a.VAL,!1);else if(c==="User")return f(a.VAL,!1);else return b("unrecoverableViolation")("Not supported","messenger_web_product")},n=i.useState(function(){}),o=n[1];n=[{NAME:"Messages",VAL:[]}];j=b("MWLSTheme.bs").useTheme(j);return i.jsx(b("CometPlaceholder.react"),{children:i.jsx(b("MWTheme.bs").provider,{theme:j,children:i.jsx(b("MWChatTabContentNew.bs").make,{id:h,isTabFocused:c,dispatch:function(a){if(typeof a==="object")return;else if(a==="OpenTabFromPreview")return m(h);else if(a==="CloseReplyPreview")return b("bs_curry")._1(l,void 0);else return},closeTab:function(a){},messages:n,hasContent:d,changeRepliedToMessage:k[1],repliedToMessage:k[0],closeReplyPreview:function(a){return b("bs_curry")._1(o,function(a){})},onSendMessage:m,isOptimisticThread:a,isLoading:!1})}),fallback:null})}e={make:l};function a(a){var c=a.previewThreadID,d=a.isTabFocused,e=a.isFetching,f=a.hasContent,g=a.tokens,h=a.openTabForUser,m=a.openTabForGroup,n=a.openTabForPage;a=a.empty;a=a!==void 0?b("bs_caml_option").valFromOption(a):null;return i.jsxs(i.Fragment,{children:[i.jsx(b("MWChatConnectionStatusCard.bs").make,{}),e?null:c!==void 0?i.jsx(b("MWThread_DEPRECATED.bs").make,{id:c,children:i.jsx(b("MWThreadKey.bs").make,{id:b("MWThread_DEPRECATED.bs").toThreadKey(c),children:i.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:{_0:c},children:i.jsx(k,{children:i.jsx(l,{isTabFocused:d,hasContent:f,openTabForGroup:m,openTabForUser:h,openTabForPage:n}),threadId:c})})})}):g.length!==0?i.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:0,tokenProvider:function(a){return g.map(function(a){return a.getRawData().id})},children:i.jsx(j,{tokens:g,hasContent:f,isTabFocused:d,openTabForGroup:m})}):a]})}var m=b("bs_belt_Option").getWithDefault,n=b("MWChatTabContentStyles.bs").styles,o=10;a=a;f.$pipe$question=m;f.contentStyles=n;f.ComposerToCreateNewThread=c;f.ExistingThreadPreviewContainer=d;f.maxMessageCountForPreview=o;f.ExistingThreadPreview=e;f.make=a}),null);
__d("useCometTypeaheadSubscriptionDataSourceFetchResolverNetwork",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useState;function a(a){var b=a.dataSource;a=i(!1);var c=a[0],d=a[1];a=h(function(a){a=a.requestParams;b.fetchNetwork(a,d)},[b]);return[{isLoading:c},a]}g["default"]=a}),98);
__d("useCometTypeaheadSubscriptionDataSourceFetchResolver",["cometTypeaheadODSLogFetchNetworkEvent","cr:1846070","debounce","react","recoverableViolation","useCometTypeaheadSubscriptionDataSourceFetchResolverNetwork"],(function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useEffect,j=e.useRef;function a(a,d){var e=a.dataSource,f=a.dataSourceFetchConfigParams;f=f===void 0?{}:f;var g=f.requestFlow;f=f.shouldDebounceNetwork;var k=f===void 0?!0:f,l=a.onResolvePayload,m=j(c("debounce")(function(a){return a()}));f=c("useCometTypeaheadSubscriptionDataSourceFetchResolverNetwork")({dataSource:e});a=f[0].isLoading;var n=f[1],o=h(function(a,b){var d=b.isTraceComplete;b=b.source;try{l(a,{isTraceComplete:d,source:b})}catch(a){c("recoverableViolation")("Failed to resolve fetched payload","search")}return b},[l]),p=j(g);i(function(){function a(a){var b=a.requestParams;a=b.requestFlow;a!=null&&(p.current=a);var c=function(){return n({requestParams:babelHelpers["extends"]({},b,{requestFlow:p.current})})};Boolean(k)?m.current(function(){return c()}):c()}d!=null&&a(d);var b=m.current;return function(){b.reset()}},[d,n,k,o]);i(function(){var a=e.subscribe(function(a){o(a,{isTraceComplete:!0,source:a.entries.length>0?"network":"network-no-results"}),c("cometTypeaheadODSLogFetchNetworkEvent")&&c("cometTypeaheadODSLogFetchNetworkEvent")("comet.ta.fetch",!0,1),b("cr:1846070")&&b("cr:1846070")(["all"],a)});return a},[e,o]);return[{isLoading:a}]}g["default"]=a}),98);
__d("useCometTypeaheadSubscriptionDataSourceFetch",["react","recoverableViolation","useCometTypeaheadSubscriptionDataSourceFetchResolver"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useState;function a(a){var b=j(null),d=b[0],e=b[1];b=c("useCometTypeaheadSubscriptionDataSourceFetchResolver")(a,d);b=b[0].isLoading;var f=h(function(a,b){b===void 0&&(b="all"),e({requestParams:a,source:b})},[]),g=h(function(a){a=a||{};var b=a.requestFlow;a=a.source;if(d==null){c("recoverableViolation")("Refetch cannot be called with undefined `fetchParams`","search");return}var e=d.requestParams,g=e.loggingEventTrace;e=babelHelpers.objectWithoutPropertiesLoose(e,["loggingEventTrace"]);g=babelHelpers["extends"]({loggingEventTrace:babelHelpers["extends"]({},g,{sequenceID:String(Date.now())}),requestFlow:b},e);f(g,a)},[f,d]),k=a.dataSource;i(function(){return function(){k.unsubscribe()}},[k]);return[{isLoading:b,source:(a=d==null?void 0:d.source)!=null?a:"all"},f,g]}g["default"]=a}),98);
__d("CometInternalTypeaheadSubscriptionProvider",["CometInternalTypeaheadFetchContext","orEmptyArray","react","useCometInternalTypeaheadStateDispatcher","useCometTypeaheadSubscriptionDataSourceFetch","useCometTypeaheadVolumeLoggingProvider"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useMemo;function a(a){var b=a.children,d=a.dataSource,e=a.dataSourceFetchConfigParams,f=a.loggingContext,g=a.onFetchEntries_DO_NOT_USE,k=a.traceProvider;a=c("useCometInternalTypeaheadStateDispatcher")();var l=a.dispatchActiveEntries,m=c("useCometTypeaheadVolumeLoggingProvider")(f);a=c("useCometTypeaheadSubscriptionDataSourceFetch")({dataSource:d,dataSourceFetchConfigParams:e,onResolvePayload:i(function(a,b){a=a.entries;var d=b.isTraceComplete;b=b.source;l(c("orEmptyArray")(a));m.logRequest(o);g&&g(a);k&&!k.isResolved()&&(d&&(b==="cache"&&a.length>=k.getEntriesCountForVisualComplete()?k.setEndReason("max_suggestions_reached"):b==="network"?k.setEndReason("all_queries_completed"):b==="network-no-results"&&k.setEndReason("all_queries_completed_no_network_results"),k.resolve()))},[l,g,k])});f=a[0];var n=f.isLoading,o=f.source,p=a[1],q=a[2];d=j(function(){return{fetch:p,isLoading:n,refetch:q,source:o}},[p,n,q,o]);return h.jsx(c("CometInternalTypeaheadFetchContext").Provider,{value:d,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("BaseSubscriptionTokenizer.react",["CometInternalTypeaheadStateProvider","CometInternalTypeaheadSubscriptionProvider","CometTokenizerInternal.react","emptyFunction","react","useCometUniqueID","useStable"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=[];function a(a,b){var d=a.autoFocus;d=d===void 0?!1:d;var e=a.dataSource,f=a.dataSourceFetchConfigParams,g=a.decorators,j=g===void 0?[]:g;g=a.emptyEntries_DO_NOT_USE;var k=a.id,l=a.isDisabled;l=l===void 0?!1:l;var m=a.label;m=m===void 0?"":m;var n=a.loggingContext,o=a.onAddToken;o=o===void 0?c("emptyFunction"):o;var p=a.onBlur;p=p===void 0?c("emptyFunction"):p;var q=a.onChangeTokens,r=a.onClose,s=a.onEscape;s=s===void 0?c("emptyFunction"):s;var t=a.onFocus;t=t===void 0?c("emptyFunction"):t;var u=a.onOpen,v=a.onRemoveToken;v=v===void 0?c("emptyFunction"):v;var w=a.onSearchCompletion;w=w===void 0?c("emptyFunction"):w;var x=a.placeholder;x=x===void 0?"":x;var y=a.testid;y=y===void 0?"":y;y=a.tokensStrategyRenderer;var z=a.tokens,A=a.viewRole;A=A===void 0?"listbox":A;a=babelHelpers.objectWithoutPropertiesLoose(a,["autoFocus","dataSource","dataSourceFetchConfigParams","decorators","emptyEntries_DO_NOT_USE","id","isDisabled","label","loggingContext","onAddToken","onBlur","onChangeTokens","onClose","onEscape","onFocus","onOpen","onRemoveToken","onSearchCompletion","placeholder","testid","tokensStrategyRenderer","tokens","viewRole"]);var B=c("useCometUniqueID")(),C=c("useStable")(function(){var a=c("CometTokenizerInternal.react");j.forEach(function(b){var c=b.decorate;b=b.params;a=c(a,b)});return a});m=m||x;return h.jsx(c("CometInternalTypeaheadStateProvider"),{emptyEntries_DO_NOT_USE:g,onClose:r,onOpen:u,children:h.jsx(c("CometInternalTypeaheadSubscriptionProvider"),{dataSource:e,dataSourceFetchConfigParams:f,loggingContext:n,children:h.jsx(C,babelHelpers["extends"]({},a,{autoFocus:d,commandConfigs:i,id:(g=k)!=null?g:B,isDisabled:l,label:m,onBackspace:c("emptyFunction"),onBlur:p,onChangeEntries:q,onDownArrow:c("emptyFunction"),onEnter:c("emptyFunction"),onEscape:s,onFocus:t,onHighlightEntry:c("emptyFunction"),onPressEntry:o,onRemoveEntry:v,onSearchCompletion:w,onShiftTab:c("emptyFunction"),onTab:c("emptyFunction"),onUpArrow:c("emptyFunction"),placeholder:x,ref:b,selectedEntries:z,testid:void 0,tokensStrategyRenderer:y,viewRole:A}))})})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("CometTokenizerInputStrategy.react",["BaseTextInput_DEPRECATED.react","CometTokenizerInputWidthResolver.react","cometTypeaheadInputWebkitStyles","react","stylex","useCometTypeaheadInputStrategyOnChangeHandler","useCometUniqueID"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={disabled:{cursor:"rj84mg9z"},input:{backgroundColor:"g5ia77u1",borderTop:"gcieejh5",borderEnd:"bn081pho",borderBottom:"humdl8nn",borderStart:"izx4hr6d",boxSizing:"rq0escxv",color:"oo9gr5id",display:"nc684nl6",fontSize:"jagab5yi",fontWeight:"knj5qynh",lineHeight:"fo6rh5oj",marginTop:"aov4n071",marginEnd:"oi9244e8",marginBottom:"bi6gxh9e",marginStart:"h676nmdw",maxWidth:"d2edcug0",outline:"lzcic4wl",resize:"ieid39z1"},root:{cursor:"o6r2urh6",maxWidth:"d2edcug0",overflowX:"ni8dbmo4",overflowY:"stjgntxs"}};function a(a,b){var d=a.ariaProps;a.description;a.errorMessage;var e=a.id,f=a.inputEndContent,g=a.inputStartContent,j=a.inputExtraProps;j=j===void 0?{}:j;var k=j.xstyle,l=a.isDisabled;a.label;j=a.onChange;var m=a.placeholder,n=a.queryString,o=a.testid,p=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","description","errorMessage","id","inputEndContent","inputStartContent","inputExtraProps","isDisabled","label","onChange","placeholder","queryString","testid"]),q=(o=e)!=null?o:c("useCometUniqueID")(),r=c("useCometTypeaheadInputStrategyOnChangeHandler")({onChange:j});return h.jsxs("div",{className:c("stylex")(i.root,l===!0&&i.disabled),children:[g,h.jsx(c("CometTokenizerInputWidthResolver.react"),{placeholder:m,queryString:n,children:function(a){var e;return h.jsx(c("BaseTextInput_DEPRECATED.react"),babelHelpers["extends"]({},d,p,{autoComplete:"off",className:c("stylex")(i.input,k,c("cometTypeaheadInputWebkitStyles")["default"]),"data-testid":void 0,disabled:l,id:q,onChange:r,placeholder:(e=m)!=null?e:"",ref:b,spellCheck:!1,style:{width:a},type:"search",value:n}))}}),f]})}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("MWChatSearchInputStrategy.react",["fbt","CometScreenReaderText.react","CometTokenizerInputStrategy.react","react","useCometUniqueID"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useMemo,k={inputXStyle:{paddingBottom:"osnr6wyh"}};function a(a,b){var d=j(function(){return{xstyle:k.inputXStyle}},[]),e=c("useCometUniqueID")();return i.jsxs(i.Fragment,{children:[i.jsx(c("CometTokenizerInputStrategy.react"),babelHelpers["extends"]({},a,{ariaProps:babelHelpers["extends"]({},a.ariaProps,{"aria-describedby":e}),inputExtraProps:d,ref:b})),i.jsx(c("CometScreenReaderText.react"),{"aria-hidden":!0,id:e,text:h._("Search by name or group")})]})}a.displayName=a.name+" [from "+f.id+"]";b=i.forwardRef(a);g["default"]=b}),98);
__d("CometTypeaheadSubscriptionDataSource",[],(function(a,b,c,d,e,f){"use strict";a=function(){function a(){this.$1=new Set()}var b=a.prototype;b.subscribe=function(a){return this.$2(a)};b.fetchNetwork=function(a,b){};b.publish=function(a){Array.from(this.$1).forEach(function(b){b(a)})};b.$2=function(a){var b=this;this.$1.add(a);return function(){b.$1["delete"](a)}};b.unsubscribe=function(){this.$1.clear()};return a}();f["default"]=a}),66);
__d("mwStaticSearchEntries",["fbt","MWChatSearchTypeaheadDataEntry"],(function(a,b,c,d,e,f,g,h){"use strict";var i=h._("More results");function a(){return new(c("MWChatSearchTypeaheadDataEntry"))({displayName:"Expand Search for query",id:"expand_search",imageUrl:"",isContact:!1,resultType:"expand_search",secondaryImageUrl:"",section:i.toString(),subtext:""})}function b(a){return new(c("MWChatSearchTypeaheadDataEntry"))({displayName:'Search messages for "'+a+'"',id:a,imageUrl:"",isContact:!1,resultType:"messages",secondaryImageUrl:"",subtext:""})}g.createExpandSearchEntry=a;g.createMessageSearchEntry=b}),98);
__d("MWChatSearchTypeaheadLightspeedSubscriptionDataSource",["CometTypeaheadSubscriptionDataSource","FBLogger","MWChatSearchIssueLightspeedQuery.re","MWChatSearchTypeaheadDataEntry","MWLSSearchIssueSearchQuerySupportedTypes.re","cr:10864","mwChatSearchPayloadDecoratorRemoveDuplicates","mwChatSearchPayloadDecoratorRemoveExcluded","mwStaticSearchEntries","regeneratorRuntime"],(function(a,b,c,d,e,f,g){"use strict";a=function(a){babelHelpers.inheritsLoose(e,a);function e(b){var d,e=b.database,f=b.excludedIDs;f=f===void 0?[]:f;var g=b.lightspeedSupportedTypes;g=g===void 0?c("MWLSSearchIssueSearchQuerySupportedTypes.re").allSupportedTypes:g;var h=b.source;h=h===void 0?c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal:h;var i=b.includeRecommendations;i=i===void 0?!0:i;b=b.includeThreadSearch;b=b===void 0?!1:b;d=a.call(this)||this;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource1=[];d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource2=[];d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6=function(){};d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource2=f;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3=g;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4=h;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource5=e;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource7=i;d.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource8=b;return d}var f=e.prototype;f.unsubscribe=function(){a.prototype.unsubscribe.call(this),this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6()};f.fetchNetwork=function(a,d){var e=this,f;return b("regeneratorRuntime").async(function(g){while(1)switch(g.prev=g.next){case 0:this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6();if(!(a.query.length===0&&!this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource7)){g.next=3;break}return g.abrupt("return",this.publish({entries:[],params:a}));case 3:d(!0);if(!(a.query.length===0)){g.next=7;break}this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6=c("MWChatSearchIssueLightspeedQuery.re").requestRecommendations(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource5,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4,a,function(b){e.onData(a,b),d(!1)});return g.abrupt("return");case 7:f=[];if(!b("cr:10864")){g.next=19;break}g.prev=9;g.next=12;return b("regeneratorRuntime").awrap(b("cr:10864").fetchResults(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4,a));case 12:f=g.sent;g.next=18;break;case 15:g.prev=15,g.t0=g["catch"](9),c("FBLogger")("messenger_search").catching(g.t0).mustfix("Error performing MWChatSearchIssueMAWFTSQuery.fetchResults");case 18:this.onData(a,f);case 19:this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource6=c("MWChatSearchIssueLightspeedQuery.re").requestResults(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource5,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource3,this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource4,a,function(b){e.onData(a,f.concat(b)),d(!1)});case 20:case"end":return g.stop()}},null,this,[[9,15]])};f.onData=function(a,b){b=b.map(c("MWChatSearchTypeaheadDataEntry").fromSearchResult);b=[].concat(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource8&&a.query.length?[d("mwStaticSearchEntries").createMessageSearchEntry(a.query)]:[],b);var e=[],f=new Set();for(var b=b,g=Array.isArray(b),h=0,b=g?b:b[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var i;if(g){if(h>=b.length)break;i=b[h++]}else{h=b.next();if(h.done)break;i=h.value}i=i;f.has(i.getKey())||(e.push(i),f.add(i.getKey()))}i={entries:e,params:a};h=c("mwChatSearchPayloadDecoratorRemoveDuplicates")(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource1);g=c("mwChatSearchPayloadDecoratorRemoveExcluded")(this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource2);this.publish(g(h(i)))};f.setTokens=function(a){this.$MWChatSearchTypeaheadLightspeedSubscriptionDataSource1=a};return e}(c("CometTypeaheadSubscriptionDataSource"));g["default"]=a}),98);
__d("MWChatSearchTypeaheadViewStrategy.react",["CometTypeaheadProgressGlimmer.react","MWChatSearchLightspeedTypeaheadViewList.react","MWJewelSearchTypeaheadViewItem.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){var b=a.ariaProps,d=a.entries,e=a.extraViewProps,f=a.highlightedEntry,g=a.isLoading;a.onAbandonTypeahead_DO_NOT_USE;var j=babelHelpers.objectWithoutPropertiesLoose(a,["ariaProps","entries","extraViewProps","highlightedEntry","isLoading","onAbandonTypeahead_DO_NOT_USE"]),k=e==null?void 0:e.getIsViewItemDisabled,l=i(function(a){return k?k(a):!1},[k]);return h.jsxs(h.Fragment,{children:[g&&h.jsx(c("CometTypeaheadProgressGlimmer.react"),{}),h.jsx(c("MWChatSearchLightspeedTypeaheadViewList.react"),{ariaProps:b,entries:d,highlightedEntry:f,children:function(a){var b=a.entry,d=a.isActive;a=a.itemRole;return h.createElement(c("MWJewelSearchTypeaheadViewItem.react"),babelHelpers["extends"]({},j,{entry:b,isActive:d,isDisabled:l(b),key:b.getKey(),role:a}))}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("ReStore.re",["ReStore.bs"],(function(a,b,c,d,e,f){a=b("ReStore.bs").Provider.make;f.Provider_make=a;c=b("ReStore.bs").useHook;f.useHook=c;d=b("ReStore.bs").Provider;f.Provider=d}),null);
__d("withMWChatEscapeDecorator",["react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a,b){var c=b.onSearchAbandon;return h.forwardRef(function(b,d){var e=b.onChange,f=b.onEscape,g=b.queryString,j=b.selectedEntries;b=babelHelpers.objectWithoutPropertiesLoose(b,["onChange","onEscape","queryString","selectedEntries"]);var k=i(function(){g!==""?e(""):j.length===0&&(c&&c()),f&&f()},[g,j.length,f,e]);return h.jsx(a,babelHelpers["extends"]({},b,{onChange:e,onEscape:k,queryString:g,ref:d,selectedEntries:j}))})}g["default"]=a}),98);
__d("withMWChatSearchTokenManagementDecorator",["MWChatSearchResultType","orEmptyArray","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect;function a(a,b){var d=b.dataSource;return h.forwardRef(function(b,e){var f=b.onChangeEntries,g=b.onPressEntry,k=b.onRemoveEntry,l=b.onSearchCompletion,m=b.selectedEntries;b=babelHelpers.objectWithoutPropertiesLoose(b,["onChangeEntries","onPressEntry","onRemoveEntry","onSearchCompletion","selectedEntries"]);j(function(){return d.setTokens(m)},[]);var n=i(function(a){var b=a.getRawData();b=b.resultType;if(b===c("MWChatSearchResultType").USER){b=[].concat(m,[a]);d.setTokens(b);f(b)}g&&g(a)},[f,g,m]),o=i(function(a){var b=c("orEmptyArray")(m).filter(function(b){return b.getKey()!==a.getKey()});f(b);d!=null&&d.setTokens(b);k&&k(a)},[f,k,m]),p=i(function(){d.setTokens([]),l&&l()},[l]);return h.jsx(a,babelHelpers["extends"]({},b,{onChangeEntries:f,onPressEntry:n,onRemoveEntry:o,onSearchCompletion:p,ref:e,selectedEntries:m}))})}g["default"]=a}),98);
__d("MWChatLightSpeedSearchTypeahead.react",["BaseSubscriptionTokenizer.react","MAWGating.re","MWChatSearchInputStrategy.react","MWChatSearchIssueLightspeedQuery.re","MWChatSearchTypeaheadLightspeedSubscriptionDataSource","MWChatSearchTypeaheadViewStrategy.react","MWLSSearchIssueSearchQuerySupportedTypes.re","ReStore.re","react","useBaseTokenizerDecorators","useCometTokenizerListTokenStrategy","useStable","withMWChatEscapeDecorator","withMWChatSearchTokenManagementDecorator"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useMemo,k=b.useRef,l=b.useState;function a(a){var b=a.excludedIDs,e=a.getIsViewItemDisabled,f=a.includeRecommendations,g=f===void 0?!0:f;f=a.isDisabled;var m=a.layoutStategyRenderer,n=a.onAddToken,o=a.onChangeTokens,p=a.onSearchAbandon,q=a.onSearchCompletion,r=a.tokenItemRenderer,s=a.tokens;a=a.xstyles;var t=l(""),u=t[0];t=t[1];var v=d("ReStore.re").useHook(),w=c("useStable")(function(){return new(c("MWChatSearchTypeaheadLightspeedSubscriptionDataSource"))({database:v,excludedIDs:b,includeRecommendations:g,lightspeedSupportedTypes:c("MWLSSearchIssueSearchQuerySupportedTypes.re").allSupportedTypes,source:c("MWChatSearchIssueLightspeedQuery.re").Surfaces.universal})});p=c("useBaseTokenizerDecorators")({escapeDecorator:{decorate:c("withMWChatEscapeDecorator"),params:{onSearchAbandon:p}},tokenManagementDecorator:{decorate:c("withMWChatSearchTokenManagementDecorator"),params:{dataSource:w}}});var x=k(null),y=x.current;i(function(){y&&y.focus()},[y,s]);i(function(){w.setTokens(s)},[w,s]);r=c("useCometTokenizerListTokenStrategy")({tokenItemRenderer:r});var z=j(function(){return{getIsViewItemDisabled:e}},[e]);return h.jsx(c("BaseSubscriptionTokenizer.react"),{autoFocus:!0,dataSource:w,dataSourceFetchConfigParams:d("MAWGating.re").isArmadillo()?{requestFlow:"network-upon-approve"}:{},decorators:p,extraViewProps:z,inputStrategyRenderer:c("MWChatSearchInputStrategy.react"),isDisabled:f,layoutStrategyRenderer:m,loggingContext:"messenger_chat",onAddToken:n,onChange:t,onChangeTokens:o,onSearchCompletion:q,queryString:u,ref:x,testid:void 0,tokens:s,tokensStrategyRenderer:r,viewStrategyRenderer:c("MWChatSearchTypeaheadViewStrategy.react"),xstyles:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWChatLightSpeedSearchTypeahead.bs",["MWChatLightSpeedSearchTypeahead.react"],(function(a,b,c,d,e,f){"use strict";a=b("MWChatLightSpeedSearchTypeahead.react");f.make=a}),null);
__d("LSWhatsAppConnectStatus.bs",["bs_caml_int64"],(function(a,b,c,d,e,f){"use strict";a=b("bs_caml_int64").zero;c=b("bs_caml_int64").one;f.whatsappNotAddressable=a;f.whatsappAddressable=c}),null);
__d("MWLSGroupMembershipMemberCell.bs",["fbt","ix","CometLazyPopoverTrigger.react","CometMiddot.react","FBID.bs","JSResource","LSContactBlockedByViewerStatus.bs","LSWhatsAppConnectStatus.bs","MWInboxRouteBuilder.bs","MWListCell.bs","TetraListCell.react","bs_caml","bs_caml_option","bs_curry","bs_int64","fbicon","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i,j=i||b("react");function a(a){var c=a.thread,d=a.participant,e=a.contact,f=a.showAdminIndicator,i=a.isMAWParticipantSuperAdmin,k=a.isSecure,l=a.cellRef,m=b("bs_curry")._1(b("MWInboxRouteBuilder.bs").buildURL,{thread_key:b("FBID.bs").ofStringExn(b("bs_int64").to_string(e.a))});a=d.f;a=a!==void 0?a:!1;var n=b("bs_caml").i64_neq(e.n,b("LSContactBlockedByViewerStatus.bs").unblocked),o=b("bs_caml").i64_eq(e.P,b("LSWhatsAppConnectStatus.bs").whatsappNotAddressable);if(k&&o)k=g._("Pending").toString();else if(f&&!i)k=a?g._("Admin"):null;else{o=d.g;k=o!==void 0?o:null}var p=[n?g._("Blocked"):null,n&&(f?a:d.g!==void 0)?j.jsx(b("CometMiddot.react"),{},"middot"):null,k],q=p.some(function(a){return a!==null});return j.jsx(b("CometLazyPopoverTrigger.react"),{popoverResource:b("JSResource")("MWLSGroupMembershipMenu.react").__setRef("MWLSGroupMembershipMemberCell.bs"),popoverProps:{onClose:function(a){},thread:c,participant:d,contact:e,isMAWParticipantSuperAdmin:i},popoverType:"menu",align:"end",preloadTrigger:"button",children:function(a,c,f,i,k,n,o){f={headline:e.h,addOnPrimary:{addOn:void 0,shape:"circle",size:36,source:{uri:e.b},alt:e.h,linkProps:{url:m},type:"profile-photo"},addOnSecondaryRef:a,addOnSecondary:b("MWListCell.bs").SecondaryAddOn.icon({"aria-label":g._("Card drop-down menu"),color:"secondary",icon:b("fbicon")._(h("484388"),24),onHoverOut:function(a){return b("bs_curry")._1(k,void 0)},onHoverIn:b("bs_curry").__1(i),onPress:function(a){return b("bs_curry")._1(c,void 0)},onPressIn:b("bs_curry").__1(n),type:"icon",testid:"mw_participant_list_dropdown_menu_button_"+b("bs_int64").to_string(d.b)}),level:4};o=q?b("bs_caml_option").some(j.jsx(j.Fragment,{children:p})):void 0;o!==void 0&&(f.body=b("bs_caml_option").valFromOption(o));l!==void 0&&(f.ref=b("bs_caml_option").valFromOption(l));return j.jsx(b("TetraListCell.react"),f)}})}c=a;f.make=c}),null);
__d("MWLSGroupMembershipMemberList.bs",["LSMessagingThreadTypeUtil.bs","MAWThreadId.bs","MWLSGroupMembershipMemberCell.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLTable","ReStore.bs","bs_curry","bs_int64","cr:9864","react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var c=a.thread,d=a.showAdminsOnly,e=a.showAdminIndicator,f=b("ReStore.bs").useHook(void 0);a=h.useState(function(){});var g=a[1],i=a[0];a=b("ReQLSubscription.bs").useArray(h.useMemo(function(){return b("ReQL.bs").mergeJoin(b("ReQL.bs").getKeyRange(b("ReQLTable").table(f,"participants").asc,{hd:c.a,tl:0}),b("ReQLTable").table(f,"contacts").asc)},[f,JSON.stringify(c.a)]));a=a.slice(0).sort(function(a,b){return b[1].o-a[1].o});d=d?a.filter(function(a){a=a[0].f;if(a!==void 0)return a;else return!1}):a;var j=b("LSMessagingThreadTypeUtil.bs").isSecure(c.c);h.useEffect(function(){if(!(b("cr:9864")==null)&&j){var a=b("MAWThreadId.bs").ofThreadKey(c.a);a&&b("bs_curry")._1(b("bs_curry")._1(b("cr:9864").getGroupSuperAdmin,{threadId:a._0}).sendAndReceive,void 0).then(function(a){b("bs_curry")._1(g,function(b){return a});return b("Promise").resolve(void 0)})}},[JSON.stringify(c.a)]);return d.map(function(a){var d=a[1];return h.jsx(b("MWLSGroupMembershipMemberCell.bs").make,{thread:c,participant:a[0],contact:d,showAdminIndicator:e,isMAWParticipantSuperAdmin:j&&i!==void 0?i===b("bs_int64").to_string(d.a):!1,isSecure:j},b("bs_int64").to_string(d.a))})}c=a;f.$MAWBackendBridge$requireCond=b("cr:9864");f.make=c}),null);
__d("MWInboxInfoNotifications.bs",["fbt","CometLazyDialogTrigger.react","JSResource","MWChatCalculateIsMutedFromExpireTime.bs","MWChatUnmuteThread.bs","MessengerMuteUtils.bs","bs_curry","react"],(function(a,b,c,d,e,f,g){"use strict";var h,i=h||b("react");function a(a){var c=a.thread,d=a.children;a=b("MessengerMuteUtils.bs").calcMuteUntilMs(c);var e=b("MWChatCalculateIsMutedFromExpireTime.bs").useHook(a),f=b("MWChatUnmuteThread.bs").useHook(void 0),h=e?g._("Unmute conversation"):g._("Mute conversation");a=b("MessengerMuteUtils.bs").mutedUntilLabel(a/1e3);var j=a!==void 0?a:void 0;return i.jsx(b("CometLazyDialogTrigger.react"),{dialogResource:b("JSResource")("LSMuteThreadDialogForJSResource.react").__setRef("MWInboxInfoNotifications.bs"),dialogProps:{thread:c},children:function(a,g){return b("bs_curry")._5(d,function(d){if(e)return b("bs_curry")._1(f,c);else return b("bs_curry")._1(a,void 0)},g,h,j,e)}})}c=a;f.make=c}),null);
__d("MWSearchTypeaheadViewItemDisabledHook.bs",["react"],(function(a,b,c,d,e,f){"use strict";var g,h=g||b("react");function a(a){var b=h.useMemo(function(){return[a.some(function(a){return a.getIsInstagramAccount()}),a.some(function(a){return a.getIsGroupsXacIneligible()})]},[a]),c=b[1],d=b[0];return h.useCallback(function(a){var b=a.getIsInstagramAccount(),e=a.getIsGroupsXacIneligible();a=a.getIsInteropIneligible();if(c&&b||d&&e)return!0;else return a},[d,c])}f.useIsDisabled=a}),null);
__d("CometTokenizerLayoutContextualStrategy.react",["CometTokenizerInternalLayoutContextualStrategy.react","CometTypeaheadHelperText.react","react","useCometInternalTypeaheadFetch","useCometInternalTypeaheadState","useCometTokenizerInternalLayoutContextualStrategyHandlers","useCometTypeaheadInputRefs","useCometTypeaheadLayoutContextualStrategyARIAProps","useCometTypeaheadLayoutStrategyStyles"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={view:{backgroundColor:"cwj9ozl2",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",maxHeight:"nu4hu5il",minHeight:"e9s0xebz"}};function a(a,b){var d=a.extraLayoutProps;d=d===void 0?{}:d;var e=d.afterViewContent;d=d.beforeViewContent;var f=a.helperText,g=a.isDisabled,j=a.label,k=a.onAbandonTypeahead_DO_NOT_USE,l=a.onBackspace,m=a.onBlur,n=a.onChange,o=a.onClick,p=a.onDownArrow,q=a.onEnter,r=a.onEscape,s=a.onHighlightEntry,t=a.onOutsideClick,u=a.onPressEntry,v=a.onRemoveEntry,w=a.onShiftTab,x=a.onTab,y=a.onUpArrow,z=a.queryString,A=a.viewRole,B=a.selectedEntries,C=a.xstyles;C=C===void 0?{}:C;var D=C.viewXStyle_DO_NOT_USE;C=babelHelpers.objectWithoutPropertiesLoose(C,["viewXStyle_DO_NOT_USE"]);a=babelHelpers.objectWithoutPropertiesLoose(a,["extraLayoutProps","helperText","isDisabled","label","onAbandonTypeahead_DO_NOT_USE","onBackspace","onBlur","onChange","onClick","onDownArrow","onEnter","onEscape","onHighlightEntry","onOutsideClick","onPressEntry","onRemoveEntry","onShiftTab","onTab","onUpArrow","queryString","viewRole","selectedEntries","xstyles"]);b=c("useCometTypeaheadInputRefs")(b);var E=b.composedRef;b=b.inputRef;var F=c("useCometInternalTypeaheadState")(),G=F.activeEntries,H=F.highlightedEntry;F=F.isOpened;var I=c("useCometInternalTypeaheadFetch")();I=I.isLoading;b=c("useCometTokenizerInternalLayoutContextualStrategyHandlers")({inputRef:b,isDisabled:g,onAbandonTypeahead_DO_NOT_USE:k,onBackspace:l,onBlur:m,onChange:n,onClick:o,onDownArrow:p,onEnter:q,onEscape:r,onHighlightEntry:s,onOutsideClick:t,onPressEntry:u,onRemoveEntry:v,onShiftTab:w,onTab:x,onUpArrow:y,queryString:z,selectedEntries:B});k=c("useCometTypeaheadLayoutContextualStrategyARIAProps")({activeEntries:G,helperText:f,highlightedEntry:H,inputLabel:j,isOpened:F,viewRole:A});l=c("useCometTypeaheadLayoutStrategyStyles")({xstyles:babelHelpers["extends"]({},C,{viewXStyle_DO_NOT_USE:[i.view,D]})});return h.jsx(c("CometTokenizerInternalLayoutContextualStrategy.react"),babelHelpers["extends"]({},a,b,{extraLayoutProps:{afterViewContent:e,ariaProps:k,beforeViewContent:d,helperTextComponent:f!=null?h.jsx(c("CometTypeaheadHelperText.react"),{text:f}):null,isLoading:I,isOpened:F},helperText:f,isDisabled:g,label:j,queryString:z,ref:E,selectedEntries:B,viewRole:A,xstyles:l}))}a.displayName=a.name+" [from "+f.id+"]";b=h.forwardRef(a);g["default"]=b}),98);
__d("MWChatTokenizerLayoutContextualStrategy.react",["fbt","CometTokenizerLayoutContextualStrategy.react","CurrentUser","gkx","react","stylex","useCometInternalTypeaheadStateDispatcher"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useMemo,l={layout:{height:"datstx6m",width:"k3oul89m"},root:{display:"j83agx80"},to:{color:"oo9gr5id",fontSize:"jq4qci2q",fontWeight:"knj5qynh",lineHeight:"a3bd9o3v",marginStart:"dhix69tm",marginTop:"aov4n071",position:"pmk7jnqg"},typeaheadInput:{backgroundColor:"nred35xi",boxSizing:"rq0escxv",display:"a8c37x1j",paddingEnd:"dflh9lhu",paddingStart:"jxo0map8"},view:{backgroundColor:"nred35xi",borderTop:"opwvks06",flexShrink:"g5gj957u",maxHeight:"nyzjzqfi",minHeight:"b8v32qnc",overflowY:"eg9m0zos",width:"jbcpqwzg","@media (min-height: 1280px)":{maxHeight:"gbk4by2p",minHeight:"a3d5bthu"}}};function a(a,b){a===void 0&&(a=!1);b===void 0&&(b="root");function d(d,e){var f=d.xstyles;f=f===void 0?{}:f;var g=f.viewXStyle_DO_NOT_USE;f=babelHelpers.objectWithoutPropertiesLoose(d,["xstyles"]);d=c("useCometInternalTypeaheadStateDispatcher")();var m=d.dispatchIsOpened;j(function(){(a||!c("gkx")("1526694")||c("CurrentUser").isWorkUser())&&m(!0)},[]);d=k(function(){return{inputXStyle:[l.typeaheadInput],layoutXStyle:[l.layout],viewXStyle_DO_NOT_USE:[l.view,g]}},[g]);return i.jsxs("div",{className:c("stylex")(l.root),children:[i.jsx("div",{"aria-hidden":"true",className:c("stylex")(l.to),children:h._("To:")}),i.jsx(c("CometTokenizerLayoutContextualStrategy.react"),babelHelpers["extends"]({},f,{contextualProps:{align:"start",disableAutoFlip:!0},label:h._("Send message to"),layerContext:b,ref:e,xstyles:d}))]})}d.displayName=d.name+" [from "+f.id+"]";return i.forwardRef(d)}g.createMWChatTokenizerLayoutContextualStrategy=a}),98);
__d("MWChatTokenizerTokenStrategy.react",["CometTokenizerTokenStrategy.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx("div",{"data-testid":void 0,children:h.jsx(c("CometTokenizerTokenStrategy.react"),babelHelpers["extends"]({},a,{level:4}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("useMWChatSearchTypeaheadCallbacks",["MessengerWebEventsFalcoEvent","gkx","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;a=function(a,b){var d=h(function(b){var d=b.some(function(a){return a.getIsInstagramAccount()});(!d||c("gkx")("2605"))&&a(b)},[a]),e=h(function(a){var d=a.getResultType(),e=a.getRawData(),f=e.id;switch(d){case"user":c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",other_user_fbid:f}});a.getIsInstagramAccount()&&!c("gkx")("2605")&&b(f,!1);return;case"group":c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",thread_fbid:f}});return b(f,!1);case"page":c("MessengerWebEventsFalcoEvent").log(function(){return{event_name:"search_click_result",other_user_fbid:f}});return b(f,!1)}},[b]);return[d,e]};g.useMWChatSearchTypeaheadCallbacks=a}),98);
__d("MWThreadListItemPressable.bs",["BaseListCell.react","CometPressable.react","CurrentEnvironment","MAWGating.bs","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={pressable:{borderTopStartRadius:"ue3kfks5",borderTopEndRadius:"pw54ja7n",borderBottomEndRadius:"uo3d90p7",borderBottomStartRadius:"l82x9zwi",display:"a8c37x1j",marginEnd:"oi9244e8",marginStart:"h676nmdw"},pressableForFB:{paddingTop:"cxgpxx05",paddingEnd:"dflh9lhu",paddingBottom:"sj5x9vvc",paddingStart:"scb9dxdr"},pressableForMessenger:{paddingTop:"jktsbyx5",paddingEnd:"rv4hoivh",paddingBottom:"osnr6wyh",paddingStart:"h4z51re5"},pressableSelected:{backgroundColor:"i224opu6"},addOnStartContainer:{display:"j83agx80"},addOnStartContainerForFB:{paddingEnd:"d1544ag0"},addOnStartContainerForMessenger:{paddingEnd:"rv4hoivh"},addOnEndContainer:{alignItems:"bp9cbjyn",display:"j83agx80",justifyContent:"taijpn5t",minWidth:"ia34cu78"},addOnEndContainerForFB:{paddingStart:"tw6a2znq"},addOnEndContainerForMessenger:{paddingStart:"h4z51re5"}};function a(a){var c=a.onPress,d=a.linkProps_,e=a.onHoverIn,f=a.onHoverOut,g=a.selected,k=a.addOnStart,l=a.addOnEnd;a=a.content;k={addOnStart:i.jsx("div",{className:(h||(h=b("stylex")))(j.addOnStartContainer,b("CurrentEnvironment").messengerdotcom&&b("MAWGating.bs").isArmadillo(void 0)?j.addOnStartContainerForMessenger:j.addOnStartContainerForFB),children:k}),addOnStartVerticalAlign:"center",addOnEndVerticalAlign:"center",content:a};a=l!==void 0?b("bs_caml_option").some(i.jsx("div",{className:(h||(h=b("stylex")))(j.addOnEndContainer,b("CurrentEnvironment").messengerdotcom&&b("MAWGating.bs").isArmadillo(void 0)?j.addOnEndContainerForMessenger:j.addOnEndContainerForFB),children:b("bs_caml_option").valFromOption(l)})):void 0;a!==void 0&&(k.addOnEnd=b("bs_caml_option").valFromOption(a));l={overlayDisabled:g,xstyle:function(a){return[j.pressable,g?j.pressableSelected:!1,b("CurrentEnvironment").messengerdotcom&&b("MAWGating.bs").isArmadillo(void 0)?j.pressableForMessenger:j.pressableForFB]},children:i.jsx(b("BaseListCell.react"),k)};d!==void 0&&(l.linkProps=b("bs_caml_option").valFromOption(d));e!==void 0&&(l.onHoverIn=b("bs_caml_option").valFromOption(e));f!==void 0&&(l.onHoverOut=b("bs_caml_option").valFromOption(f));c!==void 0&&(l.onPress=b("bs_caml_option").valFromOption(c));return i.jsx(b("CometPressable.react"),l)}c=a;f.styles=j;f.make=c}),null);
__d("MWV2OnAuthoritativeThreadInsert.bs",["LSAuthorityLevel.bs","ReQL.bs","ReQLTable","SortedAsyncIterable.bs","bs_caml","bs_curry"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d){c=b("ReQLTable").table(c,"threads").index("clientThreadKey");c=c.asc;a=a[0];var e={contents:function(a){}};e.contents=b("SortedAsyncIterable.bs").subscribe(b("ReQL.bs").getKeyRange(c,{hd:a,tl:0}),function(a,c){if(typeof c==="number")return;a=c._0;if(b("bs_caml").i64_eq(a.Z,b("LSAuthorityLevel.bs").authoritative)){b("bs_curry")._1(d,a);return b("bs_curry")._1(e.contents,void 0)}})}f.onAuthoritativeThreadInsert=a}),null);
__d("MWThreadPreview.bs",["CometProgressRingIndeterminate.react","FBID.bs","LS.bs","LSAuthorityLevel.bs","LSContactGender.bs","LSContactIdType.bs","LSContactType.bs","LSContactVerifyContactRowExistsStoredProcedure","LSContactViewerRelationship.bs","LSContactWorkForeignEntityType.bs","LSInt64.bs","LSMailboxLocalCreateOptimisticGroupThreadStoredProcedure","LSMailboxVerifyThreadRowExistsStoredProcedure","LSMessagingThreadTypeUtil.bs","LSTransaction.bs","LSVec.bs","MWChatConnectionStatusCard.bs","MWChatTabNew.bs","MWLSActor.bs","MWThreadKey.bs","MWThread_DEPRECATED.bs","MWUIChatTabState.bs","MWV2OnAuthoritativeThreadInsert.bs","MessengerWebEvent","MessengerWebEventsFalcoEvent.bs","Promise","ReQL.bs","ReQLSubscription.bs","ReQLSuspense.bs","ReQLTable","ReStore.bs","bs_caml_format","bs_caml_option","bs_curry","bs_int64","promiseDone","react","stylex"],(function(a,b,c,d,e,f){"use strict";var g,h,i=g||b("react"),j={spinner:{display:"j83agx80",alignItems:"bp9cbjyn",justifyContent:"taijpn5t",flexGrow:"buofh1pr"},threadPreviewContainer:{display:"j83agx80",flexBasis:"rj1gh0hx",flexDirection:"cbu4d94t",flexGrow:"buofh1pr",fontSize:"jq4qci2q",zIndex:"du4w35lb"}};function a(a,b){}var k=i.createContext({hasContent:{contents:!1},isTabFocused:!1,onBeforeOpenTabForGroup:function(a){},openTabForUser:a,openTabForGroup:a,openTabForPage:a,submitted:!1});function l(a){var c=a.children,d=a.hasContent,e=a.isTabFocused,f=a.onBeforeOpenTabForGroup,g=a.openTabForUser,h=a.openTabForGroup;a=a.openTabForPage;var j=i.useState(function(){return!1}),l=j[1],m=i.useCallback(function(a){b("bs_curry")._1(l,function(a){return!0});return b("bs_curry")._1(f,void 0)},[l,f]);j=j[0];d={hasContent:d,isTabFocused:e,onBeforeOpenTabForGroup:m,openTabForUser:g,openTabForGroup:h,openTabForPage:a,submitted:j};return i.createElement(k.Provider,{value:d,children:c})}d={make:l};function m(a){var c=a.thread;a=c.a;var d=c.O,e=d!==void 0?b("LSInt64.bs").string(d)===b("LSInt64.bs").string(a):!1;d=b("LSMessagingThreadTypeUtil.bs").isGroup(a)||e?{NAME:"Group",VAL:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))}:{NAME:"User",VAL:b("FBID.bs").ofStringExn(b("bs_int64").to_string(a))};var f=i.useContext(k),g=f.submitted,l=f.openTabForGroup,m=f.onBeforeOpenTabForGroup,n=i.useMemo(function(){return function(a,c){b("bs_curry")._1(m,void 0);if(!e)return l(a,c)}},[l,e,m]);i.useEffect(function(){var a=c.O;a!==void 0&&g&&b("bs_int64").to_string(a)!==b("bs_int64").to_string(c.a)&&l(b("FBID.bs").ofStringExn(b("bs_int64").to_string(c.a)),!1)},[c,l,g]);return i.jsx("div",{className:(h||(h=b("stylex")))(j.threadPreviewContainer),children:i.jsx(b("MWThread_DEPRECATED.bs").make,{id:d,children:i.jsx(b("MWThreadKey.bs").make,{id:a,children:i.jsx(b("MWUIChatTabState.bs").Provider.make,{tab:{_0:d},children:i.jsx(b("MWChatTabNew.bs").ExistingThreadPreview.make,{isTabFocused:f.isTabFocused,hasContent:f.hasContent,openTabForGroup:n,openTabForUser:f.openTabForUser,openTabForPage:f.openTabForPage,isOptimisticThread:e})})})})})}e={make:m};function n(a){var c=a.threadKey,d=a.threadType,e=b("ReStore.bs").useHook(void 0);i.useEffect(function(){b("promiseDone")(b("LSTransaction.bs").run(e,function(a){return b("LSMailboxVerifyThreadRowExistsStoredProcedure")(b("bs_caml_format").caml_int64_of_string(c),d,b("bs_curry")._1(b("LS.bs").make,a))},"readWrite"),void 0,void 0)},[e,c,d]);a=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){return b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"threads").asc,{hd:b("bs_caml_format").caml_int64_of_string(c),tl:0})},[e,c]));if(a!==void 0)return i.jsx(m,{thread:a});else return i.jsx("div",{className:(h||(h=b("stylex")))(j.spinner),children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})})}var o={make:n};function p(a){var c=a.tokens,d=a.tokenContactIds,e=b("ReStore.bs").useHook(void 0),f=b("bs_int64").to_string(b("MWLSActor.bs").useActor(void 0)),g=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQLTable").table(e,"participants").asc,function(a){return d.has(b("bs_int64").to_string(a.b))}),function(a){return b("bs_int64").to_string(a.a)})},[e,d])),k=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=new Set(g);return b("ReQL.bs").filter(b("ReQL.bs").filter(b("ReQL.bs").filter(b("ReQLTable").table(e,"threads").asc,function(a){return a.d===void 0}),function(c){c=c.O;if(c!==void 0)return a.has(b("bs_int64").to_string(c));else return!1}),function(a){a=a.O;if(a===void 0)return!1;a=b("ReQLSuspense.bs").toArray(b("ReQL.bs").filter(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(e,"participants").index("threadKeyReadWatermarkTimestampMs").desc,{hd:a,tl:0}),function(a){return b("bs_int64").to_string(a.b)}),function(a){return a!==f}));if(a.every(function(a){return d.has(a)}))return a.length===d.size;else return!1})},[e,g,d,f])),l=i.useCallback(function(a){return b("LSTransaction.bs").run(e,function(c){return b("LSMailboxLocalCreateOptimisticGroupThreadStoredProcedure")(b("LSVec.bs").make(a),void 0,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite")},[e]),n=function(a){return b("MessengerWebEventsFalcoEvent.bs").log(function(){return{event_name:b("MessengerWebEvent").CREATE_THREAD}})};i.useEffect(function(){if(k===void 0){var a=b("bs_curry")._1(l,c.map(function(a){return b("bs_caml_format").caml_int64_of_string(a.b)}));a.then(function(a){b("MWV2OnAuthoritativeThreadInsert.bs").onAuthoritativeThreadInsert(a,e,n);return b("Promise").resolve(void 0)})}},[e,c,k]);if(k!==void 0)return i.jsx(m,{thread:k});else return i.jsx("div",{className:(h||(h=b("stylex")))(j.spinner),children:i.jsx(b("CometProgressRingIndeterminate.react"),{color:"disabled",size:24})})}var q={make:p};function r(a){var c=a.tokens,d=b("ReStore.bs").useHook(void 0),e=b("bs_int64").to_string(b("MWLSActor.bs").useActor(void 0)),f=i.useMemo(function(){return new Set(c.map(function(a){return a.b}))},[c]),g=b("ReQLSubscription.bs").useArray(i.useMemo(function(){return b("ReQL.bs").map(b("ReQL.bs").filter(b("ReQLTable").table(d,"participants").asc,function(a){return f.has(b("bs_int64").to_string(a.b))}),function(a){return b("bs_int64").to_string(a.a)})},[d,f]));a=b("ReQLSubscription.bs").useFirst(i.useMemo(function(){var a=new Set(g);return b("ReQL.bs").filter(b("ReQL.bs").filter(b("ReQL.bs").filter(b("ReQLTable").table(d,"threads").asc,function(a){return a.d===void 0}),function(c){return a.has(b("bs_int64").to_string(c.a))}),function(a){a=b("ReQLSuspense.bs").toArray(b("ReQL.bs").map(b("ReQL.bs").getKeyRange(b("ReQLTable").table(d,"participants").index("threadKeyReadWatermarkTimestampMs").desc,{hd:a.a,tl:0}),function(a){return b("bs_int64").to_string(a.b)}));var c=a.filter(function(a){return a!==e});if(a.length===c.length||c.length!==f.size)return!1;else return c.every(function(a){return f.has(a)})})},[d,g,f,e]));i.useEffect(function(){c.forEach(function(a){b("LSTransaction.bs").run(d,function(c){return b("LSContactVerifyContactRowExistsStoredProcedure")(b("bs_caml_format").caml_int64_of_string(a.b),b("LSContactIdType.bs").fbid,a.g,a.f,b("LSContactType.bs").user,void 0,void 0,void 0,void 0,!1,!1,a.l,void 0,!1,b("LSAuthorityLevel.bs").clientPartial,void 0,b("LSContactWorkForeignEntityType.bs").unknown,b("LSContactGender.bs").unknown,b("LSContactViewerRelationship.bs").unknown,void 0,b("bs_curry")._1(b("LS.bs").make,c))},"readWrite")})},[d,f]);if(a!==void 0)return i.jsx(m,{thread:a});else return i.jsx(p,{tokens:c,tokenContactIds:f})}var s={make:r};function c(a){var c=a.tokens,d=a.hasContent,e=a.isTabFocused,f=a.onBeforeOpenTabForGroup,g=a.openTabForUser,h=a.openTabForGroup,j=a.openTabForPage;a=a.empty;d=d!==void 0?d:{contents:!0};e=e!==void 0?e:!0;f=f!==void 0?f:function(a){};a=a!==void 0?b("bs_caml_option").valFromOption(a):null;var k=b("bs_int64").to_string(b("MWLSActor.bs").useActor(void 0)),m=i.useMemo(function(){var a=[];c.forEach(function(b){b=b.getServerSearchResult();if(!(b==null)){a.push(b);return}});return a},[c]),o,p=0,q=m.length;if(q>=3)p=1;else switch(q){case 0:o=a;break;case 1:q=m[0];o=i.jsx(n,{threadKey:q.b,threadType:q.e});break;case 2:a=m[0];q=m[1];a.b===k?o=i.jsx(n,{threadKey:q.b,threadType:q.e}):q.b===k?o=i.jsx(n,{threadKey:a.b,threadType:a.e}):p=1;break}p===1&&(o=i.jsx(r,{tokens:m.filter(function(a){return a.b!==k})}));return i.jsxs(l,{children:[i.jsx(b("MWChatConnectionStatusCard.bs").make,{}),o],hasContent:d,isTabFocused:e,onBeforeOpenTabForGroup:f,openTabForUser:g,openTabForGroup:h,openTabForPage:j})}c=c;f.styles=j;f.noOp=a;f.context=k;f.MWThreadPreviewContextProvider=d;f.ThreadPreview=e;f.OneOnOnePreview=o;f.GroupPreviewOptimistic=q;f.GroupPreview=s;f.make=c}),null);
__d("MercuryFilters.bs",[],(function(a,b,c,d,e,f){"use strict";var g="unread";function a(a){return[g]}function b(a){return a===g}c="all";d="groups";e="named";var h="unnamed",i="WORK_UNSYNCED_CHAT";f.all=c;f.unread=g;f.groups=d;f.named=e;f.unnamed=h;f.unsyncedChat=i;f.getSupportedFilters=a;f.isSupportedFilter=b}),null);