if (self.CavalryLogger) { CavalryLogger.start_js(["aTItoGh"]); }

__d("CometProgressRing.react",["BaseLoadingStateElement.react","CometProgressRingUtils","performanceNavigationStart","react","recoverableViolation","stylex"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useCallback,j=b.useEffect,k=b.useLayoutEffect,l=b.useMemo,m=b.useRef,n=b.useState,o=2,p={leftContainer:{bottom:"i09qtzwb",end:"oi4qjx4h",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},rightContainer:{bottom:"i09qtzwb",end:"n7fi1qx3",overflowX:"ni8dbmo4",overflowY:"stjgntxs",position:"pmk7jnqg",start:"kfkz5moi",top:"kr520xx4"},root:{bottom:"i09qtzwb",boxSizing:"rq0escxv",end:"n7fi1qx3",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4"},rootDiv:{position:"l9j0dhe7"},svgFromLeft:{bottom:"i09qtzwb",boxSizing:"rq0escxv",position:"pmk7jnqg",start:"j9ispegn",top:"kr520xx4",end:"n1wid1uc",transformOrigin:"ibn2g74t"},svgFromRight:{bottom:"i09qtzwb",boxSizing:"rq0escxv",end:"n7fi1qx3",position:"pmk7jnqg",top:"kr520xx4",start:"s084nw3x",transformOrigin:"ibn2g74t"}},q=d("CometProgressRingUtils").getCubicBezierPercentageFunc(.45,0,.25,.85);function a(a){var b=a.beginningPercentage,e=a.color,f=a.duration,g=a.explicitStartTime,t=a.onComplete,u=a.pause,v=a.percentage,w=a.size,x=a.type;x!=="default"&&v!=null&&c("recoverableViolation")("percentage should only be applied to default type","comet_ui");var y=m(null),z=m(null),A=m(null),B=m(null),C=m(null);a=n(!0);var D=a[0],E=a[1];a=r(x,v,b);b=a.completedPercentage;var F=a.finalPercentage;a=a.startPercentage;var G=m(a),H=m(F),I=m(b);a=d("CometProgressRingUtils").getRingColor(e);var J=a.backgroundColor,K=a.foregroundColor,L=i(function(a){var b=z.current,d=A.current;if(b==null||d==null)return;if(!(b instanceof SVGSVGElement)||!(d instanceof SVGSVGElement))return;if(x==="default"&&u===!0)return;C.current==null&&(C.current=g!=null?g-c("performanceNavigationStart")():a);if(x==="estimated")if(I.current>75)I.current+=.3*Math.pow((100-I.current)/50,2);else{var e=(a-C.current)/f/1e3;e=q(e);I.current=e*75}else if(x==="default"&&I.current<H.current){e=(a-C.current)/1e3/f*100;I.current=Math.min(e,100)}else if(x==="count-down"&&I.current>H.current){e=(a-C.current)/1e3/f*100;I.current=G.current-e;I.current=Math.max(I.current,0)}a=Math.max(0,Math.min(100,I.current))/100*360;b.style.transform="rotate("+Math.min(a,180)+"deg)";d.style.transform="rotate("+Math.max(a-180,0)+"deg)";s(x,I.current,v)?(window.cancelAnimationFrame(B.current),b.style.opacity="0",d.style.opacity="0",C.current=null,B.current=null,y.current instanceof SVGSVGElement&&(y.current.style.opacity="0"),t&&t()):B.current=window.requestAnimationFrame(L)},[f,g,t,u,v,x]);k(function(){D&&E(!D)},[D]);j(function(){if(window.requestAnimationFrame!=null){B.current=window.requestAnimationFrame(L);return function(){B.current!=null&&(C.current=null,window.cancelAnimationFrame(B.current),B.current=null)}}},[w,L]);var M=(w-o)*Math.PI;F=l(function(){return h.jsxs(h.Fragment,{children:[h.jsx("svg",{className:c("stylex")(p.root),height:w,ref:y,viewBox:"0 0 "+w+" "+w,width:w,children:h.jsx("circle",{cx:w/2,cy:w/2,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:(w-o)/2,stroke:J,strokeLinecap:"round",strokeWidth:o})}),h.jsx("div",{className:c("stylex")(p.rightContainer),children:h.jsx("svg",{className:c("stylex")(p.svgFromRight),height:w,ref:z,viewBox:"0 0 "+w+" "+w,width:w,children:h.jsx("circle",{cx:w/2,cy:w/2,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:(w-o)/2,stroke:K,strokeDasharray:M/2,strokeDashoffset:3*M/4,strokeWidth:o,style:{visibility:D?"hidden":void 0}})})}),h.jsx("div",{className:c("stylex")(p.leftContainer),children:h.jsx("svg",{className:c("stylex")(p.svgFromLeft),height:w,ref:A,viewBox:"0 0 "+w+" "+w,width:w,children:h.jsx("circle",{cx:w/2,cy:w/2,fill:"none","non-scaling-stroke":"non-scaling-stroke",r:(w-o)/2,stroke:K,strokeDasharray:M/2,strokeDashoffset:M/4,strokeWidth:o,style:{visibility:D?"hidden":void 0}})})})]})},[w,J,K,M,D]);return h.jsx(c("BaseLoadingStateElement.react"),{style:{height:w,width:w},xstyle:p.rootDiv,children:F})}a.displayName=a.name+" [from "+f.id+"]";function r(a,b,c){switch(a){case"default":return{completedPercentage:(a=c)!=null?a:0,finalPercentage:(a=b)!=null?a:100,startPercentage:(b=c)!=null?b:0};case"count-down":return{completedPercentage:100,finalPercentage:0,startPercentage:100};case"estimated":return{completedPercentage:0,finalPercentage:75,startPercentage:0};default:return{completedPercentage:0,finalPercentage:0,startPercentage:0}}}function s(a,b,c){return a==="count-down"?b<=0||b>100:b>=((a=c)!=null?a:100)}g["default"]=a}),98);
__d("VideoPlayerDebugInstreamAdsAPI",["cr:1484071","emptyFunction"],(function(a,b,c,d,e,f,g){"use strict";d=(a=b("cr:1484071"))!=null?a:{useVideoPlayerDebugAPI:c("emptyFunction").thatReturns(null),useVideoPlayerDebugAPIDefinition:c("emptyFunction"),useVideoPlayerDebugInfo:c("emptyFunction").thatReturns(null)};g["default"]=d}),98);
__d("InstreamAdsConfig",["PMVInterruptionsWWWSitevarConfig","gkx","qex"],(function(a,b,c,d,e,f,g){"use strict";var h=1e4,i=15e3,j=5e3,k=200,l=200,m=3e3,n=3e5,o=6e4,p=2e3,q=300,r=6e4,s=6e4,t=3e5,u=1e3,v=3e3,w=16,x=15,y=5,z=200;function a(){var a;return(a=c("qex")._("1927144"))!=null?a:v}function b(){var a;return(a=c("qex")._("1914425"))!=null?a:u}function d(){var a;return(a=c("qex")._("1787994"))!=null?a:p}function e(){var a;return c("gkx")("1803216")?o:(a=c("qex")._("1791972"))!=null?a:n}function f(){return i}function A(){return j}function B(){var a;return(a=c("qex")._("1236073"))!=null?a:k}function C(){var a;return(a=c("qex")._("1236072"))!=null?a:h}function D(){return q}function E(){var a;return(a=c("qex")._("1236074"))!=null?a:l}function F(){var a;return(a=c("qex")._("1236075"))!=null?a:m}function G(){return c("PMVInterruptionsWWWSitevarConfig").pmv_pre_roll_fetch_timeout_ms}function H(){var a;return(a=c("qex")._("1635709"))!=null?a:r}function I(){var a;return(a=c("qex")._("1635710"))!=null?a:s}function J(){var a;return(a=c("qex")._("1635711"))!=null?a:t}g.DEFAULT_LONGER_AD_DURATION=w;g.DEFAULT_AD_COMPLETION_DURATION=x;g.DEFAULT_SKIPPABLE_TIME_THRESHOLD=y;g.DEFAULT_FETCH_TIME_INTERVAL_MS=z;g.getNonPmvMaxFetchTimeMS=a;g.getHaloStartFetchTimeMS=b;g.getNonLiveBeginningTransitionTimeMS=d;g.getNonLiveMidrollGapRuleMS=e;g.getPostRollPreFetchTimeMs=f;g.getPostRollPreFetchEndTimeMs=A;g.getPreFetchTimeDeltaMs=B;g.getPreFetchTimeMs=C;g.getRecheckStartMs=D;g.getStartDeltaMs=E;g.getStartingIndicatorMs=F;g.getPMVInterruptionsPreRollFetchTimeMs=G;g.getUnifiedSchedulerStartDelayMs=H;g.getUnifiedSchedulerFrequencyMs=I;g.getUnifiedSchedulerConsecutiveAdFetchIntervalMs=J}),98);
__d("InstreamAdsExtraFieldsContext",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=d("react").useContext,i=b.createContext(null);function a(){return h(i)}g.InstreamAdsExtraFieldsContext=i;g.useInstreamAdsExtraFieldsContext=a}),98);
__d("InstreamAdsHideAdBehaviorContext",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=d("react").useContext,i=b.createContext(null);function a(){return h(i)}g.InstreamAdsHideAdBehaviorContext=i;g.useInstreamAdsHideAdBehavior=a}),98);
__d("InstreamAdsPalmStateContext",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=d("react").useContext,i=b.createContext("INIT");function a(){return h(i)}g.InstreamAdsPalmStateContext=i;g.useInstreamAdsPalmStateContext=a}),98);
__d("InstreamPalmStateManagerContext",["react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=d("react").useContext;c={setCurrentInsertion:function(){},setExtraFields:function(){},setHideAdBehavior:function(){},setIsEmpty:function(){},setState:function(){}};var i=b.createContext(c);function a(){return h(i)}g.InstreamPalmStateManagerContext=i;g.useInstreamPalmStateManager=a}),98);
__d("useInstreamAdsStoryPlaybackControl",["InstreamAdsExtraFieldsContext","InstreamAdsPalmStateContext","InstreamPalmStateManagerContext","VideoPlayerHooks","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a){var b=a.freezeTokenRef,c=a.organicController,e=a.previousPlaceDescription,f=d("InstreamAdsPalmStateContext").useInstreamAdsPalmStateContext(),g=d("InstreamPalmStateManagerContext").useInstreamPalmStateManager(),j=d("VideoPlayerHooks").useEnded(),k=d("VideoPlayerHooks").useController(),l=d("InstreamAdsExtraFieldsContext").useInstreamAdsExtraFieldsContext();h(function(){switch(f){case"START":c.pause("commercial_break");i(b,c);break;case"START_AD":var a=c.getCurrentState(),d=a.muted;a=a.volume;k.setMuted(d,"commercial_break");k.setVolume(a);c.pause("commercial_break");i(b,c);break;case"PLAY_NI_VIDEO":c.pause("commercial_break");d=c.getCurrentState();a=d.muted;d=d.volume;k.setMuted(a,"commercial_break");k.setVolume(d);i(b,c);break;case"PLAY_LONGER_AD":c.pause("commercial_break");a=c.getCurrentState();d=a.muted;a=a.volume;k.setMuted(d,"commercial_break");k.setVolume(a);i(b,c);break}switch(e){case"tahoe":i(b,c,function(){c.setMuted(!0,"tahoe_transition_phase_initiated")});k.setMuted(!0,"tahoe_transition_phase_initiated");return;case"watch_and_scroll":i(b,c,function(){c.setMuted(!0,"watch_and_scroll_transition_phase_initiated")});k.setMuted(!0,"watch_and_scroll_transition_phase_initiated");return}},[f,c,k,b,e]);h(function(){j&&(g.setState("END"),g.setExtraFields(Object.assign(l||{},{adPlaytime:0,watchTillEnd:j})))},[j,l,g]);h(function(){var a=function(){k.pause("user_initiated")},b=function(){g.setState("END")};g.setHideAdBehavior({onClose:b,onOpen:a})},[k,g])}function i(a,b,c){if(c)a.current&&(b.unfreeze(a.current),a.current=null),c(),i(a,b);else{a.current=(c=a.current)!=null?c:b.freeze()}}g["default"]=a}),98);
__d("useBrowserStorage",["FBLogger","isStringNullOrEmpty","react"],(function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect,j=b.useRef,k=b.useState;function a(a,b,d){function e(){if(!a)return d;var e=a.getItem(b);try{return c("isStringNullOrEmpty")(e)?d:JSON.parse(e)}catch(a){return d}}e=k(e);var f=e[0],g=e[1],l=j(f),m=j(!1);i(function(){if(!a)return;function d(d){if(!m.current)return;d=JSON.stringify(d);if(d==null)return;try{a.setItem(b,d),m.current=!1}catch(b){d=b;d!=null&&d.code===22&&a.clear();var e=c("FBLogger")("use_local_storage");d instanceof Error&&(e=e.catching(d));e.warn("Cannot save to local storage.")}}d(f);return function(){d(l.current)}},[b,a,f]);e=h(function(a){typeof a==="function"?l.current=a(l.current):l.current=a;m.current=!0;return g(a)},[]);return[f,e]}g["default"]=a}),98);
__d("useLocalStorage",["WebStorage","useBrowserStorage"],(function(a,b,c,d,e,f,g){"use strict";var h=c("WebStorage").getLocalStorage();function a(a,b){return c("useBrowserStorage")(h,a,b)}g["default"]=a}),98);